(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[901],{7928:function(n){"use strict";var a=Object.assign||function(n){for(var a=1;a<arguments.length;a++){var h=arguments[a];for(var b in h)Object.prototype.hasOwnProperty.call(h,b)&&(n[b]=h[b])}return n},h={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},b={"–":"\\--","—":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"};n.exports=function(n){for(var N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},w=N.preserveFormatting,_=N.escapeMapFn,D=String(n),E="",A=(void 0===_?function(n,h){return a({},n,h)}:_)(a({},h),void 0!==w&&w?a({},b):{}),M=Object.keys(A);D;)!function(){var n=!1;M.forEach(function(a,h){!n&&D.length>=a.length&&D.slice(0,a.length)===a&&(E+=A[M[h]],D=D.slice(a.length,D.length),n=!0)}),n||(E+=D.slice(0,1),D=D.slice(1,D.length))}();return E}},3228:function(n){n.exports=function naturalSort(n,a){"use strict";var h,b,N=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,w=/(^[ ]*|[ ]*$)/g,_=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,D=/^0x[0-9a-f]+$/i,E=/^0/,i=function(n){return naturalSort.insensitive&&(""+n).toLowerCase()||""+n},A=i(n).replace(w,"")||"",M=i(a).replace(w,"")||"",B=A.replace(N,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),I=M.replace(N,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),z=parseInt(A.match(D),16)||1!==B.length&&A.match(_)&&Date.parse(A),q=parseInt(M.match(D),16)||z&&M.match(_)&&Date.parse(M)||null;if(q){if(z<q)return -1;if(z>q)return 1}for(var j=0,L=Math.max(B.length,I.length);j<L;j++){if(h=!(B[j]||"").match(E)&&parseFloat(B[j])||B[j]||0,b=!(I[j]||"").match(E)&&parseFloat(I[j])||I[j]||0,isNaN(h)!==isNaN(b))return isNaN(h)?1:-1;if(typeof h!=typeof b&&(h+="",b+=""),h<b)return -1;if(h>b)return 1}return 0}},6377:function(n,a,h){var b=h(4832),N=h(8652),w=h(801),_=h(8674),D=h(3618),E=h(9049),A=h(1971);A.alea=b,A.xor128=N,A.xorwow=w,A.xorshift7=_,A.xor4096=D,A.tychei=E,n.exports=A},4832:function(n,a,h){var b;!function(n,N,w){function Alea(n){var a,h=this,b=(a=4022871197,function(n){n=String(n);for(var h=0;h<n.length;h++){var b=.02519603282416938*(a+=n.charCodeAt(h));a=b>>>0,b-=a,b*=a,a=b>>>0,b-=a,a+=4294967296*b}return(a>>>0)*23283064365386963e-26});h.next=function(){var n=2091639*h.s0+23283064365386963e-26*h.c;return h.s0=h.s1,h.s1=h.s2,h.s2=n-(h.c=0|n)},h.c=1,h.s0=b(" "),h.s1=b(" "),h.s2=b(" "),h.s0-=b(n),h.s0<0&&(h.s0+=1),h.s1-=b(n),h.s1<0&&(h.s1+=1),h.s2-=b(n),h.s2<0&&(h.s2+=1)}function copy(n,a){return a.c=n.c,a.s0=n.s0,a.s1=n.s1,a.s2=n.s2,a}function impl(n,a){var h=new Alea(n),b=a&&a.state,N=h.next;return N.int32=function(){return 4294967296*h.next()|0},N.double=function(){return N()+(2097152*N()|0)*11102230246251565e-32},N.quick=N,b&&("object"==typeof b&&copy(b,h),N.state=function(){return copy(h,{})}),N}N&&N.exports?N.exports=impl:h.amdD&&h.amdO?void 0!==(b=(function(){return impl}).call(a,h,a,N))&&(N.exports=b):this.alea=impl}(0,n=h.nmd(n),h.amdD)},9049:function(n,a,h){var b;!function(n,N,w){function XorGen(n){var a=this,h="";a.next=function(){var n=a.b,h=a.c,b=a.d,N=a.a;return n=n<<25^n>>>7^h,h=h-b|0,b=b<<24^b>>>8^N,N=N-n|0,a.b=n=n<<20^n>>>12^h,a.c=h=h-b|0,a.d=b<<16^h>>>16^N,a.a=N-n|0},a.a=0,a.b=0,a.c=-1640531527,a.d=1367130551,n===Math.floor(n)?(a.a=n/4294967296|0,a.b=0|n):h+=n;for(var b=0;b<h.length+20;b++)a.b^=0|h.charCodeAt(b),a.next()}function copy(n,a){return a.a=n.a,a.b=n.b,a.c=n.c,a.d=n.d,a}function impl(n,a){var h=new XorGen(n),b=a&&a.state,prng=function(){return(h.next()>>>0)/4294967296};return prng.double=function(){do var n=((h.next()>>>11)+(h.next()>>>0)/4294967296)/2097152;while(0===n);return n},prng.int32=h.next,prng.quick=prng,b&&("object"==typeof b&&copy(b,h),prng.state=function(){return copy(h,{})}),prng}N&&N.exports?N.exports=impl:h.amdD&&h.amdO?void 0!==(b=(function(){return impl}).call(a,h,a,N))&&(N.exports=b):this.tychei=impl}(0,n=h.nmd(n),h.amdD)},8652:function(n,a,h){var b;!function(n,N,w){function XorGen(n){var a=this,h="";a.x=0,a.y=0,a.z=0,a.w=0,a.next=function(){var n=a.x^a.x<<11;return a.x=a.y,a.y=a.z,a.z=a.w,a.w^=a.w>>>19^n^n>>>8},n===(0|n)?a.x=n:h+=n;for(var b=0;b<h.length+64;b++)a.x^=0|h.charCodeAt(b),a.next()}function copy(n,a){return a.x=n.x,a.y=n.y,a.z=n.z,a.w=n.w,a}function impl(n,a){var h=new XorGen(n),b=a&&a.state,prng=function(){return(h.next()>>>0)/4294967296};return prng.double=function(){do var n=((h.next()>>>11)+(h.next()>>>0)/4294967296)/2097152;while(0===n);return n},prng.int32=h.next,prng.quick=prng,b&&("object"==typeof b&&copy(b,h),prng.state=function(){return copy(h,{})}),prng}N&&N.exports?N.exports=impl:h.amdD&&h.amdO?void 0!==(b=(function(){return impl}).call(a,h,a,N))&&(N.exports=b):this.xor128=impl}(0,n=h.nmd(n),h.amdD)},3618:function(n,a,h){var b;!function(n,N,w){function XorGen(n){var a=this;a.next=function(){var n,h,b=a.w,N=a.X,w=a.i;return a.w=b=b+1640531527|0,h=N[w+34&127],n=N[w=w+1&127],h^=h<<13,n^=n<<17,h^=h>>>15,n^=n>>>12,h=N[w]=h^n,a.i=w,h+(b^b>>>16)|0},function(n,a){var h,b,N,w,_,D=[],E=128;for(a===(0|a)?(b=a,a=null):(a+="\x00",b=0,E=Math.max(E,a.length)),N=0,w=-32;w<E;++w)a&&(b^=a.charCodeAt((w+32)%a.length)),0===w&&(_=b),b^=b<<10,b^=b>>>15,b^=b<<4,b^=b>>>13,w>=0&&(_=_+1640531527|0,N=0==(h=D[127&w]^=b+_)?N+1:0);for(N>=128&&(D[127&(a&&a.length||0)]=-1),N=127,w=512;w>0;--w)b=D[N+34&127],h=D[N=N+1&127],b^=b<<13,h^=h<<17,b^=b>>>15,h^=h>>>12,D[N]=b^h;n.w=_,n.X=D,n.i=N}(a,n)}function copy(n,a){return a.i=n.i,a.w=n.w,a.X=n.X.slice(),a}function impl(n,a){null==n&&(n=+new Date);var h=new XorGen(n),b=a&&a.state,prng=function(){return(h.next()>>>0)/4294967296};return prng.double=function(){do var n=((h.next()>>>11)+(h.next()>>>0)/4294967296)/2097152;while(0===n);return n},prng.int32=h.next,prng.quick=prng,b&&(b.X&&copy(b,h),prng.state=function(){return copy(h,{})}),prng}N&&N.exports?N.exports=impl:h.amdD&&h.amdO?void 0!==(b=(function(){return impl}).call(a,h,a,N))&&(N.exports=b):this.xor4096=impl}(0,n=h.nmd(n),h.amdD)},8674:function(n,a,h){var b;!function(n,N,w){function XorGen(n){var a=this;a.next=function(){var n,h,b=a.x,N=a.i;return n=b[N],n^=n>>>7,h=n^n<<24^((n=b[N+1&7])^n>>>10)^((n=b[N+3&7])^n>>>3)^((n=b[N+4&7])^n<<7),n=b[N+7&7],n^=n<<13,h^=n^n<<9,b[N]=h,a.i=N+1&7,h},function(n,a){var h,b=[];if(a===(0|a))b[0]=a;else for(h=0,a=""+a;h<a.length;++h)b[7&h]=b[7&h]<<15^a.charCodeAt(h)+b[h+1&7]<<13;for(;b.length<8;)b.push(0);for(h=0;h<8&&0===b[h];++h);for(8==h?b[7]=-1:b[h],n.x=b,n.i=0,h=256;h>0;--h)n.next()}(a,n)}function copy(n,a){return a.x=n.x.slice(),a.i=n.i,a}function impl(n,a){null==n&&(n=+new Date);var h=new XorGen(n),b=a&&a.state,prng=function(){return(h.next()>>>0)/4294967296};return prng.double=function(){do var n=((h.next()>>>11)+(h.next()>>>0)/4294967296)/2097152;while(0===n);return n},prng.int32=h.next,prng.quick=prng,b&&(b.x&&copy(b,h),prng.state=function(){return copy(h,{})}),prng}N&&N.exports?N.exports=impl:h.amdD&&h.amdO?void 0!==(b=(function(){return impl}).call(a,h,a,N))&&(N.exports=b):this.xorshift7=impl}(0,n=h.nmd(n),h.amdD)},801:function(n,a,h){var b;!function(n,N,w){function XorGen(n){var a=this,h="";a.next=function(){var n=a.x^a.x>>>2;return a.x=a.y,a.y=a.z,a.z=a.w,a.w=a.v,(a.d=a.d+362437|0)+(a.v=a.v^a.v<<4^(n^n<<1))|0},a.x=0,a.y=0,a.z=0,a.w=0,a.v=0,n===(0|n)?a.x=n:h+=n;for(var b=0;b<h.length+64;b++)a.x^=0|h.charCodeAt(b),b==h.length&&(a.d=a.x<<10^a.x>>>4),a.next()}function copy(n,a){return a.x=n.x,a.y=n.y,a.z=n.z,a.w=n.w,a.v=n.v,a.d=n.d,a}function impl(n,a){var h=new XorGen(n),b=a&&a.state,prng=function(){return(h.next()>>>0)/4294967296};return prng.double=function(){do var n=((h.next()>>>11)+(h.next()>>>0)/4294967296)/2097152;while(0===n);return n},prng.int32=h.next,prng.quick=prng,b&&("object"==typeof b&&copy(b,h),prng.state=function(){return copy(h,{})}),prng}N&&N.exports?N.exports=impl:h.amdD&&h.amdO?void 0!==(b=(function(){return impl}).call(a,h,a,N))&&(N.exports=b):this.xorwow=impl}(0,n=h.nmd(n),h.amdD)},1971:function(n,a,h){var b;!function(N,w,_){var D,E=_.pow(256,6),A=_.pow(2,52),M=2*A;function seedrandom(n,a,h){var b=[],B=mixkey(function flatten(n,a){var h,b=[],N=typeof n;if(a&&"object"==N)for(h in n)try{b.push(flatten(n[h],a-1))}catch(n){}return b.length?b:"string"==N?n:n+"\x00"}((a=!0==a?{entropy:!0}:a||{}).entropy?[n,tostring(w)]:null==n?function(){try{var n;return D&&(n=D.randomBytes)?n=n(256):(n=new Uint8Array(256),(N.crypto||N.msCrypto).getRandomValues(n)),tostring(n)}catch(n){var a=N.navigator,h=a&&a.plugins;return[+new Date,N,h,N.screen,tostring(w)]}}():n,3),b),I=new ARC4(b),prng=function(){for(var n=I.g(6),a=E,h=0;n<A;)n=(n+h)*256,a*=256,h=I.g(1);for(;n>=M;)n/=2,a/=2,h>>>=1;return(n+h)/a};return prng.int32=function(){return 0|I.g(4)},prng.quick=function(){return I.g(4)/4294967296},prng.double=prng,mixkey(tostring(I.S),w),(a.pass||h||function(n,a,h,b){return(b&&(b.S&&copy(b,I),n.state=function(){return copy(I,{})}),h)?(_.random=n,a):n})(prng,B,"global"in a?a.global:this==_,a.state)}function ARC4(n){var a,h=n.length,b=this,N=0,w=b.i=b.j=0,_=b.S=[];for(h||(n=[h++]);N<256;)_[N]=N++;for(N=0;N<256;N++)_[N]=_[w=255&w+n[N%h]+(a=_[N])],_[w]=a;(b.g=function(n){for(var a,h=0,N=b.i,w=b.j,_=b.S;n--;)a=_[N=255&N+1],h=256*h+_[255&(_[N]=_[w=255&w+a])+(_[w]=a)];return b.i=N,b.j=w,h})(256)}function copy(n,a){return a.i=n.i,a.j=n.j,a.S=n.S.slice(),a}function mixkey(n,a){for(var h,b=n+"",N=0;N<b.length;)a[255&N]=255&(h^=19*a[255&N])+b.charCodeAt(N++);return tostring(a)}function tostring(n){return String.fromCharCode.apply(0,n)}if(mixkey(_.random(),w),n.exports){n.exports=seedrandom;try{D=h(5042)}catch(n){}}else void 0!==(b=(function(){return seedrandom}).call(a,h,a,n))&&(n.exports=b)}("undefined"!=typeof self?self:this,[],Math)},4814:function(n){n.exports=function(){"use strict";function ok(){return!0}function notOk(){return!1}function undef(){}let n="Argument is not a typed-function.";return function create(){let a,h;function isPlainObject(n){return"object"==typeof n&&null!==n&&n.constructor===Object}let b=[{name:"number",test:function(n){return"number"==typeof n}},{name:"string",test:function(n){return"string"==typeof n}},{name:"boolean",test:function(n){return"boolean"==typeof n}},{name:"Function",test:function(n){return"function"==typeof n}},{name:"Array",test:Array.isArray},{name:"Date",test:function(n){return n instanceof Date}},{name:"RegExp",test:function(n){return n instanceof RegExp}},{name:"Object",test:isPlainObject},{name:"null",test:function(n){return null===n}},{name:"undefined",test:function(n){return void 0===n}}],N={name:"any",test:ok,isAny:!0},w=0,_={createCount:0};function findType(n){let b;let N=a.get(n);if(N)return N;let w='Unknown type "'+n+'"',_=n.toLowerCase();for(b of h)if(b.toLowerCase()===_){w+='. Did you mean "'+b+'" ?';break}throw TypeError(w)}function addTypes(n){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any",N=b?findType(b).index:h.length,w=[];for(let h=0;h<n.length;++h){if(!n[h]||"string"!=typeof n[h].name||"function"!=typeof n[h].test)throw TypeError("Object with properties {name: string, test: function} expected");let b=n[h].name;if(a.has(b))throw TypeError('Duplicate type name "'+b+'"');w.push(b),a.set(b,{name:b,test:n[h].test,isAny:n[h].isAny,index:N+h,conversionsTo:[]})}let _=h.slice(N);h=h.slice(0,N).concat(w).concat(_);for(let n=N+w.length;n<h.length;++n)a.get(h[n]).index=n}function clear(){a=new Map,h=[],w=0,addTypes([N],!1)}function findTypeNames(n){let b=h.filter(h=>{let b=a.get(h);return!b.isAny&&b.test(n)});return b.length?b:["any"]}function isTypedFunction(n){return n&&"function"==typeof n&&"_typedFunctionData"in n}function findSignature(a,h,b){let N,w;if(!isTypedFunction(a))throw TypeError(n);let _=b&&b.exact,D=Array.isArray(h)?h.join(","):h,E=parseSignature(D),A=stringifyParams(E);if(!_||A in a.signatures){let n=a._typedFunctionData.signatureMap.get(A);if(n)return n}let M=E.length;if(_){let n;for(n in N=[],a.signatures)N.push(a._typedFunctionData.signatureMap.get(n))}else N=a._typedFunctionData.signatures;for(let n=0;n<M;++n){let a;let h=E[n],b=[];for(a of N){let N=getParamAtIndex(a.params,n);if(N&&(!h.restParam||N.restParam)){if(!N.hasAny){let n=paramTypeSet(N);if(h.types.some(a=>!n.has(a.name)))continue}b.push(a)}}if(0===(N=b).length)break}for(w of N)if(w.params.length<=M)return w;throw TypeError("Signature not found (signature: "+(a.name||"unnamed")+"("+stringifyParams(E,", ")+"))")}function stringifyParams(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return n.map(n=>n.name).join(a)}function expandParam(n){let a=n.types.map(n=>n.name),h=function(n){if(0===n.length)return[];let a=n.map(findType);n.length>1&&a.sort((n,a)=>n.index-a.index);let h=a[0].conversionsTo;if(1===n.length)return h;h=h.concat([]);let b=new Set(n);for(let n=1;n<a.length;++n){let N;for(N of a[n].conversionsTo)b.has(N.from)||(h.push(N),b.add(N.from))}return h}(a),b=n.hasAny,N=n.name,w=h.map(function(n){let a=findType(n.from);return b=a.isAny||b,N+="|"+n.from,{name:n.from,typeIndex:a.index,test:a.test,isAny:a.isAny,conversion:n,conversionIndex:n.index}});return{types:n.types.concat(w),name:N,hasAny:b,hasConversion:w.length>0,restParam:n.restParam}}function paramTypeSet(n){return n.typeSet||(n.typeSet=new Set,n.types.forEach(a=>n.typeSet.add(a.name))),n.typeSet}function parseSignature(n){let a=[];if("string"!=typeof n)throw TypeError("Signatures must be strings");let h=n.trim();if(""===h)return a;let b=h.split(",");for(let n=0;n<b.length;++n){let h=function(n){let a=0===n.indexOf("..."),h=a?n.length>3?n.slice(3):"any":n,b=h.split("|").map(n=>findType(n.trim())),N=!1,w=a?"...":"",_=b.map(function(n){return N=n.isAny||N,w+=n.name+"|",{name:n.name,typeIndex:n.index,test:n.test,isAny:n.isAny,conversion:null,conversionIndex:-1}});return{types:_,name:w.slice(0,-1),hasAny:N,hasConversion:!1,restParam:a}}(b[n].trim());if(h.restParam&&n!==b.length-1)throw SyntaxError('Unexpected rest parameter "'+b[n]+'": only allowed for the last parameter');if(0===h.types.length)return null;a.push(h)}return a}function hasRestParam(n){let a=last(n);return!!a&&a.restParam}function compileTest(n){if(!n||0===n.types.length)return ok;if(1===n.types.length)return findType(n.types[0].name).test;if(2===n.types.length){let a=findType(n.types[0].name).test,h=findType(n.types[1].name).test;return function(n){return a(n)||h(n)}}{let a=n.types.map(function(n){return findType(n.name).test});return function(n){for(let h=0;h<a.length;h++)if(a[h](n))return!0;return!1}}}function getParamAtIndex(n,a){return a<n.length?n[a]:hasRestParam(n)?last(n):null}function getTypeSetAtIndex(n,a){let h=getParamAtIndex(n,a);return h?paramTypeSet(h):new Set}function isExactType(n){return null===n.conversion||void 0===n.conversion}function mergeExpectedParams(n,a){let h=new Set;return n.forEach(n=>{let b;let N=getTypeSetAtIndex(n.params,a);for(b of N)h.add(b)}),h.has("any")?["any"]:Array.from(h)}function createError(n,a,h){let b,N,w;let _=n||"unnamed",D=h;for(w=0;w<a.length;w++){let n=[];if(D.forEach(h=>{let b=getParamAtIndex(h.params,w),N=compileTest(b);(w<h.params.length||hasRestParam(h.params))&&N(a[w])&&n.push(h)}),0===n.length){if((N=mergeExpectedParams(D,w)).length>0){let n=findTypeNames(a[w]);return(b=TypeError("Unexpected type of argument in function "+_+" (expected: "+N.join(" or ")+", actual: "+n.join(" | ")+", index: "+w+")")).data={category:"wrongType",fn:_,index:w,actual:n,expected:N},b}}else D=n}let E=D.map(function(n){return hasRestParam(n.params)?1/0:n.params.length});if(a.length<Math.min.apply(null,E))return(b=TypeError("Too few arguments in function "+_+" (expected: "+(N=mergeExpectedParams(D,w)).join(" or ")+", index: "+a.length+")")).data={category:"tooFewArgs",fn:_,index:a.length,expected:N},b;let A=Math.max.apply(null,E);if(a.length>A)return(b=TypeError("Too many arguments in function "+_+" (expected: "+A+", actual: "+a.length+")")).data={category:"tooManyArgs",fn:_,index:a.length,expectedLength:A},b;let M=[];for(let n=0;n<a.length;++n)M.push(findTypeNames(a[n]).join("|"));return(b=TypeError('Arguments of type "'+M.join(", ")+'" do not match any of the defined signatures of function '+_+".")).data={category:"mismatch",actual:M},b}function getLowestTypeIndex(n){let a=h.length+1;for(let h=0;h<n.types.length;h++)isExactType(n.types[h])&&(a=Math.min(a,n.types[h].typeIndex));return a}function getLowestConversionIndex(n){let a=w+1;for(let h=0;h<n.types.length;h++)isExactType(n.types[h])||(a=Math.min(a,n.types[h].conversionIndex));return a}function compareSignatures(n,a){let h,b;let N=n.params,w=a.params,_=last(N),D=last(w),E=hasRestParam(N),A=hasRestParam(w);if(E&&_.hasAny){if(!A||!D.hasAny)return 1}else if(A&&D.hasAny)return -1;let M=0,B=0;for(h of N)h.hasAny&&++M,h.hasConversion&&++B;let I=0,z=0;for(h of w)h.hasAny&&++I,h.hasConversion&&++z;if(M!==I)return M-I;if(E&&_.hasConversion){if(!A||!D.hasConversion)return 1}else if(A&&D.hasConversion)return -1;if(B!==z)return B-z;if(E){if(!A)return 1}else if(A)return -1;let q=(N.length-w.length)*(E?-1:1);if(0!==q)return q;let j=[],L=0;for(let n=0;n<N.length;++n){let a=function(n,a){if(n.hasAny){if(!a.hasAny)return 1}else if(a.hasAny)return -1;if(n.restParam){if(!a.restParam)return 1}else if(a.restParam)return -1;if(n.hasConversion){if(!a.hasConversion)return 1}else if(a.hasConversion)return -1;let h=getLowestTypeIndex(n)-getLowestTypeIndex(a);if(h<0)return -1;if(h>0)return 1;let b=getLowestConversionIndex(n)-getLowestConversionIndex(a);return b<0?-1:b>0?1:0}(N[n],w[n]);j.push(a),L+=a}if(0!==L)return L;for(b of j)if(0!==b)return b;return 0}function compileArgConversion(n){let a,h,b,N;let w=[],_=[];switch(n.types.forEach(function(n){n.conversion&&(w.push(findType(n.conversion.from).test),_.push(n.conversion.convert))}),_.length){case 0:return function(n){return n};case 1:return a=w[0],b=_[0],function(n){return a(n)?b(n):n};case 2:return a=w[0],h=w[1],b=_[0],N=_[1],function(n){return a(n)?b(n):h(n)?N(n):n};default:return function(n){for(let a=0;a<_.length;a++)if(w[a](n))return _[a](n);return n}}}function _onMismatch(n,a,h){throw createError(n,a,h)}function initial(n){return slice(n,0,n.length-1)}function last(n){return n[n.length-1]}function slice(n,a,h){return Array.prototype.slice.call(n,a,h)}function makeReferTo(n,a){return{referTo:{references:n,callback:a}}}function referToSelf(n){if("function"!=typeof n)throw TypeError("Callback function expected as first argument");return{referToSelf:{callback:n}}}function isReferTo(n){return n&&"object"==typeof n.referTo&&Array.isArray(n.referTo.references)&&"function"==typeof n.referTo.callback}function isReferToSelf(n){return n&&"object"==typeof n.referToSelf&&"function"==typeof n.referToSelf.callback}function checkName(n,a){if(!n)return a;if(a&&a!==n){let h=Error("Function names do not match (expected: "+n+", actual: "+a+")");throw h.data={actual:a,expected:n},h}return n}clear(),addTypes(b);let D=_;function _validateConversion(n){if(!n||"string"!=typeof n.from||"string"!=typeof n.to||"function"!=typeof n.convert)throw TypeError("Object with properties {from: string, to: string, convert: function} expected");if(n.to===n.from)throw SyntaxError('Illegal to define conversion from "'+n.from+'" to itself.')}return(_=function(n){let a="string"==typeof n,h=a?1:0,b=a?n:"",N={};for(let n=h;n<arguments.length;++n){let h;let w=arguments[n],_={};if("function"==typeof w?(h=w.name,"string"==typeof w.signature?_[w.signature]=w:isTypedFunction(w)&&(_=w.signatures)):isPlainObject(w)&&(_=w,a||(h=function(n){let a;for(let h in n)Object.prototype.hasOwnProperty.call(n,h)&&(isTypedFunction(n[h])||"string"==typeof n[h].signature)&&(a=checkName(a,n[h].name));return a}(w))),0===Object.keys(_).length){let a=TypeError("Argument to 'typed' at index "+n+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw a.data={index:n,argument:w},a}a||(b=checkName(b,h)),function(n,a){let h;for(h in a)if(Object.prototype.hasOwnProperty.call(a,h)){if(h in n&&a[h]!==n[h]){let b=Error('Signature "'+h+'" is defined twice');throw b.data={signature:h,sourceFunction:a[h],destFunction:n[h]},b}n[h]=a[h]}}(N,_)}return function(n,a){let h,b;if(_.createCount++,0===Object.keys(a).length)throw SyntaxError("No signatures provided");_.warnAgainstDeprecatedThis&&function(n){let a=/\bthis(\(|\.signatures\b)/;Object.keys(n).forEach(h=>{let b=n[h];if(a.test(b.toString()))throw SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}(a);let N=[],w=[],D={},E=[];for(h in a){let n;if(!Object.prototype.hasOwnProperty.call(a,h))continue;let b=parseSignature(h);if(!b)continue;N.forEach(function(n){if(function(n,a){let h=Math.max(n.length,a.length);for(let b=0;b<h;b++){let h;let N=getTypeSetAtIndex(n,b),w=getTypeSetAtIndex(a,b),_=!1;for(h of w)if(N.has(h)){_=!0;break}if(!_)return!1}let b=n.length,N=a.length,w=hasRestParam(n),_=hasRestParam(a);return w?_?b===N:N>=b:_?b>=N:b===N}(n,b))throw TypeError('Conflicting signatures "'+stringifyParams(n)+'" and "'+stringifyParams(b)+'".')}),N.push(b);let _=w.length;w.push(a[h]);let A=b.map(expandParam);for(n of function _splitParams(n,a,h){if(!(a<n.length))return[h];{var b,N;let w=n[a],_=[];if(w.restParam){let n=w.types.filter(isExactType);n.length<w.types.length&&_.push({types:n,name:"..."+n.map(n=>n.name).join("|"),hasAny:n.some(n=>n.isAny),hasConversion:!1,restParam:!0}),_.push(w)}else _=w.types.map(function(n){return{types:[n],name:n.name,hasAny:n.isAny,hasConversion:n.conversion,restParam:!1}});return b=_,N=function(b){return _splitParams(n,a+1,h.concat([b]))},Array.prototype.concat.apply([],b.map(N))}}(A,0,[])){let a=stringifyParams(n);E.push({params:n,name:a,fn:_}),n.every(n=>!n.hasConversion)&&(D[a]=_)}}E.sort(compareSignatures);let A=function(n,a,h){let b=n.map(n=>isReferToSelf(n)?referToSelf(n.referToSelf.callback):isReferTo(n)?makeReferTo(n.referTo.references,n.referTo.callback):n),N=Array(b.length).fill(!1),w=!0;for(;w;){w=!1;let n=!0;for(let _=0;_<b.length;++_){if(N[_])continue;let D=b[_];if(isReferToSelf(D))b[_]=D.referToSelf.callback(h),b[_].referToSelf=D.referToSelf,N[_]=!0,n=!1;else if(isReferTo(D)){let h=function(n,a,h){let b;let N=[];for(b of n){let n=h[b];if("number"!=typeof n)throw TypeError('No definition for referenced signature "'+b+'"');if("function"!=typeof(n=a[n]))return!1;N.push(n)}return N}(D.referTo.references,b,a);h?(b[_]=D.referTo.callback.apply(this,h),b[_].referTo=D.referTo,N[_]=!0,n=!1):w=!0}}if(n&&w)throw SyntaxError("Circular reference detected in resolving typed.referTo")}return b}(w,D,theTypedFn);for(b in D)Object.prototype.hasOwnProperty.call(D,b)&&(D[b]=A[D[b]]);let M=[],B=new Map;for(b of E)B.has(b.name)||(b.fn=A[b.fn],M.push(b),B.set(b.name,b));let I=M[0]&&M[0].params.length<=2&&!hasRestParam(M[0].params),z=M[1]&&M[1].params.length<=2&&!hasRestParam(M[1].params),q=M[2]&&M[2].params.length<=2&&!hasRestParam(M[2].params),j=M[3]&&M[3].params.length<=2&&!hasRestParam(M[3].params),L=M[4]&&M[4].params.length<=2&&!hasRestParam(M[4].params),H=M[5]&&M[5].params.length<=2&&!hasRestParam(M[5].params);for(let n=0;n<M.length;++n)M[n].test=function(n){let a,h,b;if(hasRestParam(n)){a=initial(n).map(compileTest);let h=a.length,b=compileTest(last(n)),testRestParam=function(n){for(let a=h;a<n.length;a++)if(!b(n[a]))return!1;return!0};return function(n){for(let h=0;h<a.length;h++)if(!a[h](n[h]))return!1;return testRestParam(n)&&n.length>=h+1}}return 0===n.length?function(n){return 0===n.length}:1===n.length?(h=compileTest(n[0]),function(n){return h(n[0])&&1===n.length}):2===n.length?(h=compileTest(n[0]),b=compileTest(n[1]),function(n){return h(n[0])&&b(n[1])&&2===n.length}):(a=n.map(compileTest),function(n){for(let h=0;h<a.length;h++)if(!a[h](n[h]))return!1;return n.length===a.length})}(M[n].params);let $=I?compileTest(M[0].params[0]):notOk,V=z?compileTest(M[1].params[0]):notOk,G=q?compileTest(M[2].params[0]):notOk,Z=j?compileTest(M[3].params[0]):notOk,W=L?compileTest(M[4].params[0]):notOk,Y=H?compileTest(M[5].params[0]):notOk,X=I?compileTest(M[0].params[1]):notOk,J=z?compileTest(M[1].params[1]):notOk,Q=q?compileTest(M[2].params[1]):notOk,K=j?compileTest(M[3].params[1]):notOk,ee=L?compileTest(M[4].params[1]):notOk,er=H?compileTest(M[5].params[1]):notOk;for(let n=0;n<M.length;++n)M[n].implementation=function(n,a){let h=a;if(n.some(n=>n.hasConversion)){let b=hasRestParam(n),N=n.map(compileArgConversion);h=function(){let n=[],h=b?arguments.length-1:arguments.length;for(let a=0;a<h;a++)n[a]=N[a](arguments[a]);return b&&(n[h]=arguments[h].map(N[h])),a.apply(this,n)}}let b=h;if(hasRestParam(n)){let a=n.length-1;b=function(){return h.apply(this,slice(arguments,0,a).concat([slice(arguments,a)]))}}return b}(M[n].params,M[n].fn);let et=I?M[0].implementation:undef,en=z?M[1].implementation:undef,ei=q?M[2].implementation:undef,ea=j?M[3].implementation:undef,eo=L?M[4].implementation:undef,es=H?M[5].implementation:undef,eu=I?M[0].params.length:-1,ec=z?M[1].params.length:-1,el=q?M[2].params.length:-1,ef=j?M[3].params.length:-1,em=L?M[4].params.length:-1,ep=H?M[5].params.length:-1,ed=I&&z&&q&&j&&L&&H?6:0,eh=M.length,eg=M.map(n=>n.test),ey=M.map(n=>n.implementation),generic=function(){for(let n=ed;n<eh;n++)if(eg[n](arguments))return ey[n].apply(this,arguments);return _.onMismatch(n,arguments,M)};function theTypedFn(n,a){return arguments.length===eu&&$(n)&&X(a)?et.apply(this,arguments):arguments.length===ec&&V(n)&&J(a)?en.apply(this,arguments):arguments.length===el&&G(n)&&Q(a)?ei.apply(this,arguments):arguments.length===ef&&Z(n)&&K(a)?ea.apply(this,arguments):arguments.length===em&&W(n)&&ee(a)?eo.apply(this,arguments):arguments.length===ep&&Y(n)&&er(a)?es.apply(this,arguments):generic.apply(this,arguments)}try{Object.defineProperty(theTypedFn,"name",{value:n})}catch(n){}return theTypedFn.signatures=D,theTypedFn._typedFunctionData={signatures:M,signatureMap:B},theTypedFn}(b||"",N)}).create=create,_.createCount=D.createCount,_.onMismatch=_onMismatch,_.throwMismatchError=_onMismatch,_.createError=createError,_.clear=clear,_.clearConversions=function(){let n;for(n of h)a.get(n).conversionsTo=[];w=0},_.addTypes=addTypes,_._findType=findType,_.referTo=function(){let n=initial(arguments).map(n=>stringifyParams(parseSignature(n))),a=last(arguments);if("function"!=typeof a)throw TypeError("Callback function expected as last argument");return makeReferTo(n,a)},_.referToSelf=referToSelf,_.convert=function(n,a){let h=findType(a);if(h.test(n))return n;let b=h.conversionsTo;if(0===b.length)throw Error("There are no conversions to "+a+" defined.");for(let a=0;a<b.length;a++){let h=findType(b[a].from);if(h.test(n))return b[a].convert(n)}throw Error("Cannot convert "+n+" to "+a)},_.findSignature=findSignature,_.find=function(n,a,h){return findSignature(n,a,h).implementation},_.isTypedFunction=isTypedFunction,_.warnAgainstDeprecatedThis=!0,_.addType=function(n,h){let b="any";!1!==h&&a.has("Object")&&(b="Object"),_.addTypes([n],b)},_.addConversion=function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{override:!1};_validateConversion(n);let h=findType(n.to),b=h.conversionsTo.find(a=>a.from===n.from);if(b){if(a&&a.override)_.removeConversion({from:b.from,to:n.to,convert:b.convert});else throw Error('There is already a conversion from "'+n.from+'" to "'+h.name+'"')}h.conversionsTo.push({from:n.from,convert:n.convert,index:w++})},_.addConversions=function(n,a){n.forEach(n=>_.addConversion(n,a))},_.removeConversion=function(n){_validateConversion(n);let a=findType(n.to),h=function(n,a){for(let h=0;h<n.length;h++)if(a(n[h]))return n[h]}(a.conversionsTo,a=>a.from===n.from);if(!h)throw Error("Attempt to remove nonexistent conversion from "+n.from+" to "+n.to);if(h.convert!==n.convert)throw Error("Conversion to remove does not match existing conversion");let b=a.conversionsTo.indexOf(h);a.conversionsTo.splice(b,1)},_.resolve=function(a,h){if(!isTypedFunction(a))throw TypeError(n);let b=a._typedFunctionData.signatures;for(let n=0;n<b.length;++n)if(b[n].test(h))return b[n];return null},_}()}()},3114:function(n,a,h){"use strict";h.d(a,{M:function(){return AnimatePresence}});var b=h(5893),N=h(7294),w=h(5364),_=h(6681),D=h(240),E=h(6014);let PopChildMeasure=class PopChildMeasure extends N.Component{getSnapshotBeforeUpdate(n){let a=this.props.childRef.current;if(a&&n.isPresent&&!this.props.isPresent){let n=this.props.sizeRef.current;n.height=a.offsetHeight||0,n.width=a.offsetWidth||0,n.top=a.offsetTop,n.left=a.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}};function PopChild({children:n,isPresent:a}){let h=(0,N.useId)(),w=(0,N.useRef)(null),_=(0,N.useRef)({width:0,height:0,top:0,left:0}),{nonce:D}=(0,N.useContext)(E._);return(0,N.useInsertionEffect)(()=>{let{width:n,height:b,top:N,left:E}=_.current;if(a||!w.current||!n||!b)return;w.current.dataset.motionPopId=h;let A=document.createElement("style");return D&&(A.nonce=D),document.head.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${h}"] {
            position: absolute !important;
            width: ${n}px !important;
            height: ${b}px !important;
            top: ${N}px !important;
            left: ${E}px !important;
          }
        `),()=>{document.head.removeChild(A)}},[a]),(0,b.jsx)(PopChildMeasure,{isPresent:a,childRef:w,sizeRef:_,children:N.cloneElement(n,{ref:w})})}let PresenceChild=({children:n,initial:a,isPresent:h,onExitComplete:w,custom:E,presenceAffectsLayout:A,mode:M})=>{let B=(0,_.h)(newChildrenMap),I=(0,N.useId)(),z=(0,N.useCallback)(n=>{for(let a of(B.set(n,!0),B.values()))if(!a)return;w&&w()},[B,w]),q=(0,N.useMemo)(()=>({id:I,initial:a,isPresent:h,custom:E,onExitComplete:z,register:n=>(B.set(n,!1),()=>B.delete(n))}),A?[Math.random(),z]:[h,z]);return(0,N.useMemo)(()=>{B.forEach((n,a)=>B.set(a,!1))},[h]),N.useEffect(()=>{h||B.size||!w||w()},[h]),"popLayout"===M&&(n=(0,b.jsx)(PopChild,{isPresent:h,children:n})),(0,b.jsx)(D.O.Provider,{value:q,children:n})};function newChildrenMap(){return new Map}var A=h(5947);let getChildKey=n=>n.key||"";function onlyElements(n){let a=[];return N.Children.forEach(n,n=>{(0,N.isValidElement)(n)&&a.push(n)}),a}var M=h(8868);let AnimatePresence=({children:n,custom:a,initial:h=!0,onExitComplete:D,presenceAffectsLayout:E=!0,mode:B="sync",propagate:I=!1})=>{let[z,q]=(0,A.oO)(I),j=(0,N.useMemo)(()=>onlyElements(n),[n]),L=I&&!z?[]:j.map(getChildKey),H=(0,N.useRef)(!0),$=(0,N.useRef)(j),V=(0,_.h)(()=>new Map),[G,Z]=(0,N.useState)(j),[W,Y]=(0,N.useState)(j);(0,M.L)(()=>{H.current=!1,$.current=j;for(let n=0;n<W.length;n++){let a=getChildKey(W[n]);L.includes(a)?V.delete(a):!0!==V.get(a)&&V.set(a,!1)}},[W,L.length,L.join("-")]);let X=[];if(j!==G){let n=[...j];for(let a=0;a<W.length;a++){let h=W[a],b=getChildKey(h);L.includes(b)||(n.splice(a,0,h),X.push(h))}"wait"===B&&X.length&&(n=X),Y(onlyElements(n)),Z(j);return}let{forceRender:J}=(0,N.useContext)(w.p);return(0,b.jsx)(b.Fragment,{children:W.map(n=>{let N=getChildKey(n),w=(!I||!!z)&&(j===W||L.includes(N));return(0,b.jsx)(PresenceChild,{isPresent:w,initial:(!H.current||!!h)&&void 0,custom:w?void 0:a,presenceAffectsLayout:E,mode:B,onExitComplete:w?void 0:()=>{if(!V.has(N))return;V.set(N,!0);let n=!0;V.forEach(a=>{a||(n=!1)}),n&&(null==J||J(),Y($.current),I&&(null==q||q()),D&&D())},children:n},N)})})}},4972:function(n,a,h){"use strict";function _extends(){return(_extends=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var h=arguments[a];for(var b in h)({}).hasOwnProperty.call(h,b)&&(n[b]=h[b])}return n}).apply(null,arguments)}h.d(a,{ku:function(){return hq},Qc:function(){return hI}});var b={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null,legacySubset:!1},config=function(n){if(n)throw Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(b)};function object_clone(n){var a=typeof n;if("number"===a||"bigint"===a||"string"===a||"boolean"===a||null==n)return n;if("function"==typeof n.clone)return n.clone();if(Array.isArray(n))return n.map(function(n){return object_clone(n)});if(n instanceof Date)return new Date(n.valueOf());if(isBigNumber(n))return n;if(is_isObject(n))return function(n,a){var h={};for(var b in n)object_hasOwnProperty(n,b)&&(h[b]=a(n[b]));return h}(n,object_clone);if("function"===a)return n;throw TypeError("Cannot clone: unknown type of value (value: ".concat(n,")"))}function extend(n,a){for(var h in a)object_hasOwnProperty(a,h)&&(n[h]=a[h]);return n}function deepStrictEqual(n,a){var h,b,N;if(Array.isArray(n)){if(!Array.isArray(a)||n.length!==a.length)return!1;for(b=0,N=n.length;b<N;b++)if(!deepStrictEqual(n[b],a[b]))return!1;return!0}if("function"==typeof n||!(n instanceof Object))return n===a;if(Array.isArray(a)||!(a instanceof Object))return!1;for(h in n)if(!(h in a)||!deepStrictEqual(n[h],a[h]))return!1;for(h in a)if(!(h in n))return!1;return!0}function object_hasOwnProperty(n,a){return n&&Object.hasOwnProperty.call(n,a)}function getSafeProperty(n,a){if(isSafeProperty(n,a))return n[a];if("function"==typeof n[a]&&isSafeMethod(n,a))throw Error('Cannot access method "'+a+'" as a property');throw Error('No access to property "'+a+'"')}function setSafeProperty(n,a,h){if(isSafeProperty(n,a))return n[a]=h,h;throw Error('No access to property "'+a+'"')}function isSafeProperty(n,a){return!!("object"==typeof n&&n&&n.constructor===Object||Array.isArray(n))&&(!!object_hasOwnProperty(N,a)||!(a in Object.prototype)&&!(a in Function.prototype))}function isSafeMethod(n,a){return!(null==n||"function"!=typeof n[a]||object_hasOwnProperty(n,a)&&Object.getPrototypeOf&&a in Object.getPrototypeOf(n))&&(!!object_hasOwnProperty(w,a)||!(a in Object.prototype)&&!(a in Function.prototype))}_extends(config,b,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","bigint","Fraction"]});var N={length:!0,name:!0},w={toString:!0,valueOf:!0,toLocaleString:!0};let ObjectWrappingMap=class ObjectWrappingMap{constructor(n){this.wrappedObject=n,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(n=>this.has(n)).values()}get(n){return getSafeProperty(this.wrappedObject,n)}set(n,a){return setSafeProperty(this.wrappedObject,n,a),this}has(n){return isSafeProperty(this.wrappedObject,n)&&n in this.wrappedObject}entries(){return mapIterator(this.keys(),n=>[n,this.get(n)])}forEach(n){for(var a of this.keys())n(this.get(a),a,this)}delete(n){isSafeProperty(this.wrappedObject,n)&&delete this.wrappedObject[n]}clear(){for(var n of this.keys())this.delete(n)}get size(){return Object.keys(this.wrappedObject).length}};let PartitionedMap=class PartitionedMap{constructor(n,a,h){this.a=n,this.b=a,this.bKeys=h,this[Symbol.iterator]=this.entries}get(n){return this.bKeys.has(n)?this.b.get(n):this.a.get(n)}set(n,a){return this.bKeys.has(n)?this.b.set(n,a):this.a.set(n,a),this}has(n){return this.b.has(n)||this.a.has(n)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return mapIterator(this.keys(),n=>[n,this.get(n)])}forEach(n){for(var a of this.keys())n(this.get(a),a,this)}delete(n){return this.bKeys.has(n)?this.b.delete(n):this.a.delete(n)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}};function mapIterator(n,a){return{next:()=>{var h=n.next();return h.done?h:{value:a(h.value),done:!1}}}}function createEmptyMap(){return new Map}function createMap(n){if(!n)return createEmptyMap();if(is_isMap(n))return n;if(is_isObject(n))return new ObjectWrappingMap(n);throw Error("createMap can create maps from objects or Maps")}function isNumber(n){return"number"==typeof n}function isBigNumber(n){return!!n&&"object"==typeof n&&"function"==typeof n.constructor&&(!0===n.isBigNumber&&"object"==typeof n.constructor.prototype&&!0===n.constructor.prototype.isBigNumber||"function"==typeof n.constructor.isDecimal&&!0===n.constructor.isDecimal(n))}function isBigInt(n){return"bigint"==typeof n}function isComplex(n){return n&&"object"==typeof n&&!0===Object.getPrototypeOf(n).isComplex||!1}function isFraction(n){return n&&"object"==typeof n&&!0===Object.getPrototypeOf(n).isFraction||!1}function isUnit(n){return n&&!0===n.constructor.prototype.isUnit||!1}function isString(n){return"string"==typeof n}var _=Array.isArray;function isMatrix(n){return n&&!0===n.constructor.prototype.isMatrix||!1}function isCollection(n){return Array.isArray(n)||isMatrix(n)}function isDenseMatrix(n){return n&&n.isDenseMatrix&&!0===n.constructor.prototype.isMatrix||!1}function isSparseMatrix(n){return n&&n.isSparseMatrix&&!0===n.constructor.prototype.isMatrix||!1}function isRange(n){return n&&!0===n.constructor.prototype.isRange||!1}function isIndex(n){return n&&!0===n.constructor.prototype.isIndex||!1}function isBoolean(n){return"boolean"==typeof n}function isResultSet(n){return n&&!0===n.constructor.prototype.isResultSet||!1}function isHelp(n){return n&&!0===n.constructor.prototype.isHelp||!1}function isFunction(n){return"function"==typeof n}function isDate(n){return n instanceof Date}function isRegExp(n){return n instanceof RegExp}function is_isObject(n){return!!(n&&"object"==typeof n&&n.constructor===Object&&!isComplex(n)&&!isFraction(n))}function is_isMap(n){return!!n&&(n instanceof Map||n instanceof ObjectWrappingMap||"function"==typeof n.set&&"function"==typeof n.get&&"function"==typeof n.keys&&"function"==typeof n.has)}function isNull(n){return null===n}function isUndefined(n){return void 0===n}function isAccessorNode(n){return n&&!0===n.isAccessorNode&&!0===n.constructor.prototype.isNode||!1}function isArrayNode(n){return n&&!0===n.isArrayNode&&!0===n.constructor.prototype.isNode||!1}function isAssignmentNode(n){return n&&!0===n.isAssignmentNode&&!0===n.constructor.prototype.isNode||!1}function isBlockNode(n){return n&&!0===n.isBlockNode&&!0===n.constructor.prototype.isNode||!1}function isConditionalNode(n){return n&&!0===n.isConditionalNode&&!0===n.constructor.prototype.isNode||!1}function isConstantNode(n){return n&&!0===n.isConstantNode&&!0===n.constructor.prototype.isNode||!1}function rule2Node(n){return isConstantNode(n)||isOperatorNode(n)&&1===n.args.length&&isConstantNode(n.args[0])&&"-+~".includes(n.op)}function isFunctionAssignmentNode(n){return n&&!0===n.isFunctionAssignmentNode&&!0===n.constructor.prototype.isNode||!1}function isFunctionNode(n){return n&&!0===n.isFunctionNode&&!0===n.constructor.prototype.isNode||!1}function isIndexNode(n){return n&&!0===n.isIndexNode&&!0===n.constructor.prototype.isNode||!1}function isNode(n){return n&&!0===n.isNode&&!0===n.constructor.prototype.isNode||!1}function isObjectNode(n){return n&&!0===n.isObjectNode&&!0===n.constructor.prototype.isNode||!1}function isOperatorNode(n){return n&&!0===n.isOperatorNode&&!0===n.constructor.prototype.isNode||!1}function isParenthesisNode(n){return n&&!0===n.isParenthesisNode&&!0===n.constructor.prototype.isNode||!1}function isRangeNode(n){return n&&!0===n.isRangeNode&&!0===n.constructor.prototype.isNode||!1}function isRelationalNode(n){return n&&!0===n.isRelationalNode&&!0===n.constructor.prototype.isNode||!1}function isSymbolNode(n){return n&&!0===n.isSymbolNode&&!0===n.constructor.prototype.isNode||!1}function isChain(n){return n&&!0===n.constructor.prototype.isChain||!1}function typeOf(n){var a=typeof n;return"object"===a?null===n?"null":isBigNumber(n)?"BigNumber":n.constructor&&n.constructor.name?n.constructor.name:"Object":a}var D=new Set(["end"]);function factory_factory(n,a,h,b){function assertAndCreate(b){var N=function(n,a){for(var h={},b=0;b<a.length;b++){var N=a[b],w=n[N];void 0!==w&&(h[N]=w)}return h}(b,a.map(stripOptionalNotation));return function(n,a,h){if(!a.filter(n=>!(n&&"?"===n[0])).every(n=>void 0!==h[n])){var b=a.filter(n=>void 0===h[n]);throw Error('Cannot create function "'.concat(n,'", ')+"some dependencies are missing: ".concat(b.map(n=>'"'.concat(n,'"')).join(", "),"."))}}(n,a,b),h(N)}return assertAndCreate.isFactory=!0,assertAndCreate.fn=n,assertAndCreate.dependencies=a.slice().sort(),b&&(assertAndCreate.meta=b),assertAndCreate}function stripOptionalNotation(n){return n&&"?"===n[0]?n.slice(1):n}var E=factory_factory("Node",["mathWithTransform"],n=>{var{mathWithTransform:a}=n;return class{get type(){return"Node"}get isNode(){return!0}evaluate(n){return this.compile().evaluate(n)}compile(){var n=this._compile(a,{}),h={};return{evaluate:function(a){var b=createMap(a);return!function(n){for(var a of[...D])if(n.has(a))throw Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}(b),n(b,h,null)}}}_compile(n,a){throw Error("Method _compile must be implemented by type "+this.type)}forEach(n){throw Error("Cannot run forEach on a Node interface")}map(n){throw Error("Cannot run map on a Node interface")}_ifNode(n){if(!isNode(n))throw TypeError("Callback function must return a Node");return n}traverse(n){n(this,null,null),function _traverse(n,a){n.forEach(function(n,h,b){a(n,h,b),_traverse(n,a)})}(this,n)}transform(n){return function _transform(a,h,b){var N=n(a,h,b);return N!==a?N:a.map(_transform)}(this,null,null)}filter(n){var a=[];return this.traverse(function(h,b,N){n(h,b,N)&&a.push(h)}),a}clone(){throw Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(n){return n.cloneDeep()})}equals(n){return!!n&&this.type===n.type&&deepStrictEqual(this,n)}toString(n){var a=this._getCustomString(n);return void 0!==a?a:this._toString(n)}_toString(){throw Error("_toString not implemented for "+this.type)}toJSON(){throw Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(n){var a=this._getCustomString(n);return void 0!==a?a:this._toHTML(n)}_toHTML(){throw Error("_toHTML not implemented for "+this.type)}toTex(n){var a=this._getCustomString(n);return void 0!==a?a:this._toTex(n)}_toTex(n){throw Error("_toTex not implemented for "+this.type)}_getCustomString(n){if(n&&"object"==typeof n)switch(typeof n.handler){case"object":case"undefined":return;case"function":return n.handler(this,n);default:throw TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}},{isClass:!0,isNode:!0});function _typeof(n){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function _defineProperty(n,a,h){var b;return(b=function(n,a){if("object"!=_typeof(n)||!n)return n;var h=n[Symbol.toPrimitive];if(void 0!==h){var b=h.call(n,a||"default");if("object"!=_typeof(b))return b;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(n)}(a,"string"),(a="symbol"==_typeof(b)?b:b+"")in n)?Object.defineProperty(n,a,{value:h,enumerable:!0,configurable:!0,writable:!0}):n[a]=h,n}function isInteger(n){return"boolean"==typeof n||!!isFinite(n)&&n===Math.round(n)}function safeNumberType(n,a){if("bigint"===a.number)try{BigInt(n)}catch(n){return a.numberFallback}return a.number}var A=Math.sign||function(n){return n>0?1:n<0?-1:0},M=Math.log2||function(n){return Math.log(n)/Math.LN2},B=Math.log10||function(n){return Math.log(n)/Math.LN10},I=Math.log1p||function(n){return Math.log(n+1)},z=Math.cbrt||function(n){if(0===n)return n;var a,h=n<0;return h&&(n=-n),isFinite(n)?(a=Math.exp(Math.log(n)/3),a=(n/(a*a)+2*a)/3):a=n,h?-a:a},q=Math.expm1||function(n){return n>=2e-4||n<=-.0002?Math.exp(n)-1:n+n*n/2+n*n*n/6};function formatNumberToBase(n,a,h){var b={2:"0b",8:"0o",16:"0x"}[a],N="";if(h){if(h<1)throw Error("size must be in greater than 0");if(!isInteger(h))throw Error("size must be an integer");if(n>2**(h-1)-1||n<-(2**(h-1)))throw Error("Value must be in range [-2^".concat(h-1,", 2^").concat(h-1,"-1]"));if(!isInteger(n))throw Error("Value must be an integer");n<0&&(n+=2**h),N="i".concat(h)}var w="";return n<0&&(n=-n,w="-"),"".concat(w).concat(b).concat(n.toString(a)).concat(N)}function format(n,a){if("function"==typeof a)return a(n);if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(isNaN(n))return"NaN";var{notation:h,precision:b,wordSize:N}=normalizeFormatOptions(a);switch(h){case"fixed":return toFixed(n,b);case"exponential":return toExponential(n,b);case"engineering":return function(n,a){if(isNaN(n)||!isFinite(n))return String(n);var h=roundDigits(splitNumber(n),a),b=h.exponent,N=h.coefficients,w=b%3==0?b:b<0?b-3-b%3:b-b%3;if(isNumber(a))for(;a>N.length||b-w+1>N.length;)N.push(0);else for(var _=Math.abs(b-w)-(N.length-1),D=0;D<_;D++)N.push(0);for(var E=Math.abs(b-w),A=1;E>0;)A++,E--;var M=N.slice(A).join(""),B=isNumber(a)&&M.length||M.match(/[1-9]/)?"."+M:"",I=N.slice(0,A).join("")+B+"e"+(b>=0?"+":"")+w.toString();return h.sign+I}(n,b);case"bin":return formatNumberToBase(n,2,N);case"oct":return formatNumberToBase(n,8,N);case"hex":return formatNumberToBase(n,16,N);case"auto":return(function(n,a,h){if(isNaN(n)||!isFinite(n))return String(n);var b=_toNumberOrDefault(null==h?void 0:h.lowerExp,-3),N=_toNumberOrDefault(null==h?void 0:h.upperExp,5),w=splitNumber(n),_=a?roundDigits(w,a):w;if(_.exponent<b||_.exponent>=N)return toExponential(n,a);var D=_.coefficients,E=_.exponent;D.length<a&&(D=D.concat(zeros(a-D.length))),D=D.concat(zeros(E-D.length+1+(D.length<a?a-D.length:0))),D=zeros(-E).concat(D);var A=E>0?E:0;return A<D.length-1&&D.splice(A+1,0,"."),_.sign+D.join("")})(n,b,a).replace(/((\.\d*?)(0+))($|e)/,function(){var n=arguments[2],a=arguments[4];return"."!==n?n+a:a});default:throw Error('Unknown notation "'+h+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function normalizeFormatOptions(n){var a,h,b="auto";if(void 0!==n){if(isNumber(n))a=n;else if(isBigNumber(n))a=n.toNumber();else if(is_isObject(n))void 0!==n.precision&&(a=_toNumberOrThrow(n.precision,()=>{throw Error('Option "precision" must be a number or BigNumber')})),void 0!==n.wordSize&&(h=_toNumberOrThrow(n.wordSize,()=>{throw Error('Option "wordSize" must be a number or BigNumber')})),n.notation&&(b=n.notation);else throw Error("Unsupported type of options, number, BigNumber, or object expected")}return{notation:b,precision:a,wordSize:h}}function splitNumber(n){var a=String(n).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!a)throw SyntaxError("Invalid number "+n);var h=a[1],b=a[2],N=parseFloat(a[4]||"0"),w=b.indexOf(".");N+=-1!==w?w-1:b.length-1;var _=b.replace(".","").replace(/^0*/,function(n){return N-=n.length,""}).replace(/0*$/,"").split("").map(function(n){return parseInt(n)});return 0===_.length&&(_.push(0),N++),{sign:h,coefficients:_,exponent:N}}function toFixed(n,a){if(isNaN(n)||!isFinite(n))return String(n);var h=splitNumber(n),b="number"==typeof a?roundDigits(h,h.exponent+1+a):h,N=b.coefficients,w=b.exponent+1,_=w+(a||0);return N.length<_&&(N=N.concat(zeros(_-N.length))),w<0&&(N=zeros(-w+1).concat(N),w=1),w<N.length&&N.splice(w,0,0===w?"0.":"."),b.sign+N.join("")}function toExponential(n,a){if(isNaN(n)||!isFinite(n))return String(n);var h=splitNumber(n),b=a?roundDigits(h,a):h,N=b.coefficients,w=b.exponent;N.length<a&&(N=N.concat(zeros(a-N.length)));var _=N.shift();return b.sign+_+(N.length>0?"."+N.join(""):"")+"e"+(w>=0?"+":"")+w}function roundDigits(n,a){for(var h={sign:n.sign,coefficients:n.coefficients,exponent:n.exponent},b=h.coefficients;a<=0;)b.unshift(0),h.exponent++,a++;if(b.length>a&&b.splice(a,b.length-a)[0]>=5){var N=a-1;for(b[N]++;10===b[N];)b.pop(),0===N&&(b.unshift(0),h.exponent++,N++),N--,b[N]++}return h}function zeros(n){for(var a=[],h=0;h<n;h++)a.push(0);return a}function nearlyEqual(n,a){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-8,b=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(h<=0)throw Error("Relative tolerance must be greater than 0");if(b<0)throw Error("Absolute tolerance must be at least 0");return!(isNaN(n)||isNaN(a))&&(isFinite(n)&&isFinite(a)?n===a||Math.abs(n-a)<=Math.max(h*Math.max(Math.abs(n),Math.abs(a)),b):n===a)}var j=Math.acosh||function(n){return Math.log(Math.sqrt(n*n-1)+n)},L=Math.asinh||function(n){return Math.log(Math.sqrt(n*n+1)+n)},H=Math.atanh||function(n){return Math.log((1+n)/(1-n))/2},$=Math.cosh||function(n){return(Math.exp(n)+Math.exp(-n))/2},V=Math.sinh||function(n){return(Math.exp(n)-Math.exp(-n))/2},G=Math.tanh||function(n){var a=Math.exp(2*n);return(a-1)/(a+1)};function _toNumberOrThrow(n,a){return isNumber(n)?n:isBigNumber(n)?n.toNumber():void a()}function _toNumberOrDefault(n,a){return isNumber(n)?n:isBigNumber(n)?n.toNumber():a}function formatBigNumberToBase(n,a,h){var b=new n.constructor(2),N="";if(h){if(h<1)throw Error("size must be in greater than 0");if(!isInteger(h))throw Error("size must be an integer");if(n.greaterThan(b.pow(h-1).sub(1))||n.lessThan(b.pow(h-1).mul(-1)))throw Error("Value must be in range [-2^".concat(h-1,", 2^").concat(h-1,"-1]"));if(!n.isInteger())throw Error("Value must be an integer");n.lessThan(0)&&(n=n.add(b.pow(h))),N="i".concat(h)}switch(a){case 2:return"".concat(n.toBinary()).concat(N);case 8:return"".concat(n.toOctal()).concat(N);case 16:return"".concat(n.toHexadecimal()).concat(N);default:throw Error("Base ".concat(a," not supported "))}}function formatter_toExponential(n,a){return void 0!==a?n.toExponential(a-1):n.toExponential()}function formatter_toNumberOrDefault(n,a){return isNumber(n)?n:isBigNumber(n)?n.toNumber():a}function string_format(n,a){var h=function(n,a){return"number"==typeof n?format(n,a):isBigNumber(n)?function(n,a){if("function"==typeof a)return a(n);if(!n.isFinite())return n.isNaN()?"NaN":n.gt(0)?"Infinity":"-Infinity";var{notation:h,precision:b,wordSize:N}=normalizeFormatOptions(a);switch(h){case"fixed":return n.toFixed(b);case"exponential":return formatter_toExponential(n,b);case"engineering":return _=(w=n.e)%3==0?w:w<0?w-3-w%3:w-w%3,(D=n.mul(Math.pow(10,-_)).toPrecision(b)).includes("e")&&(D=new n.constructor(D).toFixed()),D+"e"+(w>=0?"+":"")+_.toString();case"bin":return formatBigNumberToBase(n,2,N);case"oct":return formatBigNumberToBase(n,8,N);case"hex":return formatBigNumberToBase(n,16,N);case"auto":var w,_,D,E=formatter_toNumberOrDefault(null==a?void 0:a.lowerExp,-3),A=formatter_toNumberOrDefault(null==a?void 0:a.upperExp,5);if(n.isZero())return"0";var M=n.toSignificantDigits(b),B=M.e;return(B>=E&&B<A?M.toFixed():formatter_toExponential(n,b)).replace(/((\.\d*?)(0+))($|e)/,function(){var n=arguments[2],a=arguments[4];return"."!==n?n+a:a});default:throw Error('Unknown notation "'+h+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}(n,a):n&&"object"==typeof n&&"bigint"==typeof n.s&&"bigint"==typeof n.n&&"bigint"==typeof n.d?a&&"decimal"===a.fraction?n.toString():"".concat(n.s*n.n,"/").concat(n.d):Array.isArray(n)?function formatArray(n,a){if(!Array.isArray(n))return string_format(n,a);for(var h="[",b=n.length,N=0;N<b;N++)0!==N&&(h+=", "),h+=formatArray(n[N],a);return h+"]"}(n,a):isString(n)?stringify(n):"function"==typeof n?n.syntax?String(n.syntax):"function":n&&"object"==typeof n?"function"==typeof n.format?n.format(a):n&&n.toString(a)!==({}).toString()?n.toString(a):"{"+Object.keys(n).map(h=>stringify(h)+": "+string_format(n[h],a)).join(", ")+"}":String(n)}(n,a);return a&&"object"==typeof a&&"truncate"in a&&h.length>a.truncate?h.substring(0,a.truncate-3)+"...":h}function stringify(n){for(var a=String(n),h="",b=0;b<a.length;){var N=a.charAt(b);h+=N in Z?Z[N]:N,b++}return'"'+h+'"'}var Z={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function string_escape(n){return String(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function compareText(n,a){if(!isString(n))throw TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+typeOf(n)+", index: 0)");if(!isString(a))throw TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+typeOf(a)+", index: 1)");return n===a?0:n>a?1:-1}var W="ObjectNode",Y=factory_factory(W,["Node"],n=>{var{Node:a}=n;let ObjectNode=class ObjectNode extends a{constructor(n){if(super(),this.properties=n||{},n&&("object"!=typeof n||!Object.keys(n).every(function(a){return isNode(n[a])})))throw TypeError("Object containing Nodes expected")}get type(){return W}get isObjectNode(){return!0}_compile(n,a){var h={};for(var b in this.properties)if(object_hasOwnProperty(this.properties,b)){var N=JSON.parse(stringify(b)),w=getSafeProperty(this.properties,b);h[N]=w._compile(n,a)}return function(n,a,b){var N={};for(var w in h)object_hasOwnProperty(h,w)&&(N[w]=h[w](n,a,b));return N}}forEach(n){for(var a in this.properties)object_hasOwnProperty(this.properties,a)&&n(this.properties[a],"properties["+stringify(a)+"]",this)}map(n){var a={};for(var h in this.properties)object_hasOwnProperty(this.properties,h)&&(a[h]=this._ifNode(n(this.properties[h],"properties["+stringify(h)+"]",this)));return new ObjectNode(a)}clone(){var n={};for(var a in this.properties)object_hasOwnProperty(this.properties,a)&&(n[a]=this.properties[a]);return new ObjectNode(n)}_toString(n){var a=[];for(var h in this.properties)object_hasOwnProperty(this.properties,h)&&a.push(stringify(h)+": "+this.properties[h].toString(n));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:W,properties:this.properties}}static fromJSON(n){return new ObjectNode(n.properties)}_toHTML(n){var a=[];for(var h in this.properties)object_hasOwnProperty(this.properties,h)&&a.push('<span class="math-symbol math-property">'+string_escape(h)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[h].toHTML(n));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(n){var a=[];for(var h in this.properties)object_hasOwnProperty(this.properties,h)&&a.push("\\mathbf{"+h+":} & "+this.properties[h].toTex(n)+"\\\\");return"\\left\\{\\begin{array}{ll}"+a.join("\n")+"\\end{array}\\right\\}"}};return _defineProperty(ObjectNode,"name",W),ObjectNode},{isClass:!0,isNode:!0});function DimensionError(n,a,h){if(!(this instanceof DimensionError))throw SyntaxError("Constructor must be called with the new operator");this.actual=n,this.expected=a,this.relation=h,this.message="Dimension mismatch ("+(Array.isArray(n)?"["+n.join(", ")+"]":n)+" "+(this.relation||"!=")+" "+(Array.isArray(a)?"["+a.join(", ")+"]":a)+")",this.stack=Error().stack}function IndexError(n,a,h){if(!(this instanceof IndexError))throw SyntaxError("Constructor must be called with the new operator");this.index=n,arguments.length<3?(this.min=0,this.max=a):(this.min=a,this.max=h),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=Error().stack}function arraySize(n){for(var a=[];Array.isArray(n);)a.push(n.length),n=n[0];return a}function validate(n,a){if(0===a.length){if(Array.isArray(n))throw new DimensionError(n.length,0)}else!function _validate(n,a,h){var b,N=n.length;if(N!==a[h])throw new DimensionError(N,a[h]);if(h<a.length-1){var w=h+1;for(b=0;b<N;b++){if(!Array.isArray(n[b]))throw new DimensionError(a.length-1,a.length,"<");_validate(n[b],a,w)}}else for(b=0;b<N;b++)if(Array.isArray(n[b]))throw new DimensionError(a.length+1,a.length,">")}(n,a,0)}function validateIndexSourceSize(n,a){var h=n.isMatrix?n._size:arraySize(n);a._sourceSize.forEach((n,a)=>{if(null!==n&&n!==h[a])throw new DimensionError(n,h[a])})}function validateIndex(n,a){if(void 0!==n){if(!isNumber(n)||!isInteger(n))throw TypeError("Index must be an integer (value: "+n+")");if(n<0||"number"==typeof a&&n>=a)throw new IndexError(n,a)}}function isEmptyIndex(n){for(var a=0;a<n._dimensions.length;++a){var h=n._dimensions[a];if(h._data&&_(h._data)){if(0===h._size[0])return!0}else if(h.isRange){if(h.start===h.end)return!0}else if(isString(h)&&0===h.length)return!0}return!1}function array_resize(n,a,h){if(!Array.isArray(a))throw TypeError("Array expected");if(0===a.length)throw Error("Resizing to scalar is not supported");return a.forEach(function(n){if(!isNumber(n)||!isInteger(n)||n<0)throw TypeError("Invalid size, must contain positive integers (size: "+string_format(a)+")")}),(isNumber(n)||isBigNumber(n))&&(n=[n]),function _resize(n,a,h,b){var N,w,_=n.length,D=a[h],E=Math.min(_,D);if(n.length=D,h<a.length-1){var A=h+1;for(N=0;N<E;N++)Array.isArray(w=n[N])||(w=[w],n[N]=w),_resize(w,a,A,b);for(N=E;N<D;N++)w=[],n[N]=w,_resize(w,a,A,b)}else{for(N=0;N<E;N++)for(;Array.isArray(n[N]);)n[N]=n[N][0];for(N=E;N<D;N++)n[N]=b}}(n,a,0,void 0!==h?h:0),n}function reshape(n,a){var h=flatten(n,!0),b=h.length;if(!Array.isArray(n)||!Array.isArray(a))throw TypeError("Array expected");if(0===a.length)throw new DimensionError(0,b,"!=");var N=product(a=processSizesWildcard(a,b));if(b!==N)throw new DimensionError(N,b,"!=");try{return function(n,a){for(var h,b=n,N=a.length-1;N>0;N--){var w=a[N];h=[];for(var _=b.length/w,D=0;D<_;D++)h.push(b.slice(D*w,(D+1)*w));b=h}return b}(h,a)}catch(n){if(n instanceof DimensionError)throw new DimensionError(N,b,"!=");throw n}}function processSizesWildcard(n,a){var h=product(n),b=n.slice(),N=n.indexOf(-1);if(n.indexOf(-1,N+1)>=0)throw Error("More than one wildcard in sizes");if(N>=0){if(a%h==0)b[N]=-a/h;else throw Error("Could not replace wildcard, since "+a+" is no multiple of "+-h)}return b}function product(n){return n.reduce((n,a)=>n*a,1)}function squeeze(n,a){for(var h=a||arraySize(n);Array.isArray(n)&&1===n.length;)n=n[0],h.shift();for(var b=h.length;1===h[b-1];)b--;return b<h.length&&(n=function _squeeze(n,a,h){var b,N;if(h<a){var w=h+1;for(b=0,N=n.length;b<N;b++)n[b]=_squeeze(n[b],a,w)}else for(;Array.isArray(n);)n=n[0];return n}(n,b,0),h.length=b),n}function unsqueeze(n,a,h,b){var N=b||arraySize(n);if(h)for(var w=0;w<h;w++)n=[n],N.unshift(1);for(n=function _unsqueeze(n,a,h){var b,N;if(Array.isArray(n)){var w=h+1;for(b=0,N=n.length;b<N;b++)n[b]=_unsqueeze(n[b],a,w)}else for(var _=h;_<a;_++)n=[n];return n}(n,a,0);N.length<a;)N.push(1);return n}function flatten(n){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(n))return n;if("boolean"!=typeof a)throw TypeError("Boolean expected for second argument of flatten");var h=[];return a?function _flattenRectangular(n){if(Array.isArray(n[0]))for(var a=0;a<n.length;a++)_flattenRectangular(n[a]);else for(var b=0;b<n.length;b++)h.push(n[b])}(n):function _flatten(n){for(var a=0;a<n.length;a++){var b=n[a];Array.isArray(b)?_flatten(b):h.push(b)}}(n),h}function map(n,a){return Array.prototype.map.call(n,a)}function forEach(n,a){Array.prototype.forEach.call(n,a)}function filter(n,a){if(1!==arraySize(n).length)throw Error("Only one dimensional matrices supported");return Array.prototype.filter.call(n,a)}function filterRegExp(n,a){if(1!==arraySize(n).length)throw Error("Only one dimensional matrices supported");return Array.prototype.filter.call(n,n=>a.test(n))}function join(n,a){return Array.prototype.join.call(n,a)}function identify(n){if(!Array.isArray(n))throw TypeError("Array input expected");if(0===n.length)return n;var a=[],h=0;a[0]={value:n[0],identifier:0};for(var b=1;b<n.length;b++)n[b]===n[b-1]?h++:h=0,a.push({value:n[b],identifier:h});return a}function generalize(n){if(!Array.isArray(n))throw TypeError("Array input expected");if(0===n.length)return n;for(var a=[],h=0;h<n.length;h++)a.push(n[h].value);return a}function getArrayDataType(n,a){for(var h,b=0,N=0;N<n.length;N++){var w=n[N],_=Array.isArray(w);if(0===N&&_&&(b=w.length),_&&w.length!==b)return;var D=_?getArrayDataType(w,a):a(w);if(void 0===h)h=D;else if(h!==D)return"mixed"}return h}function concat(){var n=Array.prototype.slice.call(arguments,0,-1),a=Array.prototype.slice.call(arguments,-1);if(1===n.length)return n[0];if(n.length>1)return n.slice(1).reduce(function(n,h){return function concatRecursive(n,a,h,b){if(!(b<h))return n.concat(a);if(n.length!==a.length)throw new DimensionError(n.length,a.length);for(var N=[],w=0;w<n.length;w++)N[w]=concatRecursive(n[w],a[w],h,b+1);return N}(n,h,a,0)},n[0]);throw Error("Wrong number of arguments in function concat")}function broadcastSizes(){for(var n=arguments.length,a=Array(n),h=0;h<n;h++)a[h]=arguments[h];for(var b=a.map(n=>n.length),N=Math.max(...b),w=Array(N).fill(null),_=0;_<a.length;_++)for(var D=a[_],E=b[_],A=0;A<E;A++){var M=N-E+A;D[A]>w[M]&&(w[M]=D[A])}for(var B=0;B<a.length;B++)checkBroadcastingRules(a[B],w);return w}function checkBroadcastingRules(n,a){for(var h=a.length,b=n.length,N=0;N<b;N++){var w=h-b+N;if(n[N]<a[w]&&n[N]>1||n[N]>a[w])throw Error("shape mismatch: mismatch is found in arg with shape (".concat(n,") not possible to broadcast dimension ").concat(b," with size ").concat(n[N]," to size ").concat(a[w]))}}function broadcastTo(n,a){var h,b,N,w=arraySize(n);if(deepStrictEqual(w,a))return n;checkBroadcastingRules(w,a);var _=broadcastSizes(w,a),D=_.length,E=[...Array(D-w.length).fill(1),...w],A=_extends([],n);w.length<D&&(w=arraySize(A=reshape(A,E)));for(var M=0;M<D;M++)w[M]<_[M]&&(w=arraySize((h=A,b=_[M],N=M,A=concat(...Array(b).fill(h),N))));return A}function array_get(n,a){if(!Array.isArray(n))throw Error("Array expected");var h=arraySize(n);if(a.length!==h.length)throw new DimensionError(a.length,h.length);for(var b=0;b<a.length;b++)validateIndex(a[b],h[b]);return a.reduce((n,a)=>n[a],n)}function deepMap(n,a){var h=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===n.length)return[];if(h)return function recursiveMap(n){if(!Array.isArray(n))return a(n);for(var h=n.length,b=Array(h),N=0;N<h;N++)b[N]=recursiveMap(n[N]);return b}(n);var b=[];return function recursiveMapWithIndex(h,N){if(!Array.isArray(h))return a(h,b.slice(0,N),n);for(var w=h.length,_=Array(w),D=0;D<w;D++)b[N]=D,_[D]=recursiveMapWithIndex(h[D],N+1);return _}(n,0)}function deepForEach(n,a){var h=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0!==n.length){if(h){!function recursiveForEach(n){if(Array.isArray(n))for(var h=n.length,b=0;b<h;b++)recursiveForEach(n[b]);else a(n)}(n);return}var b=[];!function recursiveForEachWithIndex(h,N){if(Array.isArray(h))for(var w=h.length,_=0;_<w;_++)b[N]=_,recursiveForEachWithIndex(h[_],N+1);else a(h,b.slice(0,N),n)}(n,0)}}function createSubScope(n,a){return new PartitionedMap(n,new ObjectWrappingMap(a),new Set(Object.keys(a)))}DimensionError.prototype=RangeError(),DimensionError.prototype.constructor=RangeError,DimensionError.prototype.name="DimensionError",DimensionError.prototype.isDimensionError=!0,IndexError.prototype=RangeError(),IndexError.prototype.constructor=RangeError,IndexError.prototype.name="IndexError",IndexError.prototype.isIndexError=!0;var X=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:nullish":{op:"??",associativity:"left",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function unwrapParen(n,a){if(!a||"auto"!==a)return n;for(var h=n;isParenthesisNode(h);)h=h.content;return h}function getPrecedence(n,a,h,b){var N=n;"keep"!==a&&(N=n.getContent());for(var w=N.getIdentifier(),_=null,D=0;D<X.length;D++)if(w in X[D]){_=D;break}if("OperatorNode:multiply"===w&&N.implicit&&"show"!==h){var E=unwrapParen(N.args[0],a);isConstantNode(E)&&b&&"OperatorNode:divide"===b.getIdentifier()&&rule2Node(unwrapParen(b.args[0],a))||"OperatorNode:divide"===E.getIdentifier()&&rule2Node(unwrapParen(E.args[0],a))&&isConstantNode(unwrapParen(E.args[1]))||(_+=1)}return _}function getAssociativity(n,a){var h=n;"keep"!==a&&(h=n.getContent());var b=h.getIdentifier(),N=getPrecedence(h,a);if(null===N)return null;var w=X[N][b];if(object_hasOwnProperty(w,"associativity")){if("left"===w.associativity)return"left";if("right"===w.associativity)return"right";throw Error("'"+b+"' has the invalid associativity '"+w.associativity+"'.")}return null}function isAssociativeWith(n,a,h){var b="keep"!==h?n.getContent():n,N="keep"!==h?n.getContent():a,w=b.getIdentifier(),_=N.getIdentifier(),D=getPrecedence(b,h);if(null===D)return null;var E=X[D][w];if(object_hasOwnProperty(E,"associativeWith")&&E.associativeWith instanceof Array){for(var A=0;A<E.associativeWith.length;A++)if(E.associativeWith[A]===_)return!0;return!1}return null}var J=h(7928),Q={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},K={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},ee={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(K.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(K.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(K.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(K.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(K.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},fraction:{2:"\\frac{${args[0]}}{${args[1]}}"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(K.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(K.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : y^${args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(K.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(K.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(K.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(K.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(K.bitAnd,"${args[1]}\\right)")},bitNot:{1:K.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(K.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(K.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(K.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(K.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(K.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(K.and,"${args[1]}\\right)")},not:{1:K.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(K.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(K.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(K.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(K.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(K.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(K.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(K.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(K.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(K.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(K.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(K.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(K.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(K.to,"${args[1]}\\right)")},numeric:function(n,a){return n.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},bigint:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(Q.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},er={deg:"^\\circ"};function escapeLatex(n){return J(n,{preserveFormatting:!0})}function toSymbol(n,a){return(a=void 0!==a&&a)?object_hasOwnProperty(er,n)?er[n]:"\\mathrm{"+escapeLatex(n)+"}":object_hasOwnProperty(Q,n)?Q[n]:escapeLatex(n)}var et="OperatorNode",en=factory_factory(et,["Node"],n=>{var{Node:a}=n;function calculateNecessaryParentheses(n,a,h,b,N){var w=getPrecedence(n,a,h),_=getAssociativity(n,a);if("all"===a||b.length>2&&"OperatorNode:add"!==n.getIdentifier()&&"OperatorNode:multiply"!==n.getIdentifier())return b.map(function(n){switch(n.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});switch(b.length){case 0:D=[];break;case 1:var D,E,A,M=getPrecedence(b[0],a,h,n);if(N&&null!==M&&("keep"===a?(E=b[0].getIdentifier(),A=n.getIdentifier()):(E=b[0].getContent().getIdentifier(),A=n.getContent().getIdentifier()),!1===X[w][A].latexLeftParens||!1===X[M][E].latexParens)||null===M){D=[!1];break}if(M<=w){D=[!0];break}D=[!1];break;case 2:var B,I,z,q,j,L=getPrecedence(b[0],a,h,n),H=isAssociativeWith(n,b[0],a);B=null!==L&&(L===w&&"right"===_&&!H||L<w);var $=getPrecedence(b[1],a,h,n),V=isAssociativeWith(n,b[1],a);I=null!==$&&($===w&&"left"===_&&!V||$<w),N&&("keep"===a?(z=n.getIdentifier(),q=n.args[0].getIdentifier(),j=n.args[1].getIdentifier()):(z=n.getContent().getIdentifier(),q=n.args[0].getContent().getIdentifier(),j=n.args[1].getContent().getIdentifier()),null!==L&&(!1===X[w][z].latexLeftParens&&(B=!1),!1===X[L][q].latexParens&&(B=!1)),null!==$&&(!1===X[w][z].latexRightParens&&(I=!1),!1===X[$][j].latexParens&&(I=!1))),D=[B,I];break;default:("OperatorNode:add"===n.getIdentifier()||"OperatorNode:multiply"===n.getIdentifier())&&(D=b.map(function(b){var N=getPrecedence(b,a,h,n),D=isAssociativeWith(n,b,a),E=getAssociativity(b,a);if(null===N);else if(w===N&&_===E&&!D)return!0;else if(N<w)return!0;return!1}))}if(b.length>=2&&"OperatorNode:multiply"===n.getIdentifier()&&n.implicit&&"all"!==a&&"hide"===h)for(var G=1;G<D.length;++G)!function startsWithConstant(n,a){var h=n;if("auto"===a)for(;isParenthesisNode(h);)h=h.content;return!!isConstantNode(h)||!!isOperatorNode(h)&&startsWithConstant(h.args[0],a)}(b[G],a)||D[G-1]||"keep"===a&&isParenthesisNode(b[G-1])||(D[G]=!0);return D}let OperatorNode=class OperatorNode extends a{constructor(n,a,h,b,N){if(super(),"string"!=typeof n)throw TypeError('string expected for parameter "op"');if("string"!=typeof a)throw TypeError('string expected for parameter "fn"');if(!Array.isArray(h)||!h.every(isNode))throw TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===b,this.isPercentage=!0===N,this.op=n,this.fn=a,this.args=h||[]}get type(){return et}get isOperatorNode(){return!0}_compile(n,a){if("string"!=typeof this.fn||!isSafeMethod(n,this.fn)){if(n[this.fn])throw Error('No access to function "'+this.fn+'"');throw Error("Function "+this.fn+' missing in provided namespace "math"')}var h=getSafeProperty(n,this.fn),b=map(this.args,function(h){return h._compile(n,a)});if("function"==typeof h&&!0===h.rawArgs){var N=this.args;return function(a,b,w){return h(N,n,createSubScope(a,b))}}if(1===b.length){var w=b[0];return function(n,a,b){return h(w(n,a,b))}}if(2!==b.length)return function(n,a,N){return h.apply(null,map(b,function(h){return h(n,a,N)}))};var _=b[0],D=b[1];return function(n,a,b){return h(_(n,a,b),D(n,a,b))}}forEach(n){for(var a=0;a<this.args.length;a++)n(this.args[a],"args["+a+"]",this)}map(n){for(var a=[],h=0;h<this.args.length;h++)a[h]=this._ifNode(n(this.args[h],"args["+h+"]",this));return new OperatorNode(this.op,this.fn,a,this.implicit,this.isPercentage)}clone(){return new OperatorNode(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return 1===this.args.length}isBinary(){return 2===this.args.length}_toString(n){var a=n&&n.parenthesis?n.parenthesis:"keep",h=n&&n.implicit?n.implicit:"hide",b=this.args,N=calculateNecessaryParentheses(this,a,h,b,!1);if(1===b.length){var w=getAssociativity(this,a),_=b[0].toString(n);N[0]&&(_="("+_+")");var D=/[a-zA-Z]+/.test(this.op);return"right"===w?this.op+(D?" ":"")+_:"left"===w?_+(D?" ":"")+this.op:_+this.op}if(2===b.length){var E=b[0].toString(n),A=b[1].toString(n);return(N[0]&&(E="("+E+")"),N[1]&&(A="("+A+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===h)?E+" "+A:E+" "+this.op+" "+A}if(!(b.length>2)||"OperatorNode:add"!==this.getIdentifier()&&"OperatorNode:multiply"!==this.getIdentifier())return this.fn+"("+this.args.join(", ")+")";var M=b.map(function(a,h){return a=a.toString(n),N[h]&&(a="("+a+")"),a});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===h?M.join(" "):M.join(" "+this.op+" ")}toJSON(){return{mathjs:et,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(n){return new OperatorNode(n.op,n.fn,n.args,n.implicit,n.isPercentage)}_toHTML(n){var a=n&&n.parenthesis?n.parenthesis:"keep",h=n&&n.implicit?n.implicit:"hide",b=this.args,N=calculateNecessaryParentheses(this,a,h,b,!1);if(1===b.length){var w=getAssociativity(this,a),_=b[0].toHTML(n);return(N[0]&&(_='<span class="math-parenthesis math-round-parenthesis">(</span>'+_+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===w)?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+string_escape(this.op)+"</span>"+_:_+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+string_escape(this.op)+"</span>"}if(2===b.length){var D=b[0].toHTML(n),E=b[1].toHTML(n);return(N[0]&&(D='<span class="math-parenthesis math-round-parenthesis">(</span>'+D+'<span class="math-parenthesis math-round-parenthesis">)</span>'),N[1]&&(E='<span class="math-parenthesis math-round-parenthesis">(</span>'+E+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===h)?D+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+E:D+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+string_escape(this.op)+"</span>"+E}var A=b.map(function(a,h){return a=a.toHTML(n),N[h]&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),a});return b.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===h?A.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):A.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+string_escape(this.op)+"</span>"):'<span class="math-function">'+string_escape(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+A.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}_toTex(n){var a=n&&n.parenthesis?n.parenthesis:"keep",h=n&&n.implicit?n.implicit:"hide",b=this.args,N=calculateNecessaryParentheses(this,a,h,b,!0),w=K[this.fn];if(w=void 0===w?this.op:w,1===b.length){var _=getAssociativity(this,a),D=b[0].toTex(n);return(N[0]&&(D="\\left(".concat(D,"\\right)")),"right"===_)?w+D:D+w}if(2===b.length){var E,A=b[0],M=A.toTex(n);N[0]&&(M="\\left(".concat(M,"\\right)"));var B=b[1].toTex(n);switch(N[1]&&(B="\\left(".concat(B,"\\right)")),E="keep"===a?A.getIdentifier():A.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return w+"{"+M+"}{"+B+"}";case"OperatorNode:pow":switch(M="{"+M+"}",B="{"+B+"}",E){case"ConditionalNode":case"OperatorNode:divide":M="\\left(".concat(M,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===h)return M+"~"+B}return M+w+B}if(!(b.length>2)||"OperatorNode:add"!==this.getIdentifier()&&"OperatorNode:multiply"!==this.getIdentifier())return"\\mathrm{"+this.fn+"}\\left("+b.map(function(a){return a.toTex(n)}).join(",")+"\\right)";var I=b.map(function(a,h){return a=a.toTex(n),N[h]&&(a="\\left(".concat(a,"\\right)")),a});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit&&"hide"===h?I.join("~"):I.join(w)}getIdentifier(){return this.type+":"+this.fn}};return _defineProperty(OperatorNode,"name",et),OperatorNode},{isClass:!0,isNode:!0}),ei="ParenthesisNode",ea=factory_factory(ei,["Node"],n=>{var{Node:a}=n;let ParenthesisNode=class ParenthesisNode extends a{constructor(n){if(super(),!isNode(n))throw TypeError('Node expected for parameter "content"');this.content=n}get type(){return ei}get isParenthesisNode(){return!0}_compile(n,a){return this.content._compile(n,a)}getContent(){return this.content.getContent()}forEach(n){n(this.content,"content",this)}map(n){var a=n(this.content,"content",this);return new ParenthesisNode(a)}clone(){return new ParenthesisNode(this.content)}_toString(n){return!n||n&&!n.parenthesis||n&&"keep"===n.parenthesis?"("+this.content.toString(n)+")":this.content.toString(n)}toJSON(){return{mathjs:ei,content:this.content}}static fromJSON(n){return new ParenthesisNode(n.content)}_toHTML(n){return!n||n&&!n.parenthesis||n&&"keep"===n.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(n)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(n)}_toTex(n){return!n||n&&!n.parenthesis||n&&"keep"===n.parenthesis?"\\left(".concat(this.content.toTex(n),"\\right)"):this.content.toTex(n)}};return _defineProperty(ParenthesisNode,"name",ei),ParenthesisNode},{isClass:!0,isNode:!0}),eo="RelationalNode",es=factory_factory(eo,["Node"],n=>{var{Node:a}=n,h={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};let RelationalNode=class RelationalNode extends a{constructor(n,a){if(super(),!Array.isArray(n))throw TypeError("Parameter conditionals must be an array");if(!Array.isArray(a))throw TypeError("Parameter params must be an array");if(n.length!==a.length-1)throw TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=n,this.params=a}get type(){return eo}get isRelationalNode(){return!0}_compile(n,a){var h=this,b=this.params.map(h=>h._compile(n,a));return function(a,N,w){for(var _,D=b[0](a,N,w),E=0;E<h.conditionals.length;E++)if(_=D,D=b[E+1](a,N,w),!getSafeProperty(n,h.conditionals[E])(_,D))return!1;return!0}}forEach(n){this.params.forEach((a,h)=>n(a,"params["+h+"]",this),this)}map(n){return new RelationalNode(this.conditionals.slice(),this.params.map((a,h)=>this._ifNode(n(a,"params["+h+"]",this)),this))}clone(){return new RelationalNode(this.conditionals,this.params)}_toString(n){for(var a=n&&n.parenthesis?n.parenthesis:"keep",b=getPrecedence(this,a,n&&n.implicit),N=this.params.map(function(h,N){var w=getPrecedence(h,a,n&&n.implicit);return"all"===a||null!==w&&w<=b?"("+h.toString(n)+")":h.toString(n)}),w=N[0],_=0;_<this.conditionals.length;_++)w+=" "+h[this.conditionals[_]]+" "+N[_+1];return w}toJSON(){return{mathjs:eo,conditionals:this.conditionals,params:this.params}}static fromJSON(n){return new RelationalNode(n.conditionals,n.params)}_toHTML(n){for(var a=n&&n.parenthesis?n.parenthesis:"keep",b=getPrecedence(this,a,n&&n.implicit),N=this.params.map(function(h,N){var w=getPrecedence(h,a,n&&n.implicit);return"all"===a||null!==w&&w<=b?'<span class="math-parenthesis math-round-parenthesis">(</span>'+h.toHTML(n)+'<span class="math-parenthesis math-round-parenthesis">)</span>':h.toHTML(n)}),w=N[0],_=0;_<this.conditionals.length;_++)w+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+string_escape(h[this.conditionals[_]])+"</span>"+N[_+1];return w}_toTex(n){for(var a=n&&n.parenthesis?n.parenthesis:"keep",h=getPrecedence(this,a,n&&n.implicit),b=this.params.map(function(b,N){var w=getPrecedence(b,a,n&&n.implicit);return"all"===a||null!==w&&w<=h?"\\left("+b.toTex(n)+"\right)":b.toTex(n)}),N=b[0],w=0;w<this.conditionals.length;w++)N+=K[this.conditionals[w]]+b[w+1];return N}};return _defineProperty(RelationalNode,"name",eo),RelationalNode},{isClass:!0,isNode:!0}),eu="ArrayNode",ec=factory_factory(eu,["Node"],n=>{var{Node:a}=n;let ArrayNode=class ArrayNode extends a{constructor(n){if(super(),this.items=n||[],!Array.isArray(this.items)||!this.items.every(isNode))throw TypeError("Array containing Nodes expected")}get type(){return eu}get isArrayNode(){return!0}_compile(n,a){var h=map(this.items,function(h){return h._compile(n,a)});if(!("Array"!==n.config.matrix))return function(n,a,b){return map(h,function(h){return h(n,a,b)})};var b=n.matrix;return function(n,a,N){return b(map(h,function(h){return h(n,a,N)}))}}forEach(n){for(var a=0;a<this.items.length;a++)n(this.items[a],"items["+a+"]",this)}map(n){for(var a=[],h=0;h<this.items.length;h++)a[h]=this._ifNode(n(this.items[h],"items["+h+"]",this));return new ArrayNode(a)}clone(){return new ArrayNode(this.items.slice(0))}_toString(n){return"["+this.items.map(function(a){return a.toString(n)}).join(", ")+"]"}toJSON(){return{mathjs:eu,items:this.items}}static fromJSON(n){return new ArrayNode(n.items)}_toHTML(n){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(a){return a.toHTML(n)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(n){return function itemsToTex(a,h){var b=a.some(isArrayNode)&&!a.every(isArrayNode),N=h||b,w=a.map(function(a){return a.items?itemsToTex(a.items,!h):a.toTex(n)}).join(N?"&":"\\\\");return b||!N||N&&!h?"\\begin{bmatrix}"+w+"\\end{bmatrix}":w}(this.items,!1)}};return _defineProperty(ArrayNode,"name",eu),ArrayNode},{isClass:!0,isNode:!0}),el="BlockNode",ef=factory_factory(el,["ResultSet","Node"],n=>{var{ResultSet:a,Node:h}=n;let BlockNode=class BlockNode extends h{constructor(n){if(super(),!Array.isArray(n))throw Error("Array expected");this.blocks=n.map(function(n){var a=n&&n.node,h=!n||void 0===n.visible||n.visible;if(!isNode(a))throw TypeError('Property "node" must be a Node');if("boolean"!=typeof h)throw TypeError('Property "visible" must be a boolean');return{node:a,visible:h}})}get type(){return el}get isBlockNode(){return!0}_compile(n,h){var b=map(this.blocks,function(a){return{evaluate:a.node._compile(n,h),visible:a.visible}});return function(n,h,N){var w=[];return forEach(b,function(a){var b=a.evaluate(n,h,N);a.visible&&w.push(b)}),new a(w)}}forEach(n){for(var a=0;a<this.blocks.length;a++)n(this.blocks[a].node,"blocks["+a+"].node",this)}map(n){for(var a=[],h=0;h<this.blocks.length;h++){var b=this.blocks[h],N=this._ifNode(n(b.node,"blocks["+h+"].node",this));a[h]={node:N,visible:b.visible}}return new BlockNode(a)}clone(){var n=this.blocks.map(function(n){return{node:n.node,visible:n.visible}});return new BlockNode(n)}_toString(n){return this.blocks.map(function(a){return a.node.toString(n)+(a.visible?"":";")}).join("\n")}toJSON(){return{mathjs:el,blocks:this.blocks}}static fromJSON(n){return new BlockNode(n.blocks)}_toHTML(n){return this.blocks.map(function(a){return a.node.toHTML(n)+(a.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(n){return this.blocks.map(function(a){return a.node.toTex(n)+(a.visible?"":";")}).join("\\;\\;\n")}};return _defineProperty(BlockNode,"name",el),BlockNode},{isClass:!0,isNode:!0}),em="ConditionalNode",ep=factory_factory(em,["Node"],n=>{var{Node:a}=n;let ConditionalNode=class ConditionalNode extends a{constructor(n,a,h){if(super(),!isNode(n))throw TypeError("Parameter condition must be a Node");if(!isNode(a))throw TypeError("Parameter trueExpr must be a Node");if(!isNode(h))throw TypeError("Parameter falseExpr must be a Node");this.condition=n,this.trueExpr=a,this.falseExpr=h}get type(){return em}get isConditionalNode(){return!0}_compile(n,a){var h=this.condition._compile(n,a),b=this.trueExpr._compile(n,a),N=this.falseExpr._compile(n,a);return function(n,a,w){return!function(n){if("number"==typeof n||"boolean"==typeof n||"string"==typeof n)return!!n;if(n){if(isBigNumber(n))return!n.isZero();if(isComplex(n))return!!(n.re||n.im);if(isUnit(n))return!!n.value}if(null==n)return!1;throw TypeError('Unsupported type of condition "'+typeOf(n)+'"')}(h(n,a,w))?N(n,a,w):b(n,a,w)}}forEach(n){n(this.condition,"condition",this),n(this.trueExpr,"trueExpr",this),n(this.falseExpr,"falseExpr",this)}map(n){return new ConditionalNode(this._ifNode(n(this.condition,"condition",this)),this._ifNode(n(this.trueExpr,"trueExpr",this)),this._ifNode(n(this.falseExpr,"falseExpr",this)))}clone(){return new ConditionalNode(this.condition,this.trueExpr,this.falseExpr)}_toString(n){var a=n&&n.parenthesis?n.parenthesis:"keep",h=getPrecedence(this,a,n&&n.implicit),b=this.condition.toString(n),N=getPrecedence(this.condition,a,n&&n.implicit);("all"===a||"OperatorNode"===this.condition.type||null!==N&&N<=h)&&(b="("+b+")");var w=this.trueExpr.toString(n),_=getPrecedence(this.trueExpr,a,n&&n.implicit);("all"===a||"OperatorNode"===this.trueExpr.type||null!==_&&_<=h)&&(w="("+w+")");var D=this.falseExpr.toString(n),E=getPrecedence(this.falseExpr,a,n&&n.implicit);return("all"===a||"OperatorNode"===this.falseExpr.type||null!==E&&E<=h)&&(D="("+D+")"),b+" ? "+w+" : "+D}toJSON(){return{mathjs:em,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(n){return new ConditionalNode(n.condition,n.trueExpr,n.falseExpr)}_toHTML(n){var a=n&&n.parenthesis?n.parenthesis:"keep",h=getPrecedence(this,a,n&&n.implicit),b=this.condition.toHTML(n),N=getPrecedence(this.condition,a,n&&n.implicit);("all"===a||"OperatorNode"===this.condition.type||null!==N&&N<=h)&&(b='<span class="math-parenthesis math-round-parenthesis">(</span>'+b+'<span class="math-parenthesis math-round-parenthesis">)</span>');var w=this.trueExpr.toHTML(n),_=getPrecedence(this.trueExpr,a,n&&n.implicit);("all"===a||"OperatorNode"===this.trueExpr.type||null!==_&&_<=h)&&(w='<span class="math-parenthesis math-round-parenthesis">(</span>'+w+'<span class="math-parenthesis math-round-parenthesis">)</span>');var D=this.falseExpr.toHTML(n),E=getPrecedence(this.falseExpr,a,n&&n.implicit);return("all"===a||"OperatorNode"===this.falseExpr.type||null!==E&&E<=h)&&(D='<span class="math-parenthesis math-round-parenthesis">(</span>'+D+'<span class="math-parenthesis math-round-parenthesis">)</span>'),b+'<span class="math-operator math-conditional-operator">?</span>'+w+'<span class="math-operator math-conditional-operator">:</span>'+D}_toTex(n){return"\\begin{cases} {"+this.trueExpr.toTex(n)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(n)+"}\\\\{"+this.falseExpr.toTex(n)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}};return _defineProperty(ConditionalNode,"name",em),ConditionalNode},{isClass:!0,isNode:!0}),ed="ConstantNode",eh=factory_factory(ed,["Node"],n=>{var{Node:a}=n;let ConstantNode=class ConstantNode extends a{constructor(n){super(),this.value=n}get type(){return ed}get isConstantNode(){return!0}_compile(n,a){var h=this.value;return function(){return h}}forEach(n){}map(n){return this.clone()}clone(){return new ConstantNode(this.value)}_toString(n){return string_format(this.value,n)}_toHTML(n){var a=this._toString(n);switch(typeOf(this.value)){case"number":case"bigint":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:ed,value:this.value}}static fromJSON(n){return new ConstantNode(n.value)}_toTex(n){var a=this._toString(n),h=typeOf(this.value);switch(h){case"string":return"\\mathtt{"+escapeLatex(a)+"}";case"number":case"BigNumber":if(!("BigNumber"===h?this.value.isFinite():isFinite(this.value)))return 0>this.value.valueOf()?"-\\infty":"\\infty";var b=a.toLowerCase().indexOf("e");if(-1!==b)return a.substring(0,b)+"\\cdot10^{"+a.substring(b+1)+"}";return a;case"bigint":return a.toString();case"Fraction":return this.value.toLatex();default:return a}}};return _defineProperty(ConstantNode,"name",ed),ConstantNode},{isClass:!0,isNode:!0}),eg="RangeNode",ey=factory_factory(eg,["Node"],n=>{var{Node:a}=n;function calculateNecessaryParentheses(n,a,h){var b=getPrecedence(n,a,h),N={},w=getPrecedence(n.start,a,h);if(N.start=null!==w&&w<=b||"all"===a,n.step){var _=getPrecedence(n.step,a,h);N.step=null!==_&&_<=b||"all"===a}var D=getPrecedence(n.end,a,h);return N.end=null!==D&&D<=b||"all"===a,N}let RangeNode=class RangeNode extends a{constructor(n,a,h){if(super(),!isNode(n)||!isNode(a)||h&&!isNode(h))throw TypeError("Node expected");if(arguments.length>3)throw Error("Too many arguments");this.start=n,this.end=a,this.step=h||null}get type(){return eg}get isRangeNode(){return!0}needsEnd(){return this.filter(function(n){return isSymbolNode(n)&&"end"===n.name}).length>0}_compile(n,a){var h=n.range,b=this.start._compile(n,a),N=this.end._compile(n,a);if(!this.step)return function(n,a,w){return h(b(n,a,w),N(n,a,w))};var w=this.step._compile(n,a);return function(n,a,_){return h(b(n,a,_),N(n,a,_),w(n,a,_))}}forEach(n){n(this.start,"start",this),n(this.end,"end",this),this.step&&n(this.step,"step",this)}map(n){return new RangeNode(this._ifNode(n(this.start,"start",this)),this._ifNode(n(this.end,"end",this)),this.step&&this._ifNode(n(this.step,"step",this)))}clone(){return new RangeNode(this.start,this.end,this.step&&this.step)}_toString(n){var a,h=calculateNecessaryParentheses(this,n&&n.parenthesis?n.parenthesis:"keep",n&&n.implicit),b=this.start.toString(n);if(h.start&&(b="("+b+")"),a=b,this.step){var N=this.step.toString(n);h.step&&(N="("+N+")"),a+=":"+N}var w=this.end.toString(n);return h.end&&(w="("+w+")"),a+=":"+w}toJSON(){return{mathjs:eg,start:this.start,end:this.end,step:this.step}}static fromJSON(n){return new RangeNode(n.start,n.end,n.step)}_toHTML(n){var a,h=calculateNecessaryParentheses(this,n&&n.parenthesis?n.parenthesis:"keep",n&&n.implicit),b=this.start.toHTML(n);if(h.start&&(b='<span class="math-parenthesis math-round-parenthesis">(</span>'+b+'<span class="math-parenthesis math-round-parenthesis">)</span>'),a=b,this.step){var N=this.step.toHTML(n);h.step&&(N='<span class="math-parenthesis math-round-parenthesis">(</span>'+N+'<span class="math-parenthesis math-round-parenthesis">)</span>'),a+='<span class="math-operator math-range-operator">:</span>'+N}var w=this.end.toHTML(n);return h.end&&(w='<span class="math-parenthesis math-round-parenthesis">(</span>'+w+'<span class="math-parenthesis math-round-parenthesis">)</span>'),a+='<span class="math-operator math-range-operator">:</span>'+w}_toTex(n){var a=calculateNecessaryParentheses(this,n&&n.parenthesis?n.parenthesis:"keep",n&&n.implicit),h=this.start.toTex(n);if(a.start&&(h="\\left(".concat(h,"\\right)")),this.step){var b=this.step.toTex(n);a.step&&(b="\\left(".concat(b,"\\right)")),h+=":"+b}var N=this.end.toTex(n);return a.end&&(N="\\left(".concat(N,"\\right)")),h+=":"+N}};return _defineProperty(RangeNode,"name",eg),RangeNode},{isClass:!0,isNode:!0}),ev=factory_factory("reviver",["classes"],n=>{var{classes:a}=n;return function(n,h){var b=a[h&&h.mathjs];return b&&"function"==typeof b.fromJSON?b.fromJSON(h):h}}),ex=factory_factory("Chain",["?on","math","typed"],n=>{var{on:a,math:h,typed:b}=n;function Chain(n){if(!(this instanceof Chain))throw SyntaxError("Constructor must be called with the new operator");isChain(n)?this.value=n.value:this.value=n}function createLazyProxy(n,a){var h,b,N,w;h=Chain.prototype,b=function(){var n=a();if("function"==typeof n)return chainify(n)},w=!0,Object.defineProperty(h,n,{get:function(){return w&&(N=b(),w=!1),N},set:function(n){N=n,w=!1},configurable:!0,enumerable:!0})}function chainify(n){return function(){if(0==arguments.length)return new Chain(n(this.value));for(var a=[this.value],h=0;h<arguments.length;h++)a[h+1]=arguments[h];if(b.isTypedFunction(n)){var N=b.resolve(n,a);if(1===N.params.length)throw Error("chain function "+n.name+" cannot match rest parameter between chain value and additional arguments.");return new Chain(N.implementation.apply(n,a))}return new Chain(n.apply(n,a))}}Chain.prototype.type="Chain",Chain.prototype.isChain=!0,Chain.prototype.done=function(){return this.value},Chain.prototype.valueOf=function(){return this.value},Chain.prototype.toString=function(){return string_format(this.value)},Chain.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},Chain.fromJSON=function(n){return new Chain(n.value)},Chain.createProxy=function(n,a){if("string"==typeof n)"function"==typeof a&&(Chain.prototype[n]=chainify(a));else{var _loop=function(a){object_hasOwnProperty(n,a)&&void 0===N[a]&&createLazyProxy(a,()=>n[a])};for(var h in n)_loop(h)}};var N={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return Chain.createProxy(h),a&&a("import",function(n,a,h){h||createLazyProxy(n,a)}),Chain},{isClass:!0}),eb="FunctionAssignmentNode",eN=factory_factory(eb,["typed","Node"],n=>{var{typed:a,Node:h}=n;function needParenthesis(n,a,h){var b=getPrecedence(n,a,h),N=getPrecedence(n.expr,a,h);return"all"===a||null!==N&&N<=b}let FunctionAssignmentNode=class FunctionAssignmentNode extends h{constructor(n,a,h){if(super(),"string"!=typeof n)throw TypeError('String expected for parameter "name"');if(!Array.isArray(a))throw TypeError('Array containing strings or objects expected for parameter "params"');if(!isNode(h))throw TypeError('Node expected for parameter "expr"');if(D.has(n))throw Error('Illegal function name, "'+n+'" is a reserved keyword');var b=new Set;for(var N of a){var w="string"==typeof N?N:N.name;if(b.has(w))throw Error('Duplicate parameter name "'.concat(w,'"'));b.add(w)}this.name=n,this.params=a.map(function(n){return n&&n.name||n}),this.types=a.map(function(n){return n&&n.type||"any"}),this.expr=h}get type(){return eb}get isFunctionAssignmentNode(){return!0}_compile(n,h){var b=Object.create(h);forEach(this.params,function(n){b[n]=!0});var N=this.expr,w=N._compile(n,b),_=this.name,D=this.params,E=join(this.types,","),A=_+"("+join(this.params,", ")+")";return function(n,h,b){var M={};M[E]=function(){for(var a=Object.create(h),N=0;N<D.length;N++)a[D[N]]=arguments[N];return w(n,a,b)};var B=a(_,M);return B.syntax=A,B.expr=N.toString(),n.set(_,B),B}}forEach(n){n(this.expr,"expr",this)}map(n){var a=this._ifNode(n(this.expr,"expr",this));return new FunctionAssignmentNode(this.name,this.params.slice(0),a)}clone(){return new FunctionAssignmentNode(this.name,this.params.slice(0),this.expr)}_toString(n){var a=n&&n.parenthesis?n.parenthesis:"keep",h=this.expr.toString(n);return needParenthesis(this,a,n&&n.implicit)&&(h="("+h+")"),this.name+"("+this.params.join(", ")+") = "+h}toJSON(){var n=this.types;return{mathjs:eb,name:this.name,params:this.params.map(function(a,h){return{name:a,type:n[h]}}),expr:this.expr}}static fromJSON(n){return new FunctionAssignmentNode(n.name,n.params,n.expr)}_toHTML(n){for(var a=n&&n.parenthesis?n.parenthesis:"keep",h=[],b=0;b<this.params.length;b++)h.push('<span class="math-symbol math-parameter">'+string_escape(this.params[b])+"</span>");var N=this.expr.toHTML(n);return needParenthesis(this,a,n&&n.implicit)&&(N='<span class="math-parenthesis math-round-parenthesis">(</span>'+N+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+string_escape(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+h.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+N}_toTex(n){var a=n&&n.parenthesis?n.parenthesis:"keep",h=this.expr.toTex(n);return needParenthesis(this,a,n&&n.implicit)&&(h="\\left(".concat(h,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(toSymbol).join(",")+"\\right)="+h}};return _defineProperty(FunctionAssignmentNode,"name",eb),FunctionAssignmentNode},{isClass:!0,isNode:!0}),ew="chain",e_=factory_factory(ew,["typed","Chain"],n=>{var{typed:a,Chain:h}=n;return a(ew,{"":function(){return new h},any:function(n){return new h(n)}})}),eD="IndexNode",eE=factory_factory(eD,["Node","size"],n=>{var{Node:a,size:h}=n;let IndexNode=class IndexNode extends a{constructor(n,a){if(super(),this.dimensions=n,this.dotNotation=a||!1,!Array.isArray(n)||!n.every(isNode))throw TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw Error("dotNotation only applicable for object properties")}get type(){return eD}get isIndexNode(){return!0}_compile(n,a){var b=map(this.dimensions,function(b,N){if(!(b.filter(n=>n.isSymbolNode&&"end"===n.name).length>0))return b._compile(n,a);var w=Object.create(a);w.end=!0;var D=b._compile(n,w);return function(n,a,b){if(!isMatrix(b)&&!_(b)&&!isString(b))throw TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+typeOf(b));var w=h(b),E=Object.create(a);return E.end=w[N],D(n,E,b)}}),N=getSafeProperty(n,"index");return function(n,a,h){return N(...map(b,function(b){return b(n,a,h)}))}}forEach(n){for(var a=0;a<this.dimensions.length;a++)n(this.dimensions[a],"dimensions["+a+"]",this)}map(n){for(var a=[],h=0;h<this.dimensions.length;h++)a[h]=this._ifNode(n(this.dimensions[h],"dimensions["+h+"]",this));return new IndexNode(a,this.dotNotation)}clone(){return new IndexNode(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return 1===this.dimensions.length&&isConstantNode(this.dimensions[0])&&"string"==typeof this.dimensions[0].value}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(n){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:eD,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(n){return new IndexNode(n.dimensions,n.dotNotation)}_toHTML(n){for(var a=[],h=0;h<this.dimensions.length;h++)a[h]=this.dimensions[h].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+string_escape(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(n){var a=this.dimensions.map(function(a){return a.toTex(n)});return this.dotNotation?"."+this.getObjectProperty():"_{"+a.join(",")+"}"}};return _defineProperty(IndexNode,"name",eD),IndexNode},{isClass:!0,isNode:!0});function errorTransform(n){return n&&n.isIndexError?new IndexError(n.index+1,n.min+1,void 0!==n.max?n.max+1:void 0):n}function accessFactory(n){var{subset:a}=n;return function(n,h){try{if(Array.isArray(n))return a(n,h);if(n&&"function"==typeof n.subset)return n.subset(h);if("string"==typeof n)return a(n,h);if("object"==typeof n){if(!h.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return getSafeProperty(n,h.getObjectProperty())}else throw TypeError("Cannot apply index: unsupported type of object")}catch(n){throw errorTransform(n)}}}var eA="AccessorNode",eC=factory_factory(eA,["subset","Node"],n=>{var{subset:a,Node:h}=n,b=accessFactory({subset:a});function needParenthesis(n){return!(isAccessorNode(n)||isArrayNode(n)||isConstantNode(n)||isFunctionNode(n)||isObjectNode(n)||isParenthesisNode(n)||isSymbolNode(n))}let AccessorNode=class AccessorNode extends h{constructor(n,a){if(super(),!isNode(n))throw TypeError('Node expected for parameter "object"');if(!isIndexNode(a))throw TypeError('IndexNode expected for parameter "index"');this.object=n,this.index=a}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return eA}get isAccessorNode(){return!0}_compile(n,a){var h=this.object._compile(n,a),N=this.index._compile(n,a);if(!this.index.isObjectProperty())return function(n,a,w){var _=h(n,a,w),D=N(n,a,_);return b(_,D)};var w=this.index.getObjectProperty();return function(n,a,b){return getSafeProperty(h(n,a,b),w)}}forEach(n){n(this.object,"object",this),n(this.index,"index",this)}map(n){return new AccessorNode(this._ifNode(n(this.object,"object",this)),this._ifNode(n(this.index,"index",this)))}clone(){return new AccessorNode(this.object,this.index)}_toString(n){var a=this.object.toString(n);return needParenthesis(this.object)&&(a="("+a+")"),a+this.index.toString(n)}_toHTML(n){var a=this.object.toHTML(n);return needParenthesis(this.object)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),a+this.index.toHTML(n)}_toTex(n){var a=this.object.toTex(n);return needParenthesis(this.object)&&(a="\\left(' + object + '\\right)"),a+this.index.toTex(n)}toJSON(){return{mathjs:eA,object:this.object,index:this.index}}static fromJSON(n){return new AccessorNode(n.object,n.index)}};return _defineProperty(AccessorNode,"name",eA),AccessorNode},{isClass:!0,isNode:!0}),eS="AssignmentNode",eM=factory_factory(eS,["subset","?matrix","Node"],n=>{var{subset:a,matrix:h,Node:b}=n,N=accessFactory({subset:a}),w=function(n){var{subset:a,matrix:h}=n;return function(n,b,N){try{if(Array.isArray(n))return h(n).subset(b,N).valueOf().forEach((a,h)=>{n[h]=a}),n;if(n&&"function"==typeof n.subset)return n.subset(b,N);if("string"==typeof n)return a(n,b,N);if("object"==typeof n){if(!b.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return setSafeProperty(n,b.getObjectProperty(),N),n}else throw TypeError("Cannot apply index: unsupported type of object")}catch(n){throw errorTransform(n)}}}({subset:a,matrix:h});function needParenthesis(n,a,h){a||(a="keep");var b=getPrecedence(n,a,h),N=getPrecedence(n.value,a,h);return"all"===a||null!==N&&N<=b}let AssignmentNode=class AssignmentNode extends b{constructor(n,a,h){if(super(),this.object=n,this.index=h?a:null,this.value=h||a,!isSymbolNode(n)&&!isAccessorNode(n))throw TypeError('SymbolNode or AccessorNode expected as "object"');if(isSymbolNode(n)&&"end"===n.name)throw Error('Cannot assign to symbol "end"');if(this.index&&!isIndexNode(this.index))throw TypeError('IndexNode expected as "index"');if(!isNode(this.value))throw TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return eS}get isAssignmentNode(){return!0}_compile(n,a){var h=this.object._compile(n,a),b=this.index?this.index._compile(n,a):null,_=this.value._compile(n,a),D=this.object.name;if(this.index){if(this.index.isObjectProperty()){var E=this.index.getObjectProperty();return function(n,a,b){var N=h(n,a,b),w=_(n,a,b);return setSafeProperty(N,E,w),w}}if(isSymbolNode(this.object))return function(n,a,N){var E=h(n,a,N),A=_(n,a,N),M=b(n,a,E);return n.set(D,w(E,M,A)),A};var A=this.object.object._compile(n,a);if(this.object.index.isObjectProperty()){var M=this.object.index.getObjectProperty();return function(n,a,h){var N=A(n,a,h),D=getSafeProperty(N,M),E=b(n,a,D),B=_(n,a,h);return setSafeProperty(N,M,w(D,E,B)),B}}var B=this.object.index._compile(n,a);return function(n,a,h){var D=A(n,a,h),E=B(n,a,D),M=N(D,E),I=b(n,a,M),z=_(n,a,h);return w(D,E,w(M,I,z)),z}}if(!isSymbolNode(this.object))throw TypeError("SymbolNode expected as object");return function(n,a,h){var b=_(n,a,h);return n.set(D,b),b}}forEach(n){n(this.object,"object",this),this.index&&n(this.index,"index",this),n(this.value,"value",this)}map(n){var a=this._ifNode(n(this.object,"object",this)),h=this.index?this._ifNode(n(this.index,"index",this)):null,b=this._ifNode(n(this.value,"value",this));return new AssignmentNode(a,h,b)}clone(){return new AssignmentNode(this.object,this.index,this.value)}_toString(n){var a=this.object.toString(n),h=this.index?this.index.toString(n):"",b=this.value.toString(n);return needParenthesis(this,n&&n.parenthesis,n&&n.implicit)&&(b="("+b+")"),a+h+" = "+b}toJSON(){return{mathjs:eS,object:this.object,index:this.index,value:this.value}}static fromJSON(n){return new AssignmentNode(n.object,n.index,n.value)}_toHTML(n){var a=this.object.toHTML(n),h=this.index?this.index.toHTML(n):"",b=this.value.toHTML(n);return needParenthesis(this,n&&n.parenthesis,n&&n.implicit)&&(b='<span class="math-paranthesis math-round-parenthesis">(</span>'+b+'<span class="math-paranthesis math-round-parenthesis">)</span>'),a+h+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+b}_toTex(n){var a=this.object.toTex(n),h=this.index?this.index.toTex(n):"",b=this.value.toTex(n);return needParenthesis(this,n&&n.parenthesis,n&&n.implicit)&&(b="\\left(".concat(b,"\\right)")),a+h+"="+b}};return _defineProperty(AssignmentNode,"name",eS),AssignmentNode},{isClass:!0,isNode:!0}),eF=factory_factory("SymbolNode",["math","?Unit","Node"],n=>{var{math:a,Unit:h,Node:b}=n;function isValuelessUnit(n){return!!h&&h.isValuelessUnit(n)}let SymbolNode=class SymbolNode extends b{constructor(n){if(super(),"string"!=typeof n)throw TypeError('String expected for parameter "name"');this.name=n}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(n,a){var b=this.name;if(!0===a[b])return function(n,a,h){return getSafeProperty(a,b)};if(b in n)return function(a,h,N){return a.has(b)?a.get(b):getSafeProperty(n,b)};var N=isValuelessUnit(b);return function(n,a,w){return n.has(b)?n.get(b):N?new h(null,b):SymbolNode.onUndefinedSymbol(b)}}forEach(n){}map(n){return this.clone()}static onUndefinedSymbol(n){throw Error("Undefined symbol "+n)}clone(){return new SymbolNode(this.name)}_toString(n){return this.name}_toHTML(n){var a=string_escape(this.name);return"true"===a||"false"===a?'<span class="math-symbol math-boolean">'+a+"</span>":"i"===a?'<span class="math-symbol math-imaginary-symbol">'+a+"</span>":"Infinity"===a?'<span class="math-symbol math-infinity-symbol">'+a+"</span>":"NaN"===a?'<span class="math-symbol math-nan-symbol">'+a+"</span>":"null"===a?'<span class="math-symbol math-null-symbol">'+a+"</span>":"undefined"===a?'<span class="math-symbol math-undefined-symbol">'+a+"</span>":'<span class="math-symbol">'+a+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(n){return new SymbolNode(n.name)}_toTex(n){var h=!1;void 0===a[this.name]&&isValuelessUnit(this.name)&&(h=!0);var b=toSymbol(this.name,h);return"\\"===b[0]?b:" "+b}};return SymbolNode},{isClass:!0,isNode:!0}),eT="FunctionNode",eO=factory_factory(eT,["math","Node","SymbolNode"],n=>{var{math:a,Node:h,SymbolNode:b}=n,strin=n=>string_format(n,{truncate:78});function expandTemplate(n,a,h){for(var b,N="",w=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,_=0;null!==(b=w.exec(n));)if(N+=n.substring(_,b.index),_=b.index,"$$"===b[0])N+="$",_++;else{_+=b[0].length;var D=a[b[1]];if(!D)throw ReferenceError("Template: Property "+b[1]+" does not exist.");if(void 0===b[2])switch(typeof D){case"string":N+=D;break;case"object":if(isNode(D))N+=D.toTex(h);else if(Array.isArray(D))N+=D.map(function(n,a){if(isNode(n))return n.toTex(h);throw TypeError("Template: "+b[1]+"["+a+"] is not a Node.")}).join(",");else throw TypeError("Template: "+b[1]+" has to be a Node, String or array of Nodes");break;default:throw TypeError("Template: "+b[1]+" has to be a Node, String or array of Nodes")}else if(isNode(D[b[2]]&&D[b[2]]))N+=D[b[2]].toTex(h);else throw TypeError("Template: "+b[1]+"["+b[2]+"] is not a Node.")}return N+n.slice(_)}let FunctionNode=class FunctionNode extends h{constructor(n,a){if(super(),"string"==typeof n&&(n=new b(n)),!isNode(n))throw TypeError('Node expected as parameter "fn"');if(!Array.isArray(a)||!a.every(isNode))throw TypeError('Array containing Nodes expected for parameter "args"');this.fn=n,this.args=a||[]}get name(){return this.fn.name||""}get type(){return eT}get isFunctionNode(){return!0}_compile(n,a){var h=this.args.map(h=>h._compile(n,a));if(isSymbolNode(this.fn)){var b=this.fn.name;if(a[b]){var N=this.args;return function(a,w,_){var D=getSafeProperty(w,b);if("function"!=typeof D)throw TypeError("Argument '".concat(b,"' was not a function; received: ").concat(strin(D)));if(D.rawArgs)return D(N,n,createSubScope(a,w));var E=h.map(n=>n(a,w,_));return D.apply(D,E)}}var w=b in n?getSafeProperty(n,b):void 0,_="function"==typeof w&&!0===w.rawArgs,resolveFn=a=>{var h;if(a.has(b))h=a.get(b);else{if(!(b in n))return FunctionNode.onUndefinedFunction(b);h=getSafeProperty(n,b)}if("function"==typeof h)return h;throw TypeError("'".concat(b,"' is not a function; its value is:\n  ").concat(strin(h)))};if(_){var D=this.args;return function(a,b,N){var w=resolveFn(a);return!0===w.rawArgs?w(D,n,createSubScope(a,b)):w(...h.map(n=>n(a,b,N)))}}switch(h.length){case 0:return function(n,a,h){return resolveFn(n)()};case 1:return function(n,a,b){return resolveFn(n)((0,h[0])(n,a,b))};case 2:return function(n,a,b){var N=resolveFn(n),w=h[0],_=h[1];return N(w(n,a,b),_(n,a,b))};default:return function(n,a,b){return resolveFn(n)(...h.map(h=>h(n,a,b)))}}}else if(isAccessorNode(this.fn)&&isIndexNode(this.fn.index)&&this.fn.index.isObjectProperty()){var E=this.fn.object._compile(n,a),A=this.fn.index.getObjectProperty(),M=this.args;return function(a,b,N){var w=E(a,b,N),_=function(n,a){if(!isSafeMethod(n,a))throw Error('No access to method "'+a+'"');return n[a]}(w,A);if(null!=_&&_.rawArgs)return _(M,n,createSubScope(a,b));var D=h.map(n=>n(a,b,N));return _.apply(w,D)}}else{var B=this.fn.toString(),I=this.fn._compile(n,a),z=this.args;return function(a,b,N){var w=I(a,b,N);if("function"!=typeof w)throw TypeError("Expression '".concat(B,"' did not evaluate to a function; value is:")+"\n  ".concat(strin(w)));if(w.rawArgs)return w(z,n,createSubScope(a,b));var _=h.map(n=>n(a,b,N));return w.apply(w,_)}}}forEach(n){n(this.fn,"fn",this);for(var a=0;a<this.args.length;a++)n(this.args[a],"args["+a+"]",this)}map(n){for(var a=this._ifNode(n(this.fn,"fn",this)),h=[],b=0;b<this.args.length;b++)h[b]=this._ifNode(n(this.args[b],"args["+b+"]",this));return new FunctionNode(a,h)}clone(){return new FunctionNode(this.fn,this.args.slice(0))}toString(n){var a,h=this.fn.toString(n);return(n&&"object"==typeof n.handler&&object_hasOwnProperty(n.handler,h)&&(a=n.handler[h](this,n)),void 0!==a)?a:super.toString(n)}_toString(n){var a=this.args.map(function(a){return a.toString(n)});return(isFunctionAssignmentNode(this.fn)?"("+this.fn.toString(n)+")":this.fn.toString(n))+"("+a.join(", ")+")"}toJSON(){return{mathjs:eT,fn:this.fn,args:this.args}}_toHTML(n){var a=this.args.map(function(a){return a.toHTML(n)});return'<span class="math-function">'+string_escape(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(n){var a;return(n&&"object"==typeof n.handler&&object_hasOwnProperty(n.handler,this.name)&&(a=n.handler[this.name](this,n)),void 0!==a)?a:super.toTex(n)}_toTex(n){var h,b,N=this.args.map(function(a){return a.toTex(n)});switch(ee[this.name]&&(h=ee[this.name]),a[this.name]&&("function"==typeof a[this.name].toTex||"object"==typeof a[this.name].toTex||"string"==typeof a[this.name].toTex)&&(h=a[this.name].toTex),typeof h){case"function":b=h(this,n);break;case"string":b=expandTemplate(h,this,n);break;case"object":switch(typeof h[N.length]){case"function":b=h[N.length](this,n);break;case"string":b=expandTemplate(h[N.length],this,n)}}return void 0!==b?b:expandTemplate("\\mathrm{${name}}\\left(${args}\\right)",this,n)}getIdentifier(){return this.type+":"+this.name}};return _defineProperty(FunctionNode,"name",eT),_defineProperty(FunctionNode,"onUndefinedFunction",function(n){throw Error("Undefined function "+n)}),_defineProperty(FunctionNode,"fromJSON",function(n){return new FunctionNode(n.fn,n.args)}),FunctionNode},{isClass:!0,isNode:!0});function _switch(n){var a,h,b=n.length,N=n[0].length,w=[];for(h=0;h<N;h++){var _=[];for(a=0;a<b;a++)_.push(n[a][h]);w.push(_)}return w}function containsCollections(n){for(var a=0;a<n.length;a++)if(isCollection(n[a]))return!0;return!1}function collection_deepForEach(n,a){isMatrix(n)?n.forEach(n=>a(n),!1,!0):deepForEach(n,a,!0)}function collection_deepMap(n,a,h){if(!h)return isMatrix(n)?n.map(n=>a(n),!1,!0):deepMap(n,a,!0);var skipZerosCallback=n=>0===n?n:a(n);return isMatrix(n)?n.map(n=>skipZerosCallback(n),!1,!0):deepMap(n,skipZerosCallback,!0)}function reduce(n,a,h){var b=Array.isArray(n)?arraySize(n):n.size();if(a<0||a>=b.length)throw new IndexError(a,b.length);return isMatrix(n)?n.create(_reduce(n.valueOf(),a,h),n.datatype()):_reduce(n,a,h)}function _reduce(n,a,h){var b,N,w,_;if(a<=0){if(Array.isArray(n[0])){for(b=0,_=_switch(n),N=[];b<_.length;b++)N[b]=_reduce(_[b],a-1,h);return N}for(b=1,w=n[0];b<n.length;b++)w=h(w,n[b]);return w}for(b=0,N=[];b<n.length;b++)N[b]=_reduce(n[b],a-1,h);return N}function scatter(n,a,h,b,N,w,_,D,E,A,M){var B,I,z,q,j=n._values,L=n._index,H=n._ptr;if(b)for(I=H[a],z=H[a+1],B=I;B<z;B++)h[q=L[B]]!==w?(h[q]=w,_.push(q),A?(b[q]=E?D(j[B],M):D(M,j[B]),N[q]=w):b[q]=j[B]):(b[q]=E?D(j[B],b[q]):D(b[q],j[B]),N[q]=w);else for(I=H[a],z=H[a+1],B=I;B<z;B++)h[q=L[B]]!==w?(h[q]=w,_.push(q)):N[q]=w}var eB="parse",eI=factory_factory(eB,["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],n=>{var{typed:a,numeric:h,config:b,AccessorNode:N,ArrayNode:w,AssignmentNode:_,BlockNode:D,ConditionalNode:E,ConstantNode:A,FunctionAssignmentNode:M,FunctionNode:B,IndexNode:I,ObjectNode:z,OperatorNode:q,ParenthesisNode:j,RangeNode:L,RelationalNode:H,SymbolNode:$}=n,V=a(eB,{string:function(n){return parseStart(n,{})},"Array | Matrix":function(n){return parseMultiple(n,{})},"string, Object":function(n,a){return parseStart(n,void 0!==a.nodes?a.nodes:{})},"Array | Matrix, Object":parseMultiple});function parseMultiple(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=void 0!==a.nodes?a.nodes:{};return collection_deepMap(n,function(n){if("string"!=typeof n)throw TypeError("String expected");return parseStart(n,h)})}var G={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},Z={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"??":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},W={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},Y={true:!0,false:!1,null:null,undefined},X=["NaN","Infinity"],J={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"};function currentString(n,a){return n.expression.substr(n.index,a)}function currentCharacter(n){return currentString(n,1)}function next(n){n.index++}function prevCharacter(n){return n.expression.charAt(n.index-1)}function nextCharacter(n){return n.expression.charAt(n.index+1)}function getToken(n){for(n.tokenType=G.NULL,n.token="",n.comment="";;){if("#"===currentCharacter(n))for(;"\n"!==currentCharacter(n)&&""!==currentCharacter(n);)n.comment+=currentCharacter(n),next(n);if(V.isWhitespace(currentCharacter(n),n.nestingLevel))next(n);else break}if(""===currentCharacter(n)){n.tokenType=G.DELIMITER;return}if("\n"===currentCharacter(n)&&!n.nestingLevel){n.tokenType=G.DELIMITER,n.token=currentCharacter(n),next(n);return}var a=currentCharacter(n),h=currentString(n,2),b=currentString(n,3);if(3===b.length&&Z[b]){n.tokenType=G.DELIMITER,n.token=b,next(n),next(n),next(n);return}if(2===h.length&&Z[h]){n.tokenType=G.DELIMITER,n.token=h,next(n),next(n);return}if(Z[a]){n.tokenType=G.DELIMITER,n.token=a,next(n);return}if(V.isDigitDot(a)){n.tokenType=G.NUMBER;var N=currentString(n,2);if("0b"===N||"0o"===N||"0x"===N){for(n.token+=currentCharacter(n),next(n),n.token+=currentCharacter(n),next(n);V.isAlpha(currentCharacter(n),prevCharacter(n),nextCharacter(n))||V.isDigit(currentCharacter(n));)n.token+=currentCharacter(n),next(n);if("."===currentCharacter(n))for(n.token+=".",next(n);V.isAlpha(currentCharacter(n),prevCharacter(n),nextCharacter(n))||V.isDigit(currentCharacter(n));)n.token+=currentCharacter(n),next(n);else if("i"===currentCharacter(n))for(n.token+="i",next(n);V.isDigit(currentCharacter(n));)n.token+=currentCharacter(n),next(n);return}if("."===currentCharacter(n)){if(n.token+=currentCharacter(n),next(n),!V.isDigit(currentCharacter(n))){n.tokenType=G.DELIMITER;return}}else{for(;V.isDigit(currentCharacter(n));)n.token+=currentCharacter(n),next(n);V.isDecimalMark(currentCharacter(n),nextCharacter(n))&&(n.token+=currentCharacter(n),next(n))}for(;V.isDigit(currentCharacter(n));)n.token+=currentCharacter(n),next(n);if("E"===currentCharacter(n)||"e"===currentCharacter(n)){if(V.isDigit(nextCharacter(n))||"-"===nextCharacter(n)||"+"===nextCharacter(n)){if(n.token+=currentCharacter(n),next(n),("+"===currentCharacter(n)||"-"===currentCharacter(n))&&(n.token+=currentCharacter(n),next(n)),!V.isDigit(currentCharacter(n)))throw createSyntaxError(n,'Digit expected, got "'+currentCharacter(n)+'"');for(;V.isDigit(currentCharacter(n));)n.token+=currentCharacter(n),next(n);if(V.isDecimalMark(currentCharacter(n),nextCharacter(n)))throw createSyntaxError(n,'Digit expected, got "'+currentCharacter(n)+'"')}else if(V.isDecimalMark(nextCharacter(n),n.expression.charAt(n.index+2)))throw next(n),createSyntaxError(n,'Digit expected, got "'+currentCharacter(n)+'"')}return}if(V.isAlpha(currentCharacter(n),prevCharacter(n),nextCharacter(n))){for(;V.isAlpha(currentCharacter(n),prevCharacter(n),nextCharacter(n))||V.isDigit(currentCharacter(n));)n.token+=currentCharacter(n),next(n);object_hasOwnProperty(W,n.token)?n.tokenType=G.DELIMITER:n.tokenType=G.SYMBOL;return}for(n.tokenType=G.UNKNOWN;""!==currentCharacter(n);)n.token+=currentCharacter(n),next(n);throw createSyntaxError(n,'Syntax error in part "'+n.token+'"')}function getTokenSkipNewline(n){do getToken(n);while("\n"===n.token)}function openParams(n){n.nestingLevel++}function closeParams(n){n.nestingLevel--}function parseStart(n,a){var h={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:G.NULL,nestingLevel:0,conditionalLevel:null};_extends(h,{expression:n,extraNodes:a}),getToken(h);var b=function(n){var a,h,b=[];for(""!==n.token&&"\n"!==n.token&&";"!==n.token&&(a=parseAssignment(n),n.comment&&(a.comment=n.comment));"\n"===n.token||";"===n.token;)0===b.length&&a&&(h=";"!==n.token,b.push({node:a,visible:h})),getToken(n),"\n"!==n.token&&";"!==n.token&&""!==n.token&&(a=parseAssignment(n),n.comment&&(a.comment=n.comment),h=";"!==n.token,b.push({node:a,visible:h}));return b.length>0?new D(b):(!a&&(a=new A(void 0),n.comment&&(a.comment=n.comment)),a)}(h);if(""!==h.token){if(h.tokenType===G.DELIMITER)throw createError(h,"Unexpected operator "+h.token);throw createSyntaxError(h,'Unexpected part "'+h.token+'"')}return b}function parseAssignment(n){var a,h,b,N,w=function(n){for(var a=function(n){for(var a=parseLogicalXor(n);"or"===n.token;)getTokenSkipNewline(n),a=new q("or","or",[a,parseLogicalXor(n)]);return a}(n);"?"===n.token;){var h=n.conditionalLevel;n.conditionalLevel=n.nestingLevel,getTokenSkipNewline(n);var b=a,N=parseAssignment(n);if(":"!==n.token)throw createSyntaxError(n,"False part of conditional expression expected");n.conditionalLevel=null,getTokenSkipNewline(n);var w=parseAssignment(n);a=new E(b,N,w),n.conditionalLevel=h}return a}(n);if("="===n.token){if(isSymbolNode(w))return a=w.name,getTokenSkipNewline(n),b=parseAssignment(n),new _(new $(a),b);if(isAccessorNode(w))return getTokenSkipNewline(n),b=parseAssignment(n),new _(w.object,w.index,b);if(isFunctionNode(w)&&isSymbolNode(w.fn)&&(N=!0,h=[],a=w.name,w.args.forEach(function(n,a){isSymbolNode(n)?h[a]=n.name:N=!1}),N))return getTokenSkipNewline(n),b=parseAssignment(n),new M(a,h,b);throw createSyntaxError(n,"Invalid left hand side of assignment operator =")}return w}function parseLogicalXor(n){for(var a=parseLogicalAnd(n);"xor"===n.token;)getTokenSkipNewline(n),a=new q("xor","xor",[a,parseLogicalAnd(n)]);return a}function parseLogicalAnd(n){for(var a=parseBitwiseOr(n);"and"===n.token;)getTokenSkipNewline(n),a=new q("and","and",[a,parseBitwiseOr(n)]);return a}function parseBitwiseOr(n){for(var a=parseBitwiseXor(n);"|"===n.token;)getTokenSkipNewline(n),a=new q("|","bitOr",[a,parseBitwiseXor(n)]);return a}function parseBitwiseXor(n){for(var a=parseBitwiseAnd(n);"^|"===n.token;)getTokenSkipNewline(n),a=new q("^|","bitXor",[a,parseBitwiseAnd(n)]);return a}function parseBitwiseAnd(n){for(var a=parseRelational(n);"&"===n.token;)getTokenSkipNewline(n),a=new q("&","bitAnd",[a,parseRelational(n)]);return a}function parseRelational(n){for(var a=[parseShift(n)],h=[],b={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};object_hasOwnProperty(b,n.token);){var N={name:n.token,fn:b[n.token]};h.push(N),getTokenSkipNewline(n),a.push(parseShift(n))}return 1===a.length?a[0]:2===a.length?new q(h[0].name,h[0].fn,a):new H(h.map(n=>n.fn),a)}function parseShift(n){a=parseConversion(n);for(var a,h,b,N,w={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};object_hasOwnProperty(w,n.token);)b=w[h=n.token],getTokenSkipNewline(n),N=[a,parseConversion(n)],a=new q(h,b,N);return a}function parseConversion(n){a=parseRange(n);for(var a,h,b,N,w={to:"to",in:"to"};object_hasOwnProperty(w,n.token);)b=w[h=n.token],getTokenSkipNewline(n),"in"===h&&"])},;".includes(n.token)?a=new q("*","multiply",[a,new $("in")],!0):(N=[a,parseRange(n)],a=new q(h,b,N));return a}function parseRange(n){var a,h=[];if(a=":"===n.token?new A(1):parseAddSubtract(n),":"===n.token&&n.conditionalLevel!==n.nestingLevel){for(h.push(a);":"===n.token&&h.length<3;)getTokenSkipNewline(n),")"===n.token||"]"===n.token||","===n.token||""===n.token?h.push(new $("end")):h.push(parseAddSubtract(n));a=3===h.length?new L(h[0],h[2],h[1]):new L(h[0],h[1])}return a}function parseAddSubtract(n){a=parseMultiplyDivideModulus(n);for(var a,h,b,N,w={"+":"add","-":"subtract"};object_hasOwnProperty(w,n.token);){b=w[h=n.token],getTokenSkipNewline(n);var _=parseMultiplyDivideModulus(n);N=_.isPercentage?[a,new q("*","multiply",[a,_])]:[a,_],a=new q(h,b,N)}return a}function parseMultiplyDivideModulus(n){h=a=parseImplicitMultiplication(n);for(var a,h,b,N,w={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};;)if(object_hasOwnProperty(w,n.token))N=w[b=n.token],getTokenSkipNewline(n),h=parseImplicitMultiplication(n),a=new q(b,N,[a,h]);else break;return a}function parseImplicitMultiplication(n){var a,h;for(h=a=parseRule2(n);;)if(n.tokenType===G.SYMBOL||"in"===n.token&&isConstantNode(a)||"in"===n.token&&isOperatorNode(a)&&"unaryMinus"===a.fn&&isConstantNode(a.args[0])||n.tokenType===G.NUMBER&&!isConstantNode(h)&&(!isOperatorNode(h)||"!"===h.op)||"("===n.token)h=parseRule2(n),a=new q("*","multiply",[a,h],!0);else break;return a}function parseRule2(n){for(var a=parseUnaryPercentage(n),h=a,b=[];;)if("/"===n.token&&rule2Node(h)){if(b.push(_extends({},n)),getTokenSkipNewline(n),n.tokenType===G.NUMBER){if(b.push(_extends({},n)),getTokenSkipNewline(n),n.tokenType===G.SYMBOL||"("===n.token||"in"===n.token)_extends(n,b.pop()),b.pop(),h=parseUnaryPercentage(n),a=new q("/","divide",[a,h]);else{b.pop(),_extends(n,b.pop());break}}else{_extends(n,b.pop());break}}else break;return a}function parseUnaryPercentage(n){var a=parseUnary(n);if("%"===n.token){var h=_extends({},n);getTokenSkipNewline(n);try{parseUnary(n),_extends(n,h)}catch(n){a=new q("/","divide",[a,new A(100)],!1,!0)}}return a}function parseUnary(n){var a,h,b,N,w,_,D,E={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return object_hasOwnProperty(E,n.token)?(D=E[n.token],w=n.token,getTokenSkipNewline(n),_=[parseUnary(n)],new q(w,D,_)):(a=function(n){for(var a=parseLeftHandOperators(n);"??"===n.token;)getTokenSkipNewline(n),a=new q("??","nullish",[a,parseLeftHandOperators(n)]);return a}(n),("^"===n.token||".^"===n.token)&&(b="^"===(h=n.token)?"pow":"dotPow",getTokenSkipNewline(n),N=[a,parseUnary(n)],a=new q(h,b,N)),a)}function parseLeftHandOperators(n){a=function(n){var a,N,_=[];if(n.tokenType===G.SYMBOL&&object_hasOwnProperty(n.extraNodes,n.token)){var D=n.extraNodes[n.token];if(getToken(n),"("===n.token){if(_=[],openParams(n),getToken(n),")"!==n.token)for(_.push(parseAssignment(n));","===n.token;)getToken(n),_.push(parseAssignment(n));if(")"!==n.token)throw createSyntaxError(n,"Parenthesis ) expected");closeParams(n),getToken(n)}return new D(_)}return n.tokenType===G.SYMBOL||n.tokenType===G.DELIMITER&&n.token in W?(a=n.token,getToken(n),parseAccessors(n,object_hasOwnProperty(Y,a)?new A(Y[a]):X.includes(a)?new A(h(a,"number")):new $(a))):'"'===n.token||"'"===n.token?(N=parseStringToken(n,n.token),parseAccessors(n,new A(N))):function(n){var a,N,_,D;if("["===n.token){if(openParams(n),getToken(n),"]"!==n.token){var E=parseRow(n);if(";"===n.token){for(_=1,N=[E];";"===n.token;)getToken(n),"]"!==n.token&&(N[_]=parseRow(n),_++);if("]"!==n.token)throw createSyntaxError(n,"End of matrix ] expected");closeParams(n),getToken(n),D=N[0].items.length;for(var M=1;M<_;M++)if(N[M].items.length!==D)throw createError(n,"Column dimensions mismatch ("+N[M].items.length+" !== "+D+")");a=new w(N)}else{if("]"!==n.token)throw createSyntaxError(n,"End of matrix ] expected");closeParams(n),getToken(n),a=E}}else closeParams(n),getToken(n),a=new w([]);return parseAccessors(n,a)}return function(n){if("{"===n.token){openParams(n);var a,N={};do if(getToken(n),"}"!==n.token){if('"'===n.token||"'"===n.token)a=parseStringToken(n,n.token);else if(n.tokenType===G.SYMBOL||n.tokenType===G.DELIMITER&&n.token in W)a=n.token,getToken(n);else throw createSyntaxError(n,"Symbol or string expected as object key");if(":"!==n.token)throw createSyntaxError(n,"Colon : expected after object key");getToken(n),N[a]=parseAssignment(n)}while(","===n.token);if("}"!==n.token)throw createSyntaxError(n,"Comma , or bracket } expected after object value");return closeParams(n),getToken(n),parseAccessors(n,new z(N))}return function(n){var a;if(n.tokenType===G.NUMBER){a=n.token,getToken(n);var N=safeNumberType(a,b),w=h(a,N);return new A(w)}return function(n){var a;if("("===n.token){if(openParams(n),getToken(n),a=parseAssignment(n),")"!==n.token)throw createSyntaxError(n,"Parenthesis ) expected");return closeParams(n),getToken(n),a=parseAccessors(n,a=new j(a))}return function(n){if(""===n.token)throw createSyntaxError(n,"Unexpected end of expression");throw createSyntaxError(n,"Value expected")}(n)}(n)}(n)}(n)}(n)}(n);for(var a,N,_,D,E={"!":"factorial","'":"ctranspose"};object_hasOwnProperty(E,n.token);)_=E[N=n.token],getToken(n),D=[a],a=parseAccessors(n,a=new q(N,_,D));return a}function parseAccessors(n,a,h){for(var b;("("===n.token||"["===n.token||"."===n.token)&&(!h||h.includes(n.token));)if(b=[],"("===n.token){if(isSymbolNode(a)||isAccessorNode(a)){if(openParams(n),getToken(n),")"!==n.token)for(b.push(parseAssignment(n));","===n.token;)getToken(n),b.push(parseAssignment(n));if(")"!==n.token)throw createSyntaxError(n,"Parenthesis ) expected");closeParams(n),getToken(n),a=new B(a,b)}else break}else if("["===n.token){if(openParams(n),getToken(n),"]"!==n.token)for(b.push(parseAssignment(n));","===n.token;)getToken(n),b.push(parseAssignment(n));if("]"!==n.token)throw createSyntaxError(n,"Parenthesis ] expected");closeParams(n),getToken(n),a=new N(a,new I(b))}else{if(getToken(n),!(n.tokenType===G.SYMBOL||n.tokenType===G.DELIMITER&&n.token in W))throw createSyntaxError(n,"Property name expected after dot");b.push(new A(n.token)),getToken(n),a=new N(a,new I(b,!0))}return a}function parseStringToken(n,a){for(var h="";""!==currentCharacter(n)&&currentCharacter(n)!==a;)if("\\"===currentCharacter(n)){next(n);var b=currentCharacter(n),N=J[b];if(void 0!==N)h+=N,n.index+=1;else if("u"===b){var w=n.expression.slice(n.index+1,n.index+5);if(/^[0-9A-Fa-f]{4}$/.test(w))h+=String.fromCharCode(parseInt(w,16)),n.index+=5;else throw createSyntaxError(n,"Invalid unicode character \\u".concat(w))}else throw createSyntaxError(n,"Bad escape character \\".concat(b))}else h+=currentCharacter(n),next(n);if(getToken(n),n.token!==a)throw createSyntaxError(n,"End of string ".concat(a," expected"));return getToken(n),h}function parseRow(n){for(var a=[parseAssignment(n)],h=1;","===n.token;)getToken(n),"]"!==n.token&&";"!==n.token&&(a[h]=parseAssignment(n),h++);return new w(a)}function col(n){return n.index-n.token.length+1}function createSyntaxError(n,a){var h=col(n),b=SyntaxError(a+" (char "+h+")");return b.char=h,b}function createError(n,a){var h=col(n),b=SyntaxError(a+" (char "+h+")");return b.char=h,b}return V.isAlpha=function(n,a,h){return V.isValidLatinOrGreek(n)||V.isValidMathSymbol(n,h)||V.isValidMathSymbol(a,n)},V.isValidLatinOrGreek=function(n){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(n)},V.isValidMathSymbol=function(n,a){return/^[\uD835]$/.test(n)&&/^[\uDC00-\uDFFF]$/.test(a)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(a)},V.isWhitespace=function(n,a){return" "===n||"	"===n||"\xa0"===n||"\n"===n&&a>0},V.isDecimalMark=function(n,a){return"."===n&&"/"!==a&&"*"!==a&&"^"!==a},V.isDigitDot=function(n){return n>="0"&&n<="9"||"."===n},V.isDigit=function(n){return n>="0"&&n<="9"},a.addConversion({from:"string",to:"Node",convert:V}),V}),ek=factory_factory("resolve",["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],n=>{var{typed:a,parse:h,ConstantNode:b,FunctionNode:N,OperatorNode:w,ParenthesisNode:_}=n;function _resolve(n,a){var D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(!a)return n;if(isSymbolNode(n)){if(D.has(n.name)){var E=Array.from(D).join(", ");throw ReferenceError("recursive loop of variable definitions among {".concat(E,"}"))}var A=a.get(n.name);if(isNode(A)){var M=new Set(D);return M.add(n.name),_resolve(A,a,M)}return"number"==typeof A?h(String(A)):void 0!==A?new b(A):n}if(isOperatorNode(n)){var B=n.args.map(function(n){return _resolve(n,a,D)});return new w(n.op,n.fn,B,n.implicit)}if(isParenthesisNode(n))return new _(_resolve(n.content,a,D));if(isFunctionNode(n)){var I=n.args.map(function(n){return _resolve(n,a,D)});return new N(n.name,I)}return n.map(n=>_resolve(n,a,D))}return a("resolve",{Node:_resolve,"Node, Map | null | undefined":_resolve,"Node, Object":(n,a)=>_resolve(n,createMap(a)),"Array | Matrix":a.referToSelf(n=>a=>a.map(a=>n(a))),"Array | Matrix, null | undefined":a.referToSelf(n=>a=>a.map(a=>n(a))),"Array, Object":a.referTo("Array,Map",n=>(a,h)=>n(a,createMap(h))),"Matrix, Object":a.referTo("Matrix,Map",n=>(a,h)=>n(a,createMap(h))),"Array | Matrix, Map":a.referToSelf(n=>(a,h)=>a.map(a=>n(a,h)))})});function ownKeys(n,a){var h=Object.keys(n);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(n);a&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),h.push.apply(h,b)}return h}function _objectSpread(n){for(var a=1;a<arguments.length;a++){var h=null!=arguments[a]?arguments[a]:{};a%2?ownKeys(Object(h),!0).forEach(function(a){_defineProperty(n,a,h[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(h)):ownKeys(Object(h)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(h,a))})}return n}var eP=factory_factory("simplifyUtil",["FunctionNode","OperatorNode","SymbolNode"],n=>{var{FunctionNode:a,OperatorNode:h,SymbolNode:b}=n,N="defaultF",w={add:{trivial:!0,total:!0,commutative:!0,associative:!0},unaryPlus:{trivial:!0,total:!0,commutative:!0,associative:!0},subtract:{trivial:!1,total:!0,commutative:!1,associative:!1},multiply:{trivial:!0,total:!0,commutative:!0,associative:!0},divide:{trivial:!1,total:!0,commutative:!1,associative:!1},paren:{trivial:!0,total:!0,commutative:!0,associative:!1},defaultF:{trivial:!1,total:!0,commutative:!1,associative:!1}};function hasProperty(n,a){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w,b=N;if("string"==typeof n?b=n:isOperatorNode(n)?b=n.fn.toString():isFunctionNode(n)?b=n.name:isParenthesisNode(n)&&(b="paren"),object_hasOwnProperty(h,b)){var _=h[b];if(object_hasOwnProperty(_,a))return _[a];if(object_hasOwnProperty(w,b))return w[b][a]}if(object_hasOwnProperty(h,N)){var D=h[N];return object_hasOwnProperty(D,a)?D[a]:w[N][a]}if(object_hasOwnProperty(w,b)){var E=w[b];if(object_hasOwnProperty(E,a))return E[a]}return w[N][a]}function isAssociative(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;return hasProperty(n,"associative",a)}function allChildren(n,a){var h,b=[],_findChildren=function(n){for(var a=0;a<n.args.length;a++){var N=n.args[a];isOperatorNode(N)&&h===N.op?_findChildren(N):b.push(N)}};return isAssociative(n,a)?(h=n.op,_findChildren(n),b):n.args}function createMakeNodeFunction(n){return isOperatorNode(n)?function(a){try{return new h(n.op,n.fn,a,n.implicit)}catch(n){return console.error(n),[]}}:function(h){return new a(new b(n.name),h)}}return{createMakeNodeFunction,hasProperty,isCommutative:function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;return hasProperty(n,"commutative",a)},isAssociative,mergeContext:function(n,a){var h=_objectSpread({},n);for(var b in a)object_hasOwnProperty(n,b)?h[b]=_objectSpread(_objectSpread({},a[b]),n[b]):h[b]=a[b];return h},flatten:function flatten(n,a){if(!n.args||0===n.args.length)return n;n.args=allChildren(n,a);for(var h=0;h<n.args.length;h++)flatten(n.args[h],a)},allChildren,unflattenr:function unflattenr(n,a){if(n.args&&0!==n.args.length){for(var h=createMakeNodeFunction(n),b=n.args.length,N=0;N<b;N++)unflattenr(n.args[N],a);if(b>2&&isAssociative(n,a)){for(var w=n.args.pop();n.args.length>0;)w=h([n.args.pop(),w]);n.args=w.args}}},unflattenl:function unflattenl(n,a){if(n.args&&0!==n.args.length){for(var h=createMakeNodeFunction(n),b=n.args.length,N=0;N<b;N++)unflattenl(n.args[N],a);if(b>2&&isAssociative(n,a)){for(var w=n.args.shift();n.args.length>0;)w=h([w,n.args.shift()]);n.args=w.args}}},defaultContext:w,realContext:{divide:{total:!1},log:{total:!1}},positiveContext:{subtract:{total:!1},abs:{trivial:!0},log:{total:!0}}}});function noBignumber(){throw Error('No "bignumber" implementation available')}function noFraction(){throw Error('No "fraction" implementation available')}var ez=factory_factory("simplifyConstant",["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],n=>{var{typed:a,config:h,mathWithTransform:b,matrix:N,fraction:w,bignumber:_,AccessorNode:D,ArrayNode:E,ConstantNode:A,FunctionNode:M,IndexNode:B,ObjectNode:I,OperatorNode:z,SymbolNode:q}=n,{isCommutative:j,isAssociative:L,allChildren:H,createMakeNodeFunction:$}=eP({FunctionNode:M,OperatorNode:z,SymbolNode:q}),V=a("simplifyConstant",{Node:n=>_ensureNode(foldFraction(n,{})),"Node, Object":function(n,a){return _ensureNode(foldFraction(n,a))}});function _eval(n,a,h){try{return b[n].apply(null,a)}catch(w){return a=a.map(function _removeFractions(n){return isFraction(n)?n.valueOf():n instanceof Array?n.map(_removeFractions):isMatrix(n)?N(_removeFractions(n.valueOf())):n}),Z(b[n].apply(null,a),h)}}var G=a({Fraction:function(n){var fromBigInt=n=>"BigNumber"===h.number&&_?_(n):Number(n),a=n.s*n.n,b=a<0n?new z("-","unaryMinus",[new A(-fromBigInt(a))]):new A(fromBigInt(a));return 1n===n.d?b:new z("/","divide",[b,new A(fromBigInt(n.d))])},number:function(n){return n<0?unaryMinusNode(new A(-n)):new A(n)},BigNumber:function(n){return n<0?unaryMinusNode(new A(-n)):new A(n)},bigint:function(n){return n<0n?unaryMinusNode(new A(-n)):new A(n)},Complex:function(n){throw Error("Cannot convert Complex number to Node")},string:function(n){return new A(n)},Matrix:function(n){return new E(n.valueOf().map(n=>G(n)))}});function _ensureNode(n){return isNode(n)?n:G(n)}function _exactFraction(n,a){if(a&&!1!==a.exactFractions&&isFinite(n)&&w){var h=w(n),b=a&&"number"==typeof a.fractionsLimit?a.fractionsLimit:1/0;if(h.valueOf()===n&&h.n<b&&h.d<b)return h}return n}var Z=a({"string, Object":function(n,a){var b=safeNumberType(n,h);return"BigNumber"===b?(void 0===_&&noBignumber(),_(n)):"bigint"===b?BigInt(n):"Fraction"===b?(void 0===w&&noFraction(),w(n)):_exactFraction(parseFloat(n),a)},"Fraction, Object":function(n,a){return n},"BigNumber, Object":function(n,a){return n},"number, Object":function(n,a){return _exactFraction(n,a)},"bigint, Object":function(n,a){return n},"Complex, Object":function(n,a){return 0!==n.im?n:_exactFraction(n.re,a)},"Matrix, Object":function(n,a){return N(_exactFraction(n.valueOf()))},"Array, Object":function(n,a){return n.map(_exactFraction)}});function unaryMinusNode(n){return new z("-","unaryMinus",[n])}function foldOp(n,a,h,b){var N=a.shift(),w=a.reduce((a,N)=>{if(!isNode(N)){var w=a.pop();if(isNode(w))return[w,N];try{return a.push(_eval(n,[w,N],b)),a}catch(n){a.push(w)}}a.push(_ensureNode(a.pop()));var _=1===a.length?a[0]:h(a);return[h([_,_ensureNode(N)])]},[N]);return 1===w.length?w[0]:h([w[0],G(w[1])])}function foldFraction(n,a){switch(n.type){case"SymbolNode":return n;case"ConstantNode":switch(typeof n.value){case"number":case"bigint":return Z(n.value,a);case"string":return n.value;default:if(!isNaN(n.value))return Z(n.value,a)}return n;case"FunctionNode":if(b[n.name]&&b[n.name].rawArgs)return n;if(!["add","multiply"].includes(n.name)){var h=n.args.map(n=>foldFraction(n,a));if(!h.some(isNode))try{return _eval(n.name,h,a)}catch(n){}if("size"===n.name&&1===h.length&&isArrayNode(h[0])){for(var w=[],_=h[0];isArrayNode(_);)w.push(_.items.length),_=_.items[0];return N(w)}return new M(n.name,h.map(_ensureNode))}case"OperatorNode":var z,q,G=n.fn.toString(),W=$(n);if(isOperatorNode(n)&&n.isUnary())q=isNode((z=[foldFraction(n.args[0],a)])[0])?W(z):_eval(G,z,a);else if(L(n,a.context)){if(z=(z=H(n,a.context)).map(n=>foldFraction(n,a)),j(G,a.context)){for(var Y=[],X=[],J=0;J<z.length;J++)isNode(z[J])?X.push(z[J]):Y.push(z[J]);Y.length>1?(q=foldOp(G,Y,W,a),X.unshift(q),q=foldOp(G,X,W,a)):q=foldOp(G,z,W,a)}else q=foldOp(G,z,W,a)}else q=foldOp(G,z=n.args.map(n=>foldFraction(n,a)),W,a);return q;case"ParenthesisNode":return foldFraction(n.content,a);case"AccessorNode":return function(n,a,h){if(!isIndexNode(a))return new D(_ensureNode(n),_ensureNode(a));if(isArrayNode(n)||isMatrix(n)){for(var b=Array.from(a.dimensions);b.length>0;)if(isConstantNode(b[0])&&"string"!=typeof b[0].value){var w=Z(b.shift().value,h);isArrayNode(n)?n=n.items[w-1]:(n=n.valueOf()[w-1])instanceof Array&&(n=N(n))}else if(b.length>1&&isConstantNode(b[1])&&"string"!=typeof b[1].value){var _=Z(b[1].value,h),M=[],I=isArrayNode(n)?n.items:n.valueOf();for(var z of I)if(isArrayNode(z))M.push(z.items[_-1]);else if(isMatrix(n))M.push(z[_-1]);else break;if(M.length===I.length)n=isArrayNode(n)?new E(M):N(M),b.splice(1,1);else break}else break;return b.length===a.dimensions.length?new D(_ensureNode(n),a):b.length>0?(a=new B(b),new D(_ensureNode(n),a)):n}if(isObjectNode(n)&&1===a.dimensions.length&&isConstantNode(a.dimensions[0])){var q=a.dimensions[0].value;return q in n.properties?n.properties[q]:new A}return new D(_ensureNode(n),a)}(foldFraction(n.object,a),foldFraction(n.index,a),a);case"ArrayNode":var Q=n.items.map(n=>foldFraction(n,a));if(Q.some(isNode))return new E(Q.map(_ensureNode));return N(Q);case"IndexNode":return new B(n.dimensions.map(n=>V(n,a)));case"ObjectNode":var K={};for(var ee in n.properties)K[ee]=V(n.properties[ee],a);return new I(K);default:throw Error("Unimplemented node type in simplifyConstant: ".concat(n.type))}}return V}),eR="compile",eq=factory_factory(eR,["typed","parse"],n=>{var{typed:a,parse:h}=n;return a(eR,{string:function(n){return h(n).compile()},"Array | Matrix":function(n){return collection_deepMap(n,function(n){return h(n).compile()})}})}),ej="simplifyCore",eU=factory_factory(ej,["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],n=>{var{typed:a,parse:h,equal:b,isZero:N,add:w,subtract:_,multiply:D,divide:E,pow:A,AccessorNode:M,ArrayNode:B,ConstantNode:I,FunctionNode:z,IndexNode:q,ObjectNode:j,OperatorNode:L,ParenthesisNode:H,SymbolNode:$}=n,V=new I(0),G=new I(1),Z=new I(!0),W=new I(!1);function isAlwaysBoolean(n){return isOperatorNode(n)&&["and","not","or"].includes(n.op)}var{hasProperty:Y,isCommutative:J}=eP({FunctionNode:z,OperatorNode:L,SymbolNode:$});function _simplifyCore(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=a?a.context:void 0;if(Y(n,"trivial",h)){if(isFunctionNode(n)&&1===n.args.length)return _simplifyCore(n.args[0],a);var w=!1,_=0;if(n.forEach(n=>{1==++_&&(w=_simplifyCore(n,a))}),1===_)return w}var D=n;if(isFunctionNode(D)){var E=function(n){var a="OperatorNode:"+n;for(var h of X)if(a in h)return h[a].op;return null}(D.name);if(!E)return new z(_simplifyCore(D.fn),D.args.map(n=>_simplifyCore(n,a)));if(D.args.length>2&&Y(D,"associative",h))for(;D.args.length>2;){var A=D.args.pop(),I=D.args.pop();D.args.push(new L(E,D.name,[A,I]))}D=new L(E,D.name,D.args)}if(isOperatorNode(D)&&D.isUnary()){var H=_simplifyCore(D.args[0],a);if("~"===D.op&&isOperatorNode(H)&&H.isUnary()&&"~"===H.op||"not"===D.op&&isOperatorNode(H)&&H.isUnary()&&"not"===H.op&&isAlwaysBoolean(H.args[0]))return H.args[0];var $=!0;if("-"===D.op&&isOperatorNode(H)&&(H.isBinary()&&"subtract"===H.fn&&(D=new L("-","subtract",[H.args[1],H.args[0]]),$=!1),H.isUnary()&&"-"===H.op))return H.args[0];if($)return new L(D.op,D.fn,[H])}if(isOperatorNode(D)&&D.isBinary()){var Q=_simplifyCore(D.args[0],a),K=_simplifyCore(D.args[1],a);if("+"===D.op){if(isConstantNode(Q)&&N(Q.value))return K;if(isConstantNode(K)&&N(K.value))return Q;isOperatorNode(K)&&K.isUnary()&&"-"===K.op&&(K=K.args[0],D=new L("-","subtract",[Q,K]))}if("-"===D.op)return isOperatorNode(K)&&K.isUnary()&&"-"===K.op?_simplifyCore(new L("+","add",[Q,K.args[0]]),a):isConstantNode(Q)&&N(Q.value)?_simplifyCore(new L("-","unaryMinus",[K])):isConstantNode(K)&&N(K.value)?Q:new L(D.op,D.fn,[Q,K]);if("*"===D.op){if(isConstantNode(Q)){if(N(Q.value))return V;if(b(Q.value,1))return K}if(isConstantNode(K)){if(N(K.value))return V;if(b(K.value,1))return Q;if(J(D,h))return new L(D.op,D.fn,[K,Q],D.implicit)}return new L(D.op,D.fn,[Q,K],D.implicit)}if("/"===D.op)return isConstantNode(Q)&&N(Q.value)?V:isConstantNode(K)&&b(K.value,1)?Q:new L(D.op,D.fn,[Q,K]);if("^"===D.op&&isConstantNode(K)){if(N(K.value))return G;if(b(K.value,1))return Q}if("and"===D.op){if(isConstantNode(Q)){if(!Q.value)return W;if(isAlwaysBoolean(K))return K;if(isConstantNode(K))return K.value?Z:W}if(isConstantNode(K)){if(!K.value)return W;if(isAlwaysBoolean(Q))return Q}}if("or"===D.op){if(isConstantNode(Q)){if(Q.value)return Z;if(isAlwaysBoolean(K))return K}if(isConstantNode(K)){if(K.value)return Z;if(isAlwaysBoolean(Q))return Q}}return new L(D.op,D.fn,[Q,K])}if(isOperatorNode(D))return new L(D.op,D.fn,D.args.map(n=>_simplifyCore(n,a)));if(isArrayNode(D))return new B(D.items.map(n=>_simplifyCore(n,a)));if(isAccessorNode(D))return new M(_simplifyCore(D.object,a),_simplifyCore(D.index,a));if(isIndexNode(D))return new q(D.dimensions.map(n=>_simplifyCore(n,a)));if(isObjectNode(D)){var ee={};for(var er in D.properties)ee[er]=_simplifyCore(D.properties[er],a);return new j(ee)}return D}return a(ej,{Node:_simplifyCore,"Node,Object":_simplifyCore})}),eL="evaluate",eH=factory_factory(eL,["typed","parse"],n=>{var{typed:a,parse:h}=n;return a(eL,{string:function(n){var a=createEmptyMap();return h(n).compile().evaluate(a)},"string, Map | Object":function(n,a){return h(n).compile().evaluate(a)},"Array | Matrix":function(n){var a=createEmptyMap();return collection_deepMap(n,function(n){return h(n).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(n,a){return collection_deepMap(n,function(n){return h(n).compile().evaluate(a)})}})}),e$=factory_factory("Help",["evaluate"],n=>{var{evaluate:a}=n;function Help(n){if(!(this instanceof Help))throw SyntaxError("Constructor must be called with the new operator");if(!n)throw Error('Argument "doc" missing');this.doc=n}return Help.prototype.type="Help",Help.prototype.isHelp=!0,Help.prototype.toString=function(){var n=this.doc||{},h="\n";if(n.name&&(h+="Name: "+n.name+"\n\n"),n.category&&(h+="Category: "+n.category+"\n\n"),n.description&&(h+="Description:\n    "+n.description+"\n\n"),n.syntax&&(h+="Syntax:\n    "+n.syntax.join("\n    ")+"\n\n"),n.examples){h+="Examples:\n";for(var b=!1,N=a("config()"),w={config:n=>(b=!0,a("config(newConfig)",{newConfig:n}))},_=0;_<n.examples.length;_++){var D=n.examples[_];h+="    "+D+"\n";var E=void 0;try{E=a(D,w)}catch(n){E=n}void 0===E||isHelp(E)||(h+="        "+string_format(E,{precision:14})+"\n")}h+="\n",b&&a("config(originalConfig)",{originalConfig:N})}return n.mayThrow&&n.mayThrow.length&&(h+="Throws: "+n.mayThrow.join(", ")+"\n\n"),n.seealso&&n.seealso.length&&(h+="See also: "+n.seealso.join(", ")+"\n"),h},Help.prototype.toJSON=function(){var n=object_clone(this.doc);return n.mathjs="Help",n},Help.fromJSON=function(n){var a={};return Object.keys(n).filter(n=>"mathjs"!==n).forEach(h=>{a[h]=n[h]}),new Help(a)},Help.prototype.valueOf=Help.prototype.toString,Help},{isClass:!0}),eV=factory_factory("Parser",["evaluate","parse"],n=>{var{evaluate:a,parse:h}=n;function Parser(){if(!(this instanceof Parser))throw SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:createEmptyMap(),writable:!1})}return Parser.prototype.type="Parser",Parser.prototype.isParser=!0,Parser.prototype.evaluate=function(n){return a(n,this.scope)},Parser.prototype.get=function(n){if(this.scope.has(n))return this.scope.get(n)},Parser.prototype.getAll=function(){return function(n){if(n instanceof ObjectWrappingMap)return n.wrappedObject;var a={};for(var h of n.keys()){var b=n.get(h);setSafeProperty(a,h,b)}return a}(this.scope)},Parser.prototype.getAllAsMap=function(){return this.scope},Parser.prototype.set=function(n,a){if(!function(n){if(0===n.length)return!1;for(var a=0;a<n.length;a++){var b=n.charAt(a-1),N=n.charAt(a),w=n.charAt(a+1);if(!(h.isAlpha(N,b,w)||a>0&&h.isDigit(N)))return!1}return!0}(n))throw Error("Invalid variable name: '".concat(n,"'. Variable names must follow the specified rules."));return this.scope.set(n,a),a},Parser.prototype.remove=function(n){this.scope.delete(n)},Parser.prototype.clear=function(){this.scope.clear()},Parser.prototype.toJSON=function(){var n={mathjs:"Parser",variables:{},functions:{}};for(var[a,h]of this.scope)if(isFunction(h)){if(!("function"==typeof h&&"string"==typeof h.syntax&&"string"==typeof h.expr))throw Error("Cannot serialize external function ".concat(a));n.functions[a]="".concat(h.syntax," = ").concat(h.expr)}else n.variables[a]=h;return n},Parser.fromJSON=function(n){var a=new Parser;return Object.entries(n.variables).forEach(n=>{var[h,b]=n;return a.set(h,b)}),Object.entries(n.functions).forEach(n=>{var[h,b]=n;return a.evaluate(b)}),a},Parser},{isClass:!0});function isNumericNode(n){return isConstantNode(n)||isOperatorNode(n)&&n.isUnary()&&isConstantNode(n.args[0])}function isConstantExpression(n){return!!(isConstantNode(n)||(isFunctionNode(n)||isOperatorNode(n))&&n.args.every(isConstantExpression)||isParenthesisNode(n)&&isConstantExpression(n.content))}var eG=factory_factory("simplify",["typed","parse","equal","resolve","simplifyConstant","simplifyCore","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode","replacer"],n=>{var{typed:a,parse:h,equal:b,resolve:N,simplifyConstant:w,simplifyCore:_,AccessorNode:D,ArrayNode:E,ConstantNode:A,FunctionNode:M,IndexNode:B,ObjectNode:I,OperatorNode:z,ParenthesisNode:q,SymbolNode:j,replacer:L}=n,{hasProperty:H,isCommutative:$,isAssociative:V,mergeContext:G,flatten:Z,unflattenr:W,unflattenl:Y,createMakeNodeFunction:X,defaultContext:J,realContext:Q,positiveContext:K}=eP({FunctionNode:M,OperatorNode:z,SymbolNode:j});a.addConversion({from:"Object",to:"Map",convert:createMap});var ee=a("simplify",{Node:_simplify,"Node, Map":(n,a)=>_simplify(n,!1,a),"Node, Map, Object":(n,a,h)=>_simplify(n,!1,a,h),"Node, Array":_simplify,"Node, Array, Map":_simplify,"Node, Array, Map, Object":_simplify});function removeParens(n){return n.transform(function(n){return isParenthesisNode(n)?removeParens(n.content):n})}a.removeConversion({from:"Object",to:"Map",convert:createMap}),ee.defaultContext=J,ee.realContext=Q,ee.positiveContext=K;var er={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};ee.rules=[_,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},w,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},w,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];var et=0;function _getExpandPlaceholderSymbol(){return new j("_p"+et++)}function _simplify(n,a){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:createEmptyMap(),w=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},_=w.consoleDebug;a=function(n,a){for(var b=[],N=0;N<n.length;N++){var w=n[N],_=void 0,D=typeof w;switch(D){case"string":w={s:w};case"object":_=function(n,a){var b={};if(n.s){var N=n.s.split("->");if(2===N.length)b.l=N[0],b.r=N[1];else throw SyntaxError("Could not parse rule: "+n.s)}else b.l=n.l,b.r=n.r;for(var w of(b.l=removeParens(h(b.l)),b.r=removeParens(h(b.r)),["imposeContext","repeat","assuming"]))w in n&&(b[w]=n[w]);if(n.evaluate&&(b.evaluate=h(n.evaluate)),V(b.l,a)){var _,D=!$(b.l,a);D&&(_=_getExpandPlaceholderSymbol());var E=X(b.l),A=_getExpandPlaceholderSymbol();b.expanded={},b.expanded.l=E([b.l,A]),Z(b.expanded.l,a),W(b.expanded.l,a),b.expanded.r=E([b.r,A]),D&&(b.expandedNC1={},b.expandedNC1.l=E([_,b.l]),b.expandedNC1.r=E([_,b.r]),b.expandedNC2={},b.expandedNC2.l=E([_,b.expanded.l]),b.expandedNC2.r=E([_,b.expanded.r]))}return b}(w,a);break;case"function":_=w;break;default:throw TypeError("Unsupported type of rule: "+D)}b.push(_)}return b}(a||ee.rules,w.context);var D=N(n,b);D=removeParens(D);for(var E={},A=D.toString({parenthesis:"all"});!E[A];){E[A]=!0,et=0;var M=A;_&&console.log("Working on: ",A);for(var B=0;B<a.length;B++){var I="";if("function"==typeof a[B]?(D=a[B](D,w),_&&(I=a[B].name)):(Z(D,w.context),D=applyRule(D,a[B],w.context),_&&(I="".concat(a[B].l.toString()," -> ").concat(a[B].r.toString()))),_){var z=D.toString({parenthesis:"all"});z!==M&&(console.log("Applying",I,"produced",z),M=z)}Y(D,w.context)}A=D.toString({parenthesis:"all"})}return D}function mapRule(n,a,h){var b=n;if(n)for(var N=0;N<n.length;++N){var w=applyRule(n[N],a,h);w!==n[N]&&(b===n&&(b=n.slice()),b[N]=w)}return b}function applyRule(n,a,h){if(a.assuming){for(var b in a.assuming)for(var N in a.assuming[b])if(H(b,N,h)!==a.assuming[b][N])return n}var w=G(a.imposeContext,h),_=n;if(_ instanceof z||_ instanceof M){var A=mapRule(_.args,a,h);A!==_.args&&((_=_.clone()).args=A)}else if(_ instanceof q){if(_.content){var j=applyRule(_.content,a,h);j!==_.content&&(_=new q(j))}}else if(_ instanceof E){var L=mapRule(_.items,a,h);L!==_.items&&(_=new E(L))}else if(_ instanceof D){var $=_.object;_.object&&($=applyRule(_.object,a,h));var V=_.index;_.index&&(V=applyRule(_.index,a,h)),($!==_.object||V!==_.index)&&(_=new D($,V))}else if(_ instanceof B){var Z=mapRule(_.dimensions,a,h);Z!==_.dimensions&&(_=new B(Z))}else if(_ instanceof I){var W=!1,Y={};for(var X in _.properties)Y[X]=applyRule(_.properties[X],a,h),Y[X]!==_.properties[X]&&(W=!0);W&&(_=new I(Y))}var J=a.r,Q=_ruleMatch(a.l,_,w)[0];if(!Q&&a.expanded&&(J=a.expanded.r,Q=_ruleMatch(a.expanded.l,_,w)[0]),Q||!a.expandedNC1||(J=a.expandedNC1.r,(Q=_ruleMatch(a.expandedNC1.l,_,w)[0])||(J=a.expandedNC2.r,Q=_ruleMatch(a.expandedNC2.l,_,w)[0])),Q){var K=_.implicit;_=J.clone(),K&&"implicit"in J&&(_.implicit=!0),_=_.transform(function(n){return n.isSymbolNode&&object_hasOwnProperty(Q.placeholders,n.name)?Q.placeholders[n.name].clone():n})}return a.repeat&&_!==n&&(_=applyRule(_,a,h)),_}function combineChildMatches(n,a){var h,N=[];if(0===n.length||0===a.length)return N;for(var w=0;w<n.length;w++)for(var _=0;_<a.length;_++)(h=function(n,a){var h={placeholders:{}};if(!n.placeholders&&!a.placeholders)return h;if(!n.placeholders)return a;if(!a.placeholders)return n;for(var N in n.placeholders)if(object_hasOwnProperty(n.placeholders,N)&&(h.placeholders[N]=n.placeholders[N],object_hasOwnProperty(a.placeholders,N)&&!function _exactMatch(n,a){if(n instanceof A&&a instanceof A){if(!b(n.value,a.value))return!1}else if(n instanceof j&&a instanceof j){if(n.name!==a.name)return!1}else{if((!(n instanceof z)||!(a instanceof z))&&(!(n instanceof M)||!(a instanceof M)))return!1;if(n instanceof z){if(n.op!==a.op||n.fn!==a.fn)return!1}else if(n instanceof M&&n.name!==a.name)return!1;if(n.args.length!==a.args.length)return!1;for(var h=0;h<n.args.length;h++)if(!_exactMatch(n.args[h],a.args[h]))return!1}return!0}(n.placeholders[N],a.placeholders[N])))return null;for(var w in a.placeholders)object_hasOwnProperty(a.placeholders,w)&&(h.placeholders[w]=a.placeholders[w]);return h}(n[w],a[_]))&&N.push(h);return N}function _ruleMatch(n,a,h,N){var w=[{placeholders:{}}];if(n instanceof z&&a instanceof z||n instanceof M&&a instanceof M){if(n instanceof z){if(n.op!==a.op||n.fn!==a.fn)return[]}else if(n instanceof M&&n.name!==a.name)return[];if(1===a.args.length&&1===n.args.length||!V(a,h)&&a.args.length===n.args.length||N){for(var _=[],D=0;D<n.args.length;D++){var E=_ruleMatch(n.args[D],a.args[D],h);if(0===E.length)break;_.push(E)}if(_.length!==n.args.length){if(!$(a,h)||1===n.args.length)return[];if(n.args.length>2)throw Error("permuting >2 commutative non-associative rule arguments not yet implemented");var B=_ruleMatch(n.args[0],a.args[1],h);if(0===B.length)return[];var I=_ruleMatch(n.args[1],a.args[0],h);if(0===I.length)return[];_=[B,I]}w=function(n){if(0===n.length)return n;for(var a=n.reduce(combineChildMatches),h=[],b={},N=0;N<a.length;N++){var w=JSON.stringify(a[N],L);b[w]||(b[w]=!0,h.push(a[N]))}return h}(_)}else if(a.args.length>=2&&2===n.args.length){for(var q=function(n,a){var h,b,N=[],w=X(n);if($(n,a))for(var _=0;_<n.args.length;_++)(b=n.args.slice(0)).splice(_,1),h=1===b.length?b[0]:w(b),N.push(w([n.args[_],h]));else for(var D=1;D<n.args.length;D++){var E=n.args[0];D>1&&(E=w(n.args.slice(0,D))),h=1===(b=n.args.slice(D)).length?b[0]:w(b),N.push(w([E,h]))}return N}(a,h),H=[],G=0;G<q.length;G++){var Z=_ruleMatch(n,q[G],h,!0);H=H.concat(Z)}return H}else if(!(n.args.length>2))return[];else throw Error("Unexpected non-binary associative function: "+n.toString())}else if(n instanceof j){if(0===n.name.length)throw Error("Symbol in rule has 0 length...!?");if(er[n.name]){if(n.name!==a.name)return[]}else switch(n.name[1]>="a"&&n.name[1]<="z"?n.name.substring(0,2):n.name[0]){case"n":case"_p":w[0].placeholders[n.name]=a;break;case"c":case"cl":if(!isConstantNode(a))return[];w[0].placeholders[n.name]=a;break;case"v":if(isConstantNode(a))return[];w[0].placeholders[n.name]=a;break;case"vl":if(!isSymbolNode(a))return[];w[0].placeholders[n.name]=a;break;case"cd":if(!isNumericNode(a))return[];w[0].placeholders[n.name]=a;break;case"vd":if(isNumericNode(a))return[];w[0].placeholders[n.name]=a;break;case"ce":if(!isConstantExpression(a))return[];w[0].placeholders[n.name]=a;break;case"ve":if(isConstantExpression(a))return[];w[0].placeholders[n.name]=a;break;default:throw Error("Invalid symbol in rule: "+n.name)}}else if(!(n instanceof A))return[];else if(!b(n.value,a.value))return[];return w}return ee}),eZ="symbolicEqual",eW=factory_factory(eZ,["parse","simplify","typed","OperatorNode"],n=>{var{parse:a,simplify:h,typed:b,OperatorNode:N}=n;function _symbolicEqual(n,a){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},w=h(new N("-","subtract",[n,a]),{},b);return isConstantNode(w)&&!w.value}return b(eZ,{"Node, Node":_symbolicEqual,"Node, Node, Object":_symbolicEqual})}),eY="leafCount",eX=factory_factory(eY,["parse","typed"],n=>{var{parse:a,typed:h}=n;return h(eY,{Node:function(n){return function countLeaves(n){var a=0;return n.forEach(n=>{a+=countLeaves(n)}),a||1}(n)}})}),eJ="parser",eQ=factory_factory(eJ,["typed","Parser"],n=>{var{typed:a,Parser:h}=n;return a(eJ,{"":function(){return new h}})}),eK="rationalize",e0=factory_factory(eK,["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],n=>{var{config:a,typed:h,equal:b,isZero:N,add:w,subtract:_,multiply:D,divide:E,pow:A,parse:M,simplifyConstant:B,simplifyCore:I,simplify:z,fraction:q,bignumber:j,mathWithTransform:L,matrix:H,AccessorNode:$,ArrayNode:V,ConstantNode:G,FunctionNode:Z,IndexNode:W,ObjectNode:Y,OperatorNode:X,SymbolNode:J,ParenthesisNode:Q}=n;function _rationalize(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=arguments.length>2&&void 0!==arguments[2]&&arguments[2],b=(E=[I,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},B,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],A=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],M=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],(q={}).firstRules=E.concat(A,M),q.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],q.sucDivRules=M,q.firstRulesAgain=E.concat(A),q.finalRules=[I,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},B,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],q),N=(j=n,L=!0,H=b.firstRules,$=[],V=z(j,H,a,{exactFractions:!1}),Z="+-*"+((L=!!L)?"/":""),!function recPoly(n){var a=n.type;if("FunctionNode"===a)throw Error("There is an unsolved function call");if("OperatorNode"===a){if("^"===n.op){if("ConstantNode"===n.args[1].type&&isInteger(parseFloat(n.args[1].value)))recPoly(n.args[0]);else throw Error("There is a non-integer exponent")}else{if(!Z.includes(n.op))throw Error("Operator "+n.op+" invalid in polynomial expression");for(var h=0;h<n.args.length;h++)recPoly(n.args[h])}}else if("SymbolNode"===a){var b=n.name;-1===$.indexOf(b)&&$.push(b)}else if("ParenthesisNode"===a)recPoly(n.content);else if("ConstantNode"!==a)throw Error("type "+a+" is not allowed in polynomial expression")}(V),(W={}).expression=V,W.variables=$,W),w=N.variables.length,_={exactFractions:!1},D={exactFractions:!0};if(n=N.expression,w>=1){n=function expandPower(n,a,h){var b=n.type,N=arguments.length>1;if("OperatorNode"===b&&n.isBinary()){var w,_=!1;if("^"===n.op&&("ParenthesisNode"===n.args[0].type||"OperatorNode"===n.args[0].type)&&"ConstantNode"===n.args[1].type&&(_=(w=parseFloat(n.args[1].value))>=2&&isInteger(w)),_){if(w>2){var D=n.args[0],E=new X("^","pow",[n.args[0].cloneDeep(),new G(w-1)]);n=new X("*","multiply",[D,E])}else n=new X("*","multiply",[n.args[0],n.args[0].cloneDeep()]);N&&("content"===h?a.content=n:a.args[h]=n)}}if("ParenthesisNode"===b)expandPower(n.content,n,"content");else if("ConstantNode"!==b&&"SymbolNode"!==b)for(var A=0;A<n.args.length;A++)expandPower(n.args[A],n,A);if(!N)return n}(n);var E,A,M,q,j,L,H,$,V,Z,W,Y,J,Q=!0,K=!1;for(n=z(n,b.firstRules,{},_);n=z(n,Q?b.distrDivRules:b.sucDivRules,{},D),Q=!Q,(J=n.toString())!==Y;)K=!0,Y=J;K&&(n=z(n,b.firstRulesAgain,{},_)),n=z(n,b.finalRules,{},_)}var ee=[],er={};return("OperatorNode"===n.type&&n.isBinary()&&"/"===n.op?(1===w&&(n.args[0]=polyToCanonical(n.args[0],ee),n.args[1]=polyToCanonical(n.args[1])),h&&(er.numerator=n.args[0],er.denominator=n.args[1])):(1===w&&(n=polyToCanonical(n,ee)),h&&(er.numerator=n,er.denominator=null)),h)?(er.coefficients=ee,er.variables=N.variables,er.expression=n,er):n}return h(eK,{Node:_rationalize,"Node, boolean":(n,a)=>_rationalize(n,{},a),"Node, Object":_rationalize,"Node, Object, boolean":_rationalize});function polyToCanonical(n,a){void 0===a&&(a=[]),a[0]=0;var h,b={};b.cte=1,b.oper="+",b.fire="";var N=0,w="";(function recurPol(n,h,b){var _=n.type;if("FunctionNode"===_)throw Error("There is an unsolved function call");if("OperatorNode"===_){if(!"+-*^".includes(n.op))throw Error("Operator "+n.op+" invalid");if(null!==h&&(("unaryMinus"===n.fn||"pow"===n.fn)&&"add"!==h.fn&&"subtract"!==h.fn&&"multiply"!==h.fn||("subtract"===n.fn||"add"===n.fn||"multiply"===n.fn)&&"add"!==h.fn&&"subtract"!==h.fn||("subtract"===n.fn||"add"===n.fn||"unaryMinus"===n.fn)&&0!==b.noFil))throw Error("Invalid "+n.op+" placing");("^"===n.op||"*"===n.op)&&(b.fire=n.op);for(var D=0;D<n.args.length;D++)"unaryMinus"===n.fn&&(b.oper="-"),("+"===n.op||"subtract"===n.fn)&&(b.fire="",b.cte=1,b.oper=0===D?"+":n.op),b.noFil=D,recurPol(n.args[D],n,b)}else if("SymbolNode"===_){if(n.name!==w&&""!==w)throw Error("There is more than one variable");if(w=n.name,null===h){a[1]=1;return}if("^"===h.op&&0!==b.noFil)throw Error("In power the variable should be the first parameter");if("*"===h.op&&1!==b.noFil)throw Error("In multiply the variable should be the second parameter");(""===b.fire||"*"===b.fire)&&(N<1&&(a[1]=0),a[1]+=b.cte*("+"===b.oper?1:-1),N=Math.max(1,N))}else if("ConstantNode"===_){var E=parseFloat(n.value);if(null===h){a[0]=E;return}if("^"===h.op){if(1!==b.noFil)throw Error("Constant cannot be powered");if(!isInteger(E)||E<=0)throw Error("Non-integer exponent is not allowed");for(var A=N+1;A<E;A++)a[A]=0;E>N&&(a[E]=0),a[E]+=b.cte*("+"===b.oper?1:-1),N=Math.max(E,N);return}b.cte=E,""===b.fire&&(a[0]+=b.cte*("+"===b.oper?1:-1))}else throw Error("Type "+_+" is not allowed")})(n,null,b),N=a.length-1;for(var _=!0,D=N;D>=0;D--)if(0!==a[D]){var E=new G(_?a[D]:Math.abs(a[D])),A=a[D]<0?"-":"+";if(D>0){var M=new J(w);if(D>1){var B=new G(D);M=new X("^","pow",[M,B])}E=-1===a[D]&&_?new X("-","unaryMinus",[M]):1===Math.abs(a[D])?M:new X("*","multiply",[E,M])}h=_?E:"+"===A?new X("+","add",[h,E]):new X("-","subtract",[h,E]),_=!1}return _?new G(0):h}}),e1="derivative",e2=factory_factory(e1,["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],n=>{var{typed:a,config:h,parse:b,simplify:N,equal:w,isZero:_,numeric:D,ConstantNode:E,FunctionNode:A,OperatorNode:M,ParenthesisNode:B,SymbolNode:I}=n;function plainDerivative(n,a){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{simplify:!0},b=new Map,w=a.name,_=L(n,function isConstCached(n){var a=b.get(n);if(void 0!==a)return a;var h=j(isConstCached,n,w);return b.set(n,h),h});return h.simplify?N(_):_}function parseIdentifier(n){var a=b(n);if(!a.isSymbolNode)throw TypeError("Invalid variable. "+"Cannot parse ".concat(JSON.stringify(n)," into a variable in function derivative"));return a}var z=a(e1,{"Node, SymbolNode":plainDerivative,"Node, SymbolNode, Object":plainDerivative,"Node, string":(n,a)=>plainDerivative(n,parseIdentifier(a)),"Node, string, Object":(n,a,h)=>plainDerivative(n,parseIdentifier(a),h)});z._simplify=!0,z.toTex=function(n){return q.apply(null,n.args)};var q=a("_derivTex",{"Node, SymbolNode":function(n,a){return isConstantNode(n)&&"string"===typeOf(n.value)?q(b(n.value).toString(),a.toString(),1):q(n.toTex(),a.toString(),1)},"Node, ConstantNode":function(n,a){if("string"===typeOf(a.value))return q(n,b(a.value));throw Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(n,a,h){return q(n.toString(),a.name,h.value)},"string, string, number":function(n,a,h){return(1===h?"{d\\over d"+a+"}":"{d^{"+h+"}\\over d"+a+"^{"+h+"}}")+"\\left[".concat(n,"\\right]")}}),j=a("_isConst",{"function, ConstantNode, string":function(){return!0},"function, SymbolNode, string":function(n,a,h){return a.name!==h},"function, ParenthesisNode, string":function(n,a,h){return n(a.content,h)},"function, FunctionAssignmentNode, string":function(n,a,h){return!a.params.includes(h)||n(a.expr,h)},"function, FunctionNode | OperatorNode, string":function(n,a,h){return a.args.every(a=>n(a,h))}}),L=a("_derivative",{"ConstantNode, function":function(){return createConstantNode(0)},"SymbolNode, function":function(n,a){return a(n)?createConstantNode(0):createConstantNode(1)},"ParenthesisNode, function":function(n,a){return new B(L(n.content,a))},"FunctionAssignmentNode, function":function(n,a){return a(n)?createConstantNode(0):L(n.expr,a)},"FunctionNode, function":function(n,a){if(a(n))return createConstantNode(0);var h,b,N,w,_=n.args[0],D=!1,E=!1;switch(n.name){case"cbrt":D=!0,b=new M("*","multiply",[createConstantNode(3),new M("^","pow",[_,new M("/","divide",[createConstantNode(2),createConstantNode(3)])])]);break;case"sqrt":case"nthRoot":if(1===n.args.length)D=!0,b=new M("*","multiply",[createConstantNode(2),new A("sqrt",[_])]);else if(2===n.args.length)return h=new M("/","divide",[createConstantNode(1),n.args[1]]),L(new M("^","pow",[_,h]),a);break;case"log10":h=createConstantNode(10);case"log":if(h||1!==n.args.length){if(1===n.args.length&&h||2===n.args.length&&a(n.args[1]))b=new M("*","multiply",[_.clone(),new A("log",[h||n.args[1]])]),D=!0;else if(2===n.args.length)return L(new M("/","divide",[new A("log",[_]),new A("log",[n.args[1]])]),a)}else b=_.clone(),D=!0;break;case"pow":if(2===n.args.length)return L(new M("^","pow",[_,n.args[1]]),a);break;case"exp":b=new A("exp",[_.clone()]);break;case"sin":b=new A("cos",[_.clone()]);break;case"cos":b=new M("-","unaryMinus",[new A("sin",[_.clone()])]);break;case"tan":b=new M("^","pow",[new A("sec",[_.clone()]),createConstantNode(2)]);break;case"sec":b=new M("*","multiply",[n,new A("tan",[_.clone()])]);break;case"csc":E=!0,b=new M("*","multiply",[n,new A("cot",[_.clone()])]);break;case"cot":E=!0,b=new M("^","pow",[new A("csc",[_.clone()]),createConstantNode(2)]);break;case"asin":D=!0,b=new A("sqrt",[new M("-","subtract",[createConstantNode(1),new M("^","pow",[_.clone(),createConstantNode(2)])])]);break;case"acos":D=!0,E=!0,b=new A("sqrt",[new M("-","subtract",[createConstantNode(1),new M("^","pow",[_.clone(),createConstantNode(2)])])]);break;case"atan":D=!0,b=new M("+","add",[new M("^","pow",[_.clone(),createConstantNode(2)]),createConstantNode(1)]);break;case"asec":D=!0,b=new M("*","multiply",[new A("abs",[_.clone()]),new A("sqrt",[new M("-","subtract",[new M("^","pow",[_.clone(),createConstantNode(2)]),createConstantNode(1)])])]);break;case"acsc":D=!0,E=!0,b=new M("*","multiply",[new A("abs",[_.clone()]),new A("sqrt",[new M("-","subtract",[new M("^","pow",[_.clone(),createConstantNode(2)]),createConstantNode(1)])])]);break;case"acot":D=!0,E=!0,b=new M("+","add",[new M("^","pow",[_.clone(),createConstantNode(2)]),createConstantNode(1)]);break;case"sinh":b=new A("cosh",[_.clone()]);break;case"cosh":b=new A("sinh",[_.clone()]);break;case"tanh":b=new M("^","pow",[new A("sech",[_.clone()]),createConstantNode(2)]);break;case"sech":E=!0,b=new M("*","multiply",[n,new A("tanh",[_.clone()])]);break;case"csch":E=!0,b=new M("*","multiply",[n,new A("coth",[_.clone()])]);break;case"coth":E=!0,b=new M("^","pow",[new A("csch",[_.clone()]),createConstantNode(2)]);break;case"asinh":D=!0,b=new A("sqrt",[new M("+","add",[new M("^","pow",[_.clone(),createConstantNode(2)]),createConstantNode(1)])]);break;case"acosh":D=!0,b=new A("sqrt",[new M("-","subtract",[new M("^","pow",[_.clone(),createConstantNode(2)]),createConstantNode(1)])]);break;case"atanh":D=!0,b=new M("-","subtract",[createConstantNode(1),new M("^","pow",[_.clone(),createConstantNode(2)])]);break;case"asech":D=!0,E=!0,b=new M("*","multiply",[_.clone(),new A("sqrt",[new M("-","subtract",[createConstantNode(1),new M("^","pow",[_.clone(),createConstantNode(2)])])])]);break;case"acsch":D=!0,E=!0,b=new M("*","multiply",[new A("abs",[_.clone()]),new A("sqrt",[new M("+","add",[new M("^","pow",[_.clone(),createConstantNode(2)]),createConstantNode(1)])])]);break;case"acoth":D=!0,E=!0,b=new M("-","subtract",[createConstantNode(1),new M("^","pow",[_.clone(),createConstantNode(2)])]);break;case"abs":b=new M("/","divide",[new A(new I("abs"),[_.clone()]),_.clone()]);break;default:throw Error('Cannot process function "'+n.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}D?(N="/",w="divide"):(N="*",w="multiply");var B=L(_,a);return E&&(B=new M("-","unaryMinus",[B])),new M(N,w,[B,b])},"OperatorNode, function":function(n,a){if(a(n))return createConstantNode(0);if("+"===n.op)return new M(n.op,n.fn,n.args.map(function(n){return L(n,a)}));if("-"===n.op){if(n.isUnary())return new M(n.op,n.fn,[L(n.args[0],a)]);if(n.isBinary())return new M(n.op,n.fn,[L(n.args[0],a),L(n.args[1],a)])}if("*"===n.op){var h=n.args.filter(function(n){return a(n)});if(h.length>0){var b=n.args.filter(function(n){return!a(n)}),N=1===b.length?b[0]:new M("*","multiply",b),D=h.concat(L(N,a));return new M("*","multiply",D)}return new M("+","add",n.args.map(function(h){return new M("*","multiply",n.args.map(function(n){return n===h?L(n,a):n.clone()}))}))}if("/"===n.op&&n.isBinary()){var E=n.args[0],B=n.args[1];return a(B)?new M("/","divide",[L(E,a),B]):a(E)?new M("*","multiply",[new M("-","unaryMinus",[E]),new M("/","divide",[L(B,a),new M("^","pow",[B.clone(),createConstantNode(2)])])]):new M("/","divide",[new M("-","subtract",[new M("*","multiply",[L(E,a),B.clone()]),new M("*","multiply",[E.clone(),L(B,a)])]),new M("^","pow",[B.clone(),createConstantNode(2)])])}if("^"===n.op&&n.isBinary()){var I=n.args[0],z=n.args[1];if(a(I))return isConstantNode(I)&&(_(I.value)||w(I.value,1))?createConstantNode(0):new M("*","multiply",[n,new M("*","multiply",[new A("log",[I.clone()]),L(z.clone(),a)])]);if(a(z)){if(isConstantNode(z)){if(_(z.value))return createConstantNode(0);if(w(z.value,1))return L(I,a)}var q=new M("^","pow",[I.clone(),new M("-","subtract",[z,createConstantNode(1)])]);return new M("*","multiply",[z.clone(),new M("*","multiply",[L(I,a),q])])}return new M("*","multiply",[new M("^","pow",[I.clone(),z.clone()]),new M("+","add",[new M("*","multiply",[L(I,a),new M("/","divide",[z.clone(),I.clone()])]),new M("*","multiply",[L(z,a),new A("log",[I.clone()])])])])}throw Error('Cannot process operator "'+n.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function createConstantNode(n,a){return new E(D(n,a||safeNumberType(String(n),h)))}return z}),e3={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},e4={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},e5={bignumber:{name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","bigint","complex","fraction","index","matrix","string","unit"]},bigint:{name:"bigint",category:"Construction",syntax:["bigint(x)"],description:"Create a bigint, an integer with an arbitrary number of digits, from a number or string.",examples:["123123123123123123 # a large number will lose digits",'bigint("123123123123123123")','bignumber(["1", "3", "5"])'],seealso:["boolean","bignumber","number","complex","fraction","index","matrix","string","unit"]},boolean:{name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},complex:{name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},createUnit:{name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},fraction:{name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},index:{name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix","number","range","string","unit"]},matrix:{name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},number:{name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","bigint","boolean","complex","fraction","index","matrix","string","unit"]},sparse:{name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},splitUnit:{name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},string:{name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},unit:{name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},e:e3,E:e3,false:{name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},i:{name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},Infinity:{name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},LN2:{name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},LN10:{name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LOG2E:{name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},LOG10E:{name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},NaN:{name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},null:{name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},pi:e4,PI:e4,phi:{name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},SQRT1_2:{name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},SQRT2:{name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},tau:{name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},true:{name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},version:{name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant. Deprecated in favor of coulombConstant",examples:["coulombConstant"]},coulombConstant:{description:"Coulomb's constant",examples:["coulombConstant"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Bohr magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Bohr radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:{name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},lsolve:{name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},lsolveAll:{name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},lup:{name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lusolve:{name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},leafCount:{name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},polynomialRoot:{name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},resolve:{name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},simplify:{name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},simplifyConstant:{name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},simplifyCore:{name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},symbolicEqual:{name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},rationalize:{name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},slu:{name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},usolve:{name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},usolveAll:{name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},qr:{name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},abs:{name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},add:{name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},cbrt:{name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},ceil:{name:"ceil",category:"Arithmetic",syntax:["ceil(x)","ceil(x, n)","ceil(unit, valuelessUnit)","ceil(unit, n, valuelessUnit)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)","ceil(3.241cm, cm)","ceil(3.241cm, 2, cm)"],seealso:["floor","fix","round"]},cube:{name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},divide:{name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},dotDivide:{name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},dotMultiply:{name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotPow:{name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},exp:{name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},expm:{name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},expm1:{name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},fix:{name:"fix",category:"Arithmetic",syntax:["fix(x)","fix(x, n)","fix(unit, valuelessUnit)","fix(unit, n, valuelessUnit)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)","fix(3.241cm, cm)","fix(3.241cm, 2, cm)"],seealso:["ceil","floor","round"]},floor:{name:"floor",category:"Arithmetic",syntax:["floor(x)","floor(x, n)","floor(unit, valuelessUnit)","floor(unit, n, valuelessUnit)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)","floor(3.241cm, cm)","floor(3.241cm, 2, cm)"],seealso:["ceil","fix","round"]},gcd:{name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},hypot:{name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenuse of a list with values.",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},lcm:{name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},log:{name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},log2:{name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},log1p:{name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log10:{name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},mod:{name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},multiply:{name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},norm:{name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},nthRoot:{name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nthRoots:{name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},pow:{name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},round:{name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]},sign:{name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>0, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},sqrt:{name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sqrtm:{name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},square:{name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},subtract:{name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},unaryMinus:{name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},unaryPlus:{name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xgcd:{name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},invmod:{name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax ≣ 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},bitAnd:{name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNot:{name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitOr:{name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitXor:{name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},leftShift:{name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},rightArithShift:{name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},rightLogShift:{name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},bellNumbers:{name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},catalan:{name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},composition:{name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},stirlingS2:{name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},config:{name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},import:{name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},typed:{name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},arg:{name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},conj:{name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},re:{name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},im:{name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},evaluate:{name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:["parser","parse","compile"]},help:{name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},parse:{name:"parse",category:"Expression",syntax:["parse(expr)","parse(expr, options)","parse([expr1, expr2, expr3, ...])","parse([expr1, expr2, expr3, ...], options)"],description:"Parse an expression. Returns a node tree, which can be evaluated by invoking node.evaluate() or transformed into a functional object via node.compile().",examples:['node1 = parse("sqrt(3^2 + 4^2)")',"node1.evaluate()","code1 = node1.compile()","code1.evaluate()","scope = {a: 3, b: 4}",'node2 = parse("a * b")',"node2.evaluate(scope)","code2 = node2.compile()","code2.evaluate(scope)"],seealso:["parser","evaluate","compile"]},parser:{name:"parser",category:"Expression",syntax:["parser()"],description:"Create a parser object that keeps a context of variables and their values, allowing the evaluation of expressions in that context.",examples:["myParser = parser()",'myParser.evaluate("sqrt(3^2 + 4^2)")','myParser.set("x", 3)','myParser.evaluate("y = x + 3")','myParser.evaluate(["y = x + 3", "y = y + 1"])','myParser.get("y")'],seealso:["evaluate","parse","compile"]},compile:{name:"compile",category:"Expression",syntax:["compile(expr) ","compile([expr1, expr2, expr3, ...])"],description:"Parse and compile an expression. Returns a an object with a function evaluate([scope]) to evaluate the compiled expression.",examples:['code1 = compile("sqrt(3^2 + 4^2)")',"code1.evaluate() ",'code2 = compile("a * b")',"code2.evaluate({a: 3, b: 4})"],seealso:["parser","parse","evaluate"]},distance:{name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},intersect:{name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},and:{name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},not:{name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},nullish:{name:"nullish",category:"Logical",syntax:["x ?? y","nullish(x, y)"],description:"Nullish coalescing operator. Returns the right-hand operand when the left-hand operand is null or undefined, and otherwise returns the left-hand operand.",examples:["null ?? 42","undefined ?? 42","0 ?? 42","false ?? 42","null ?? undefined ?? 42"],seealso:["and","or","not"]},or:{name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xor:{name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},mapSlices:{name:"mapSlices",category:"Matrix",syntax:["mapSlices(A, dim, callback)"],description:"Generate a matrix one dimension less than A by applying callback to each slice of A along dimension dim.",examples:["A = [[1, 2], [3, 4]]","mapSlices(A, 1, sum)","mapSlices(A, 2, prod)"],seealso:["map","forEach"]},concat:{name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},count:{name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},cross:{name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},column:{name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},ctranspose:{name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},det:{name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diag:{name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diff:{name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicate the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},dot:{name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},getMatrixDataType:{name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},identity:{name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},filter:{name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},flatten:{name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},forEach:{name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},inv:{name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},pinv:{name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore–Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},eigs:{name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]},kron:{name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the Kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},matrixFromFunction:{name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},matrixFromRows:{name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},matrixFromColumns:{name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},map:{name:"map",category:"Matrix",syntax:["map(x, callback)","map(x, y, ..., callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array or the matrices/arrays.",examples:["map([1, 2, 3], square)","map([1, 2], [3, 4], f(a,b) = a + b)"],seealso:["filter","forEach"]},ones:{name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},partitionSelect:{name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},range:{name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},resize:{name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},reshape:{name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},rotate:{name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},rotationMatrix:{name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},row:{name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},size:{name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},sort:{name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},squeeze:{name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},subset:{name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},trace:{name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},transpose:{name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},zeros:{name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},fft:{name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional Fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},ifft:{name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse Fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},sylvester:{name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},schur:{name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},lyap:{name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},solveODE:{name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},combinations:{name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRep:{name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},factorial:{name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},gamma:{name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},kldivergence:{name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},lgamma:{name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},multinomial:{name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},permutations:{name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pickRandom:{name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},random:{name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},randomInt:{name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},compare:{name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},compareNatural:{name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareText:{name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},deepEqual:{name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},equal:{name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},equalText:{name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},larger:{name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not. Comparing a value with NaN returns false.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},largerEq:{name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},smaller:{name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not. Comparing a value with NaN returns false.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},smallerEq:{name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},unequal:{name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},setCartesian:{name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},setDifference:{name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setDistinct:{name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setIntersect:{name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setIsSubset:{name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setMultiplicity:{name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setPowerset:{name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setSize:{name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setSymDifference:{name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setUnion:{name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},zpk2tf:{name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},freqz:{name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},erf:{name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},zeta:{name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemann's Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},cumsum:{name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},mad:{name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},max:{name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values. If any NaN values are found, the function yields the last NaN in the input.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},mean:{name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},median:{name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},min:{name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values. If any NaN values are found, the function yields the last NaN in the input.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},mode:{name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},prod:{name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},quantileSeq:{name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probability are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},std:{name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},sum:{name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","variance"]},variance:{name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},corr:{name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},acos:{name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},acosh:{name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acot:{name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acoth:{name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the inverse hyperbolic tangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acsc:{name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acsch:{name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the inverse hyperbolic cosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},asec:{name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},asech:{name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asin:{name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asinh:{name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},atan:{name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},atanh:{name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},atan2:{name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},cos:{name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},cosh:{name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cot:{name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},coth:{name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},csc:{name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},csch:{name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},sec:{name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},sech:{name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},sin:{name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},sinh:{name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},tan:{name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},tanh:{name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},to:{name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},toBest:{name:"toBest",category:"Units",syntax:["toBest(x)","toBest(x, unitList)","toBest(x, unitList, options)"],description:"Converts to the most appropriate display unit.",examples:['toBest(unit(5000, "m"))','toBest(unit(3500000, "W"))','toBest(unit(0.000000123, "A"))','toBest(unit(10, "m"), "cm")','toBest(unit(10, "m"), "mm,km", {offset: 1.5})'],seealso:[]},clone:{name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables, and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},format:{name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},bin:{name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},oct:{name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},hex:{name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},isNaN:{name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isInteger:{name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNegative:{name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isNumeric:{name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},hasNumericValue:{name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},isPositive:{name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPrime:{name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isZero:{name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},print:{name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]},typeOf:{name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},numeric:{name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, bigint, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "bigint")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","bigint","fraction","bignumber","string","format"]}},e8="help",e6=factory_factory(e8,["typed","mathWithTransform","Help"],n=>{var{typed:a,mathWithTransform:h,Help:b}=n;return a(e8,{any:function(n){var a,N=n;if("string"!=typeof n){for(a in h)if(object_hasOwnProperty(h,a)&&n===h[a]){N=a;break}}var w=getSafeProperty(e5,N);if(!w)throw Error('No documentation found on "'+("function"==typeof N?N.name:N)+'"');return new b(w)}})}),e7="mapSlices",e9=factory_factory(e7,["typed","isInteger"],n=>{var{typed:a,isInteger:h}=n;return a(e7,{"Array | Matrix, number | BigNumber, function":function(n,a,b){if(!h(a))throw TypeError("Integer number expected for dimension");var N=Array.isArray(n)?arraySize(n):n.size();if(a<0||a>=N.length)throw new IndexError(a,N.length);return isMatrix(n)?n.create(_mapSlices(n.valueOf(),a,b),n.datatype()):_mapSlices(n,a,b)}})},{formerly:"apply"});function _mapSlices(n,a,h){var b,N,w;if(a<=0){if(!Array.isArray(n[0]))return h(n);for(b=0,w=function(n){var a,h,b=n.length,N=n[0].length,w=[];for(h=0;h<N;h++){var _=[];for(a=0;a<b;a++)_.push(n[a][h]);w.push(_)}return w}(n),N=[];b<w.length;b++)N[b]=_mapSlices(w[b],a-1,h);return N}for(b=0,N=[];b<n.length;b++)N[b]=_mapSlices(n[b],a-1,h);return N}function mapSlices_transform_ownKeys(n,a){var h=Object.keys(n);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(n);a&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),h.push.apply(h,b)}return h}var re=factory_factory("mapSlices",["typed","isInteger"],n=>{var{typed:a,isInteger:h}=n,b=e9({typed:a,isInteger:h});return a("mapSlices",{"...any":function(n){var a=n[1];isNumber(a)?n[1]=a-1:isBigNumber(a)&&(n[1]=a.minus(1));try{return b.apply(null,n)}catch(n){throw errorTransform(n)}}})},function(n){for(var a=1;a<arguments.length;a++){var h=null!=arguments[a]?arguments[a]:{};a%2?mapSlices_transform_ownKeys(Object(h),!0).forEach(function(a){_defineProperty(n,a,h[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(h)):mapSlices_transform_ownKeys(Object(h)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(h,a))})}return n}({isTransformFunction:!0},e9.meta)),rr=h(4814);function optimizeCallback(n,a,h,b){if(rr.isTypedFunction(n)){if(b)N=1;else{var N,w,_=(a.isMatrix?a.size():arraySize(a)).map(()=>0);N=function(n,a,h,b){for(var N=[a,h,b],w=3;w>0;w--){var _=N.slice(0,w);if(null!==rr.resolve(n,_))return w}}(n,a.isMatrix?a.get(_):array_get(a,_),_,a)}if(a.isMatrix&&"mixed"!==a.dataType&&void 0!==a.dataType){var D=function(n,a){var h=[];if(Object.entries(n.signatures).forEach(n=>{var[b,N]=n;b.split(",").length===a&&h.push(N)}),1===h.length)return h[0]}(n,N);w=void 0!==D?D:n}else w=n;return N>=1&&N<=3?{isUnary:1===N,fn:function(){for(var a=arguments.length,b=Array(a),_=0;_<a;_++)b[_]=arguments[_];return _tryFunctionWithArgs(w,b.slice(0,N),h,n.name)}}:{isUnary:!1,fn:function(){for(var a=arguments.length,b=Array(a),N=0;N<a;N++)b[N]=arguments[N];return _tryFunctionWithArgs(w,b,h,n.name)}}}return void 0===b?{isUnary:function(n){if(1!==n.length)return!1;var a=n.toString();if(/arguments/.test(a))return!1;var h=a.match(/\(.*?\)/);return!/\.\.\./.test(h)}(n),fn:n}:{isUnary:b,fn:n}}function _tryFunctionWithArgs(n,a,h,b){try{return n(...a)}catch(n){!function(n,a,h,b){var N;if(n instanceof TypeError&&(null===(N=n.data)||void 0===N?void 0:N.category)==="wrongType"){var w=[];throw w.push("value: ".concat(typeOf(a[0]))),a.length>=2&&w.push("index: ".concat(typeOf(a[1]))),a.length>=3&&w.push("array: ".concat(typeOf(a[2]))),TypeError("Function ".concat(h," cannot apply callback arguments ")+"".concat(b,"(").concat(w.join(", "),") at index ").concat(JSON.stringify(a[1])))}throw TypeError("Function ".concat(h," cannot apply callback arguments ")+"to function ".concat(b,": ").concat(n.message))}(n,a,h,b)}}var rt=factory_factory("filter",["typed"],n=>{var{typed:a}=n;return a("filter",{"Array, function":_filterCallback,"Matrix, function":function(n,a){return n.create(_filterCallback(n.valueOf(),a),n.datatype())},"Array, RegExp":filterRegExp,"Matrix, RegExp":function(n,a){return n.create(filterRegExp(n.valueOf(),a),n.datatype())}})});function _filterCallback(n,a){var h=optimizeCallback(a,n,"filter");return h.isUnary?filter(n,h.fn):filter(n,function(n,a,b){return h.fn(n,[a],b)})}function compileInlineExpression(n,a,h){var b=n.filter(function(n){return isSymbolNode(n)&&!(n.name in a)&&!h.has(n.name)})[0];if(!b)throw Error('No undefined variable found in inline expression "'+n+'"');var N=b.name,w=new Map,_=new PartitionedMap(h,w,new Set([N])),D=n.compile();return function(n){return w.set(N,n),D.evaluate(_)}}var rn=factory_factory("transformCallback",["typed"],n=>{var{typed:a}=n;return function(n,h){return a.isTypedFunction(n)?function _transformTypedCallbackFunction(n,h){var b=Object.fromEntries(Object.entries(n.signatures).map(n=>{var[b,N]=n,w=b.split(",").length;return a.isTypedFunction(N)?[b,_transformTypedCallbackFunction(N,h)]:[b,_transformCallbackFunction(N,w,h)]}));return"string"==typeof n.name?a(n.name,b):a(b)}(n,h):_transformCallbackFunction(n,n.length,h)}});function _transformCallbackFunction(n,a,h){return a===h?n:a===h+1?function(){for(var a=arguments.length,b=Array(a),N=0;N<a;N++)b[N]=arguments[N];return n(...b.slice(0,h),_transformDims(b[h]))}:a>h+1?function(){for(var a=arguments.length,b=Array(a),N=0;N<a;N++)b[N]=arguments[N];return n(...b.slice(0,h),_transformDims(b[h]),...b.slice(h+1))}:n}function _transformDims(n){return n.map(n=>n+1)}var ri=factory_factory("filter",["typed"],n=>{var{typed:a}=n;function filterTransform(n,h,b){var N=rt({typed:a}),w=rn({typed:a});if(0===n.length)return N();var _=n[0];if(1===n.length)return N(_);var D=n.length-1,E=n[D];return _&&(_=_compileAndEvaluate(_,b)),E&&(E=isSymbolNode(E)||isFunctionAssignmentNode(E)?_compileAndEvaluate(E,b):compileInlineExpression(E,h,b)),N(_,w(E,D))}function _compileAndEvaluate(n,a){return n.compile().evaluate(a)}return filterTransform.rawArgs=!0,filterTransform},{isTransformFunction:!0}),ra="forEach",ro=factory_factory(ra,["typed"],n=>{var{typed:a}=n;return a(ra,{"Array, function":_forEach,"Matrix, function":function(n,a){n.forEach(a)}})});function _forEach(n,a){var h=optimizeCallback(a,n,ra);deepForEach(n,h.fn,h.isUnary)}var rs=factory_factory("forEach",["typed"],n=>{var{typed:a}=n,h=ro({typed:a}),b=rn({typed:a});function forEachTransform(n,a,N){if(0===n.length)return h();var w=n[0];if(1===n.length)return h(w);var _=n.length-1,D=n[_];return w&&(w=_compileAndEvaluate(w,N)),D&&(D=isSymbolNode(D)||isFunctionAssignmentNode(D)?_compileAndEvaluate(D,N):compileInlineExpression(D,a,N)),h(w,b(D,_))}function _compileAndEvaluate(n,a){return n.compile().evaluate(a)}return forEachTransform.rawArgs=!0,forEachTransform},{isTransformFunction:!0}),ru=factory_factory("map",["typed"],n=>{var{typed:a}=n;return a("map",{"Array, function":_mapArray,"Matrix, function":function(n,a){return n.map(a)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(n,h,b)=>(function(n,h){if("function"!=typeof h)throw Error("Last argument must be a callback function");var b,N=n[0].isMatrix,w=n.map(n=>n.isMatrix?n.size():arraySize(n)),_=broadcastSizes(...w),D=n.length,E=N?(n,a)=>n.get(a):array_get,A=n.map((n,a)=>{var h=w[a].map(()=>0);return n.isMatrix?n.get(h):array_get(n,h)}),M=a.isTypedFunction(h)?(b=_.map(()=>0),null!==a.resolve(h,[...A,b,...n])?2:null!==a.resolve(h,[...A,b])?1:(a.resolve(h,A),0)):function(n,a){var h=n.toString();if(/arguments/.test(h))return 2;var b=h.match(/\(.*?\)/);return/\.\.\./.test(b)||n.length>a+1?2:n.length===a+1?1:0}(h,D);if(M<2)return function(n,a){var h=n[0],b=n.map(n=>n.isMatrix?n.valueOf():n),N=n.map(n=>n.isMatrix?n.size():arraySize(n)),w=broadcastSizes(...N),_=N.map(n=>w.length-n.length),D=w.length-1,E=a.length>1?[]:null,A=function iterate(n){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=w[h],N=Array(b);if(h<D)for(var _loop=function(a){E&&(E[h]=a),N[a]=iterate(n.map((n,b)=>_[b]>h?n:1===n.length?n[0]:n[a]),h+1)},A=0;A<b;A++)_loop(A);else for(var _loop2=function(b){E&&(E[h]=b),N[b]=a(n.map(n=>1===n.length?n[0]:n[b]),E?E.slice():void 0)},M=0;M<b;M++)_loop2(M);return N}(b,0);if(!h.isMatrix)return A;var M=h.create();return M._data=A,M._size=w,M}(n,_getLimitedCallback(M,h,null));var B=N?n.map(a=>a.isMatrix?a.create(broadcastTo(a.toArray(),_),a.datatype()):n[0].create(broadcastTo(a.valueOf(),_))):n.map(n=>n.isMatrix?broadcastTo(n.toArray(),_):broadcastTo(n,_)),I=_getLimitedCallback(M,h,B),broadcastedArraysCallback=(n,a)=>I([n,...B.slice(1).map(n=>E(n,a))],a);return N?B[0].map(broadcastedArraysCallback):_mapArray(B[0],broadcastedArraysCallback)})([n,h,...b.slice(0,b.length-1)],b[b.length-1])});function _getLimitedCallback(n,a,h){switch(n){case 0:return n=>a(...n);case 1:return(n,h)=>a(...n,h);case 2:return(n,b)=>a(...n,b,...h)}}function _mapArray(n,a){var h=optimizeCallback(a,n,"map");return deepMap(n,h.fn,h.isUnary)}}),rc=factory_factory("map",["typed"],n=>{var{typed:a}=n,h=ru({typed:a}),b=rn({typed:a});function mapTransform(n,a,N){if(0===n.length)return h();if(1===n.length)return h(n[0]);var w=n.length-1,_=n.slice(0,w),D=n[w];return _=_.map(n=>_compileAndEvaluate(n,N)),D&&(D=isSymbolNode(D)||isFunctionAssignmentNode(D)?_compileAndEvaluate(D,N):compileInlineExpression(D,a,N)),h(..._,b(D,w));function _compileAndEvaluate(n,a){return n.compile().evaluate(a)}}return mapTransform.rawArgs=!0,mapTransform},{isTransformFunction:!0}),rl=factory_factory("matAlgo03xDSf",["typed"],n=>{var{typed:a}=n;return function(n,h,b,N){var w,_=n._data,D=n._size,E=n._datatype||n.getDataType(),A=h._values,M=h._index,B=h._ptr,I=h._size,z=h._datatype||void 0===h._data?h._datatype:h.getDataType();if(D.length!==I.length)throw new DimensionError(D.length,I.length);if(D[0]!==I[0]||D[1]!==I[1])throw RangeError("Dimension mismatch. Matrix A ("+D+") must match Matrix B ("+I+")");if(!A)throw Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var q=D[0],j=D[1],L=0,H=b;"string"==typeof E&&E===z&&"mixed"!==E&&(w=E,L=a.convert(0,w),H=a.find(b,[w,w]));for(var $=[],V=0;V<q;V++)$[V]=[];for(var G=[],Z=[],W=0;W<j;W++){for(var Y=W+1,X=B[W],J=B[W+1],Q=X;Q<J;Q++){var K=M[Q];G[K]=N?H(A[Q],_[K][W]):H(_[K][W],A[Q]),Z[K]=Y}for(var ee=0;ee<q;ee++)Z[ee]===Y?$[ee][W]=G[ee]:$[ee][W]=N?H(L,_[ee][W]):H(_[ee][W],L)}return n.createDenseMatrix({data:$,size:[q,j],datatype:E===n._datatype&&z===h._datatype?w:void 0})}}),rf=factory_factory("matAlgo12xSfs",["typed","DenseMatrix"],n=>{var{typed:a,DenseMatrix:h}=n;return function(n,b,N,w){var _,D=n._values,E=n._index,A=n._ptr,M=n._size,B=n._datatype;if(!D)throw Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var I=M[0],z=M[1],q=N;"string"==typeof B&&(_=B,b=a.convert(b,_),q=a.find(N,[_,_]));for(var j=[],L=[],H=[],$=0;$<z;$++){for(var V=$+1,G=A[$],Z=A[$+1],W=G;W<Z;W++){var Y=E[W];L[Y]=D[W],H[Y]=V}for(var X=0;X<I;X++)0===$&&(j[X]=[]),H[X]===V?j[X][$]=w?q(b,L[X]):q(L[X],b):j[X][$]=w?q(b,0):q(0,b)}return new h({data:j,size:[I,z],datatype:_})}}),rm=factory_factory("matAlgo05xSfSf",["typed","equalScalar"],n=>{var{typed:a,equalScalar:h}=n;return function(n,b,N){var w,_,D,E,A,M=n._values,B=n._index,I=n._ptr,z=n._size,q=n._datatype||void 0===n._data?n._datatype:n.getDataType(),j=b._values,L=b._index,H=b._ptr,$=b._size,V=b._datatype||void 0===b._data?b._datatype:b.getDataType();if(z.length!==$.length)throw new DimensionError(z.length,$.length);if(z[0]!==$[0]||z[1]!==$[1])throw RangeError("Dimension mismatch. Matrix A ("+z+") must match Matrix B ("+$+")");var G=z[0],Z=z[1],W=h,Y=0,X=N;"string"==typeof q&&q===V&&"mixed"!==q&&(w=q,W=a.find(h,[w,w]),Y=a.convert(0,w),X=a.find(N,[w,w]));var J=M&&j?[]:void 0,Q=[],K=[],ee=J?[]:void 0,er=J?[]:void 0,et=[],en=[];for(D=0;D<Z;D++){K[D]=Q.length;var ei=D+1;for(E=I[D],A=I[D+1];E<A;E++)_=B[E],Q.push(_),et[_]=ei,ee&&(ee[_]=M[E]);for(E=H[D],A=H[D+1];E<A;E++)et[_=L[E]]!==ei&&Q.push(_),en[_]=ei,er&&(er[_]=j[E]);if(J)for(E=K[D];E<Q.length;){var ea=et[_=Q[E]],eo=en[_];if(ea===ei||eo===ei){var es=X(ea===ei?ee[_]:Y,eo===ei?er[_]:Y);W(es,Y)?Q.splice(E,1):(J.push(es),E++)}}}return K[Z]=Q.length,n.createSparseMatrix({values:J,index:Q,ptr:K,size:[G,Z],datatype:q===n._datatype&&V===b._datatype?w:void 0})}}),rp=factory_factory("matAlgo13xDD",["typed"],n=>{var{typed:a}=n;return function(n,h,b){var N,w=n._data,_=n._size,D=n._datatype,E=h._data,A=h._size,M=h._datatype,B=[];if(_.length!==A.length)throw new DimensionError(_.length,A.length);for(var I=0;I<_.length;I++){if(_[I]!==A[I])throw RangeError("Dimension mismatch. Matrix A ("+_+") must match Matrix B ("+A+")");B[I]=_[I]}var z=b;"string"==typeof D&&D===M&&(N=D,z=a.find(b,[N,N]));var q=B.length>0?function _iterate(n,a,h,b,N,w){var _=[];if(a===h.length-1)for(var D=0;D<b;D++)_[D]=n(N[D],w[D]);else for(var E=0;E<b;E++)_[E]=_iterate(n,a+1,h,h[a+1],N[E],w[E]);return _}(z,0,B,B[0],w,E):[];return n.createDenseMatrix({data:q,size:B,datatype:N})}}),rd=factory_factory("matAlgo14xDs",["typed"],n=>{var{typed:a}=n;return function(n,h,b,N){var w,_=n._data,D=n._size,E=n._datatype,A=b;"string"==typeof E&&(w=E,h=a.convert(h,w),A=a.find(b,[w,w]));var M=D.length>0?function _iterate(n,a,h,b,N,w,_){var D=[];if(a===h.length-1)for(var E=0;E<b;E++)D[E]=_?n(w,N[E]):n(N[E],w);else for(var A=0;A<b;A++)D[A]=_iterate(n,a+1,h,h[a+1],N[A],w,_);return D}(A,0,D,D[0],_,h,N):[];return n.createDenseMatrix({data:M,size:object_clone(D),datatype:w})}});function broadcast(n,a){if(deepStrictEqual(n.size(),a.size()))return[n,a];var h=broadcastSizes(n.size(),a.size());return[n,a].map(n=>deepStrictEqual(n.size(),h)?n:n.create(broadcastTo(n.valueOf(),h),n.datatype()))}var rh=factory_factory("matrixAlgorithmSuite",["typed","matrix"],n=>{var{typed:a,matrix:h}=n,b=rp({typed:a}),N=rd({typed:a});return function(n){var w,_=n.elop,D=n.SD||n.DS;_?(w={"DenseMatrix, DenseMatrix":(n,a)=>b(...broadcast(n,a),_),"Array, Array":(n,a)=>b(...broadcast(h(n),h(a)),_).valueOf(),"Array, DenseMatrix":(n,a)=>b(...broadcast(h(n),a),_),"DenseMatrix, Array":(n,a)=>b(...broadcast(n,h(a)),_)},n.SS&&(w["SparseMatrix, SparseMatrix"]=(a,h)=>n.SS(...broadcast(a,h),_,!1)),n.DS&&(w["DenseMatrix, SparseMatrix"]=(a,h)=>n.DS(...broadcast(a,h),_,!1),w["Array, SparseMatrix"]=(a,b)=>n.DS(...broadcast(h(a),b),_,!1)),D&&(w["SparseMatrix, DenseMatrix"]=(n,a)=>D(...broadcast(a,n),_,!0),w["SparseMatrix, Array"]=(n,a)=>D(...broadcast(h(a),n),_,!0))):(w={"DenseMatrix, DenseMatrix":a.referToSelf(n=>(a,h)=>b(...broadcast(a,h),n)),"Array, Array":a.referToSelf(n=>(a,N)=>b(...broadcast(h(a),h(N)),n).valueOf()),"Array, DenseMatrix":a.referToSelf(n=>(a,N)=>b(...broadcast(h(a),N),n)),"DenseMatrix, Array":a.referToSelf(n=>(a,N)=>b(...broadcast(a,h(N)),n))},n.SS&&(w["SparseMatrix, SparseMatrix"]=a.referToSelf(a=>(h,b)=>n.SS(...broadcast(h,b),a,!1))),n.DS&&(w["DenseMatrix, SparseMatrix"]=a.referToSelf(a=>(h,b)=>n.DS(...broadcast(h,b),a,!1)),w["Array, SparseMatrix"]=a.referToSelf(a=>(b,N)=>n.DS(...broadcast(h(b),N),a,!1))),D&&(w["SparseMatrix, DenseMatrix"]=a.referToSelf(n=>(a,h)=>D(...broadcast(h,a),n,!0)),w["SparseMatrix, Array"]=a.referToSelf(n=>(a,b)=>D(...broadcast(h(b),a),n,!0))));var E=n.scalar||"any";(n.Ds||n.Ss)&&(_?(w["DenseMatrix,"+E]=(n,a)=>N(n,a,_,!1),w[E+", DenseMatrix"]=(n,a)=>N(a,n,_,!0),w["Array,"+E]=(n,a)=>N(h(n),a,_,!1).valueOf(),w[E+", Array"]=(n,a)=>N(h(a),n,_,!0).valueOf()):(w["DenseMatrix,"+E]=a.referToSelf(n=>(a,h)=>N(a,h,n,!1)),w[E+", DenseMatrix"]=a.referToSelf(n=>(a,h)=>N(h,a,n,!0)),w["Array,"+E]=a.referToSelf(n=>(a,b)=>N(h(a),b,n,!1).valueOf()),w[E+", Array"]=a.referToSelf(n=>(a,b)=>N(h(b),a,n,!0).valueOf())));var A=void 0!==n.sS?n.sS:n.Ss;return _?(n.Ss&&(w["SparseMatrix,"+E]=(a,h)=>n.Ss(a,h,_,!1)),A&&(w[E+", SparseMatrix"]=(n,a)=>A(a,n,_,!0))):(n.Ss&&(w["SparseMatrix,"+E]=a.referToSelf(a=>(h,b)=>n.Ss(h,b,a,!1))),A&&(w[E+", SparseMatrix"]=a.referToSelf(n=>(a,h)=>A(h,a,n,!0)))),_&&_.signatures&&extend(w,_.signatures),w}}),rg="number, number";function notNumber(n){return!n}function orNumber(n,a){return!!(n||a)}function xorNumber(n,a){return!!n!=!!a}function andNumber(n,a){return!!(n&&a)}notNumber.signature="number",orNumber.signature=rg,xorNumber.signature=rg,andNumber.signature=rg;var ry=factory_factory("or",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:a,matrix:h,equalScalar:b,DenseMatrix:N,concat:w}=n,_=rl({typed:a}),D=rm({typed:a,equalScalar:b}),E=rf({typed:a,DenseMatrix:N}),A=rh({typed:a,matrix:h,concat:w});return a("or",{"number, number":orNumber,"Complex, Complex":function(n,a){return 0!==n.re||0!==n.im||0!==a.re||0!==a.im},"BigNumber, BigNumber":function(n,a){return!n.isZero()&&!n.isNaN()||!a.isZero()&&!a.isNaN()},"bigint, bigint":orNumber,"Unit, Unit":a.referToSelf(n=>(a,h)=>n(a.value||0,h.value||0))},A({SS:D,DS:_,Ss:E}))}),rv=factory_factory("or",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:a,matrix:h,equalScalar:b,DenseMatrix:N,concat:w}=n,_=ry({typed:a,matrix:h,equalScalar:b,DenseMatrix:N,concat:w});function orTransform(n,a,h){var b=n[0].compile().evaluate(h);return!!(!isCollection(b)&&_(b,!1))||_(b,n[1].compile().evaluate(h))}return orTransform.rawArgs=!0,orTransform},{isTransformFunction:!0}),rx=factory_factory("matAlgo02xDS0",["typed","equalScalar"],n=>{var{typed:a,equalScalar:h}=n;return function(n,b,N,w){var _,D=n._data,E=n._size,A=n._datatype||n.getDataType(),M=b._values,B=b._index,I=b._ptr,z=b._size,q=b._datatype||void 0===b._data?b._datatype:b.getDataType();if(E.length!==z.length)throw new DimensionError(E.length,z.length);if(E[0]!==z[0]||E[1]!==z[1])throw RangeError("Dimension mismatch. Matrix A ("+E+") must match Matrix B ("+z+")");if(!M)throw Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var j=E[0],L=E[1],H=h,$=0,V=N;"string"==typeof A&&A===q&&"mixed"!==A&&(_=A,H=a.find(h,[_,_]),$=a.convert(0,_),V=a.find(N,[_,_]));for(var G=[],Z=[],W=[],Y=0;Y<L;Y++){W[Y]=Z.length;for(var X=I[Y],J=I[Y+1],Q=X;Q<J;Q++){var K=B[Q],ee=w?V(M[Q],D[K][Y]):V(D[K][Y],M[Q]);H(ee,$)||(Z.push(K),G.push(ee))}}return W[L]=Z.length,b.createSparseMatrix({values:G,index:Z,ptr:W,size:[j,L],datatype:A===n._datatype&&q===b._datatype?_:void 0})}}),rb=factory_factory("matAlgo11xS0s",["typed","equalScalar"],n=>{var{typed:a,equalScalar:h}=n;return function(n,b,N,w){var _,D=n._values,E=n._index,A=n._ptr,M=n._size,B=n._datatype;if(!D)throw Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var I=M[0],z=M[1],q=h,j=0,L=N;"string"==typeof B&&(_=B,q=a.find(h,[_,_]),j=a.convert(0,_),b=a.convert(b,_),L=a.find(N,[_,_]));for(var H=[],$=[],V=[],G=0;G<z;G++){V[G]=$.length;for(var Z=A[G],W=A[G+1],Y=Z;Y<W;Y++){var X=E[Y],J=w?L(b,D[Y]):L(D[Y],b);q(J,j)||($.push(X),H.push(J))}}return V[z]=$.length,n.createSparseMatrix({values:H,index:$,ptr:V,size:[I,z],datatype:_})}}),rN=factory_factory("matAlgo06xS0S0",["typed","equalScalar"],n=>{var{typed:a,equalScalar:h}=n;return function(n,b,N){var w,_=n._values,D=n._size,E=n._datatype||void 0===n._data?n._datatype:n.getDataType(),A=b._values,M=b._size,B=b._datatype||void 0===b._data?b._datatype:b.getDataType();if(D.length!==M.length)throw new DimensionError(D.length,M.length);if(D[0]!==M[0]||D[1]!==M[1])throw RangeError("Dimension mismatch. Matrix A ("+D+") must match Matrix B ("+M+")");var I=D[0],z=D[1],q=h,j=0,L=N;"string"==typeof E&&E===B&&"mixed"!==E&&(w=E,q=a.find(h,[w,w]),j=a.convert(0,w),L=a.find(N,[w,w]));for(var H=_&&A?[]:void 0,$=[],V=[],G=H?[]:void 0,Z=[],W=[],Y=0;Y<z;Y++){V[Y]=$.length;var X=Y+1;if(scatter(n,Y,Z,G,W,X,$,L),scatter(b,Y,Z,G,W,X,$,L),G)for(var J=V[Y];J<$.length;){var Q=$[J];if(W[Q]===X){var K=G[Q];q(K,j)?$.splice(J,1):(H.push(K),J++)}else $.splice(J,1)}else for(var ee=V[Y];ee<$.length;)W[$[ee]]!==X?$.splice(ee,1):ee++}return V[z]=$.length,n.createSparseMatrix({values:H,index:$,ptr:V,size:[I,z],datatype:E===n._datatype&&B===b._datatype?w:void 0})}}),rw=factory_factory("and",["typed","matrix","equalScalar","zeros","not","concat"],n=>{var{typed:a,matrix:h,equalScalar:b,zeros:N,not:w,concat:_}=n,D=rx({typed:a,equalScalar:b}),E=rN({typed:a,equalScalar:b}),A=rb({typed:a,equalScalar:b}),M=rd({typed:a}),B=rh({typed:a,matrix:h,concat:_});return a("and",{"number, number":andNumber,"Complex, Complex":function(n,a){return(0!==n.re||0!==n.im)&&(0!==a.re||0!==a.im)},"BigNumber, BigNumber":function(n,a){return!n.isZero()&&!a.isZero()&&!n.isNaN()&&!a.isNaN()},"bigint, bigint":andNumber,"Unit, Unit":a.referToSelf(n=>(a,h)=>n(a.value||0,h.value||0)),"SparseMatrix, any":a.referToSelf(n=>(a,h)=>w(h)?N(a.size(),a.storage()):A(a,h,n,!1)),"DenseMatrix, any":a.referToSelf(n=>(a,h)=>w(h)?N(a.size(),a.storage()):M(a,h,n,!1)),"any, SparseMatrix":a.referToSelf(n=>(a,h)=>w(a)?N(a.size(),a.storage()):A(h,a,n,!0)),"any, DenseMatrix":a.referToSelf(n=>(a,h)=>w(a)?N(a.size(),a.storage()):M(h,a,n,!0)),"Array, any":a.referToSelf(n=>(a,b)=>n(h(a),b).valueOf()),"any, Array":a.referToSelf(n=>(a,b)=>n(a,h(b)).valueOf())},B({SS:E,DS:D}))}),r_=factory_factory("and",["typed","matrix","zeros","add","equalScalar","not","concat"],n=>{var{typed:a,matrix:h,equalScalar:b,zeros:N,not:w,concat:_}=n,D=rw({typed:a,matrix:h,equalScalar:b,zeros:N,not:w,concat:_});function andTransform(n,a,h){var b=n[0].compile().evaluate(h);return!!(isCollection(b)||D(b,!0))&&D(b,n[1].compile().evaluate(h))}return andTransform.rawArgs=!0,andTransform},{isTransformFunction:!0}),rD="concat",rE=factory_factory(rD,["typed","matrix","isInteger"],n=>{var{typed:a,matrix:h,isInteger:b}=n;return a(rD,{"...Array | Matrix | number | BigNumber":function(n){var a,N,w=n.length,_=-1,D=!1,E=[];for(a=0;a<w;a++){var A=n[a];if(isMatrix(A)&&(D=!0),isNumber(A)||isBigNumber(A)){if(a!==w-1)throw Error("Dimension must be specified as last argument");if(N=_,!b(_=A.valueOf()))throw TypeError("Integer number expected for dimension");if(_<0||a>0&&_>N)throw new IndexError(_,N+1)}else{var M=object_clone(A).valueOf(),B=arraySize(M);if(E[a]=M,N=_,_=B.length-1,a>0&&_!==N)throw new DimensionError(N+1,_+1)}}if(0===E.length)throw SyntaxError("At least one matrix expected");for(var I=E.shift();E.length;)I=concat(I,E.shift(),_);return D?h(I):I},"...string":function(n){return n.join("")}})}),rA=factory_factory("concat",["typed","matrix","isInteger"],n=>{var{typed:a,matrix:h,isInteger:b}=n,N=rE({typed:a,matrix:h,isInteger:b});return a("concat",{"...any":function(n){var a=n.length-1,h=n[a];isNumber(h)?n[a]=h-1:isBigNumber(h)&&(n[a]=h.minus(1));try{return N.apply(null,n)}catch(n){throw errorTransform(n)}}})},{isTransformFunction:!0});function improveErrorMessage(n,a,h){var b;return String(n).includes("Unexpected type")?(b=arguments.length>2?" (type: "+typeOf(h)+", value: "+JSON.stringify(h)+")":" (type: "+n.data.actual+")",TypeError("Cannot calculate "+a+", unexpected type of argument"+b)):String(n).includes("complex numbers")?(b=arguments.length>2?" (type: "+typeOf(h)+", value: "+JSON.stringify(h)+")":"",TypeError("Cannot calculate "+a+", no ordering relation is defined for complex numbers"+b)):n}var rC=factory_factory("max",["typed","config","numeric","larger","isNaN"],n=>{var{typed:a,config:h,numeric:b,larger:N,isNaN:w}=n;return a("max",{"Array | Matrix":_max,"Array | Matrix, number | BigNumber":function(n,a){return reduce(n,a.valueOf(),_largest)},"...":function(n){if(containsCollections(n))throw TypeError("Scalar values expected in function max");return _max(n)}});function _largest(n,a){try{return N(n,a)?n:a}catch(n){throw improveErrorMessage(n,"max",a)}}function _max(n){var a;if(collection_deepForEach(n,function(n){try{w(n)?a=n:(void 0===a||N(n,a))&&(a=n)}catch(a){throw improveErrorMessage(a,"max",n)}}),void 0===a)throw Error("Cannot calculate max of an empty array");return"string"==typeof a&&(a=b(a,safeNumberType(a,h))),a}});function lastDimToZeroBase(n){if(2===n.length&&isCollection(n[0])){var a=(n=n.slice())[1];(isNumber(a)||isBigNumber(a))&&(n[1]=isNumber(a)?a-1:isBigNumber(a)?a.minus(1):a)}return n}var rS=factory_factory("max",["typed","config","numeric","larger","isNaN"],n=>{var{typed:a,config:h,numeric:b,larger:N,isNaN:w}=n,_=rC({typed:a,config:h,numeric:b,larger:N,isNaN:w});return a("max",{"...any":function(n){n=lastDimToZeroBase(n);try{return _.apply(null,n)}catch(n){throw errorTransform(n)}}})},{isTransformFunction:!0}),rM=/\$([\w.]+)/g,rF="print",rT=factory_factory(rF,["typed"],n=>{var{typed:a}=n;return a(rF,{"string, Object | Array":_print,"string, Object | Array, number | Object":_print})});function _print(n,a,h){return n.replace(rM,function(n,b){var N=b.split("."),w=a[N.shift()];for(void 0!==w&&w.isMatrix&&(w=w.toArray());N.length&&void 0!==w;){var _=N.shift();w=_?w[_]:w+"."}return void 0!==w?isString(w)?w:string_format(w,h):n})}var rO="print",rB=factory_factory(rO,["typed","matrix","zeros","add"],n=>{var{typed:a,matrix:h,zeros:b,add:N}=n,w=rT({typed:a,matrix:h,zeros:b,add:N});return a(rO,{"string, Object | Array":function(n,a){return w(_convertTemplateToZeroBasedIndex(n),a)},"string, Object | Array, number | Object":function(n,a,h){return w(_convertTemplateToZeroBasedIndex(n),a,h)}});function _convertTemplateToZeroBasedIndex(n){return n.replace(rM,n=>"$"+n.slice(1).split(".").map(function(n){return!isNaN(n)&&n.length>0?parseInt(n)-1:n}).join("."))}},{isTransformFunction:!0}),rI=factory_factory("sum",["typed","config","add","numeric"],n=>{var{typed:a,config:h,add:b,numeric:N}=n;return a("sum",{"Array | Matrix":_sum,"Array | Matrix, number | BigNumber":function(n,a){try{return reduce(n,a,b)}catch(n){throw improveErrorMessage(n,"sum")}},"...":function(n){if(containsCollections(n))throw TypeError("Scalar values expected in function sum");return _sum(n)}});function _sum(n){var a;return collection_deepForEach(n,function(n){try{a=void 0===a?n:b(a,n)}catch(a){throw improveErrorMessage(a,"sum",n)}}),void 0===a&&(a=N(0,h.number)),"string"==typeof a&&(a=N(a,safeNumberType(a,h))),a}}),rk=factory_factory("sum",["typed","config","add","numeric"],n=>{var{typed:a,config:h,add:b,numeric:N}=n,w=rI({typed:a,config:h,add:b,numeric:N});return a("sum",{"...any":function(n){n=lastDimToZeroBase(n);try{return w.apply(null,n)}catch(n){throw errorTransform(n)}}})},{isTransformFunction:!0});function bitAndBigNumber(n,a){if(n.isFinite()&&!n.isInteger()||a.isFinite()&&!a.isInteger())throw Error("Integers expected in function bitAnd");var h=n.constructor;if(n.isNaN()||a.isNaN())return new h(NaN);if(n.isZero()||a.eq(-1)||n.eq(a))return n;if(a.isZero()||n.eq(-1))return a;if(!n.isFinite()||!a.isFinite()){if(!n.isFinite()&&!a.isFinite())return n.isNegative()===a.isNegative()?n:new h(0);if(!n.isFinite())return a.isNegative()?n:n.isNegative()?new h(0):a;if(!a.isFinite())return n.isNegative()?a:a.isNegative()?new h(0):n}return bitwise(n,a,function(n,a){return n&a})}function bitNotBigNumber(n){if(n.isFinite()&&!n.isInteger())throw Error("Integer expected in function bitNot");var a=n.constructor,h=a.precision;a.config({precision:1e9});var b=n.plus(new a(1));return b.s=-b.s||null,a.config({precision:h}),b}function bitOrBigNumber(n,a){if(n.isFinite()&&!n.isInteger()||a.isFinite()&&!a.isInteger())throw Error("Integers expected in function bitOr");var h=n.constructor;if(n.isNaN()||a.isNaN())return new h(NaN);var b=new h(-1);return n.isZero()||a.eq(b)||n.eq(a)?a:a.isZero()||n.eq(b)?n:n.isFinite()&&a.isFinite()?bitwise(n,a,function(n,a){return n|a}):!n.isFinite()&&!n.isNegative()&&a.isNegative()||n.isNegative()&&!a.isNegative()&&!a.isFinite()?b:n.isNegative()&&a.isNegative()?n.isFinite()?n:a:n.isFinite()?a:n}function bitwise(n,a,h){var b,N,w,_,D,E=n.constructor,A=+(n.s<0),M=+(a.s<0);if(A){b=decCoefficientToBinaryString(bitNotBigNumber(n));for(var B=0;B<b.length;++B)b[B]^=1}else b=decCoefficientToBinaryString(n);if(M){N=decCoefficientToBinaryString(bitNotBigNumber(a));for(var I=0;I<N.length;++I)N[I]^=1}else N=decCoefficientToBinaryString(a);b.length<=N.length?(w=b,_=N,D=A):(w=N,_=b,D=M);var z=w.length,q=_.length,j=1^h(A,M),L=new E(1^j),H=new E(1),$=new E(2),V=E.precision;for(E.config({precision:1e9});z>0;)h(w[--z],_[--q])===j&&(L=L.plus(H)),H=H.times($);for(;q>0;)h(D,_[--q])===j&&(L=L.plus(H)),H=H.times($);return E.config({precision:V}),0===j&&(L.s=-L.s),L}function decCoefficientToBinaryString(n){for(var a=n.d,h=a[0]+"",b=1;b<a.length;++b){for(var N=a[b]+"",w=7-N.length;w--;)N="0"+N;h+=N}for(var _=h.length;"0"===h.charAt(_);)_--;var D=n.e,E=h.slice(0,_+1||1),A=E.length;if(D>0){if(++D>A)for(D-=A;D--;)E+="0";else D<A&&(E=E.slice(0,D)+"."+E.slice(D))}for(var M=[0],B=0;B<E.length;){for(var I=M.length;I--;)M[I]*=10;M[0]+=parseInt(E.charAt(B++));for(var z=0;z<M.length;++z)M[z]>1&&((null===M[z+1]||void 0===M[z+1])&&(M[z+1]=0),M[z+1]+=M[z]>>1,M[z]&=1)}return M.reverse()}function bitXor(n,a){if(n.isFinite()&&!n.isInteger()||a.isFinite()&&!a.isInteger())throw Error("Integers expected in function bitXor");var h=n.constructor;if(n.isNaN()||a.isNaN())return new h(NaN);if(n.isZero())return a;if(a.isZero())return n;if(n.eq(a))return new h(0);var b=new h(-1);return n.eq(b)?bitNotBigNumber(a):a.eq(b)?bitNotBigNumber(n):n.isFinite()&&a.isFinite()?bitwise(n,a,function(n,a){return n^a}):n.isFinite()||a.isFinite()?new h(n.isNegative()===a.isNegative()?1/0:-1/0):b}function leftShiftBigNumber(n,a){if(n.isFinite()&&!n.isInteger()||a.isFinite()&&!a.isInteger())throw Error("Integers expected in function leftShift");var h=n.constructor;return n.isNaN()||a.isNaN()||a.isNegative()&&!a.isZero()?new h(NaN):n.isZero()||a.isZero()?n:n.isFinite()||a.isFinite()?a.lt(55)?n.times(Math.pow(2,a.toNumber())+""):n.times(new h(2).pow(a)):new h(NaN)}function rightArithShiftBigNumber(n,a){if(n.isFinite()&&!n.isInteger()||a.isFinite()&&!a.isInteger())throw Error("Integers expected in function rightArithShift");var h=n.constructor;return n.isNaN()||a.isNaN()||a.isNegative()&&!a.isZero()?new h(NaN):n.isZero()||a.isZero()?n:a.isFinite()?a.lt(55)?n.div(Math.pow(2,a.toNumber())+"").floor():n.div(new h(2).pow(a)).floor():new h(n.isNegative()?-1:n.isFinite()?0:NaN)}var rP="number, number";function bitAndNumber(n,a){if(!isInteger(n)||!isInteger(a))throw Error("Integers expected in function bitAnd");return n&a}function bitNotNumber(n){if(!isInteger(n))throw Error("Integer expected in function bitNot");return~n}function bitOrNumber(n,a){if(!isInteger(n)||!isInteger(a))throw Error("Integers expected in function bitOr");return n|a}function bitXorNumber(n,a){if(!isInteger(n)||!isInteger(a))throw Error("Integers expected in function bitXor");return n^a}function leftShiftNumber(n,a){if(!isInteger(n)||!isInteger(a))throw Error("Integers expected in function leftShift");return n<<a}function rightArithShiftNumber(n,a){if(!isInteger(n)||!isInteger(a))throw Error("Integers expected in function rightArithShift");return n>>a}function rightLogShiftNumber(n,a){if(!isInteger(n)||!isInteger(a))throw Error("Integers expected in function rightLogShift");return n>>>a}bitAndNumber.signature=rP,bitNotNumber.signature="number",bitOrNumber.signature=rP,bitXorNumber.signature=rP,leftShiftNumber.signature=rP,rightArithShiftNumber.signature=rP,rightLogShiftNumber.signature=rP;var rz="bitAnd",rR=factory_factory(rz,["typed","matrix","equalScalar","concat"],n=>{var{typed:a,matrix:h,equalScalar:b,concat:N}=n,w=rx({typed:a,equalScalar:b}),_=rN({typed:a,equalScalar:b}),D=rb({typed:a,equalScalar:b}),E=rh({typed:a,matrix:h,concat:N});return a(rz,{"number, number":bitAndNumber,"BigNumber, BigNumber":bitAndBigNumber,"bigint, bigint":(n,a)=>n&a},E({SS:_,DS:w,Ss:D}))}),rq=factory_factory("bitAnd",["typed","matrix","zeros","add","equalScalar","not","concat"],n=>{var{typed:a,matrix:h,equalScalar:b,zeros:N,not:w,concat:_}=n,D=rR({typed:a,matrix:h,equalScalar:b,zeros:N,not:w,concat:_});function bitAndTransform(n,a,h){var b=n[0].compile().evaluate(h);if(!isCollection(b)){if(isNaN(b))return NaN;if(0===b||!1===b)return 0}return D(b,n[1].compile().evaluate(h))}return bitAndTransform.rawArgs=!0,bitAndTransform},{isTransformFunction:!0}),rj=factory_factory("min",["typed","config","numeric","smaller","isNaN"],n=>{var{typed:a,config:h,numeric:b,smaller:N,isNaN:w}=n;return a("min",{"Array | Matrix":_min,"Array | Matrix, number | BigNumber":function(n,a){return reduce(n,a.valueOf(),_smallest)},"...":function(n){if(containsCollections(n))throw TypeError("Scalar values expected in function min");return _min(n)}});function _smallest(n,a){try{return N(n,a)?n:a}catch(n){throw improveErrorMessage(n,"min",a)}}function _min(n){var a;if(collection_deepForEach(n,function(n){try{w(n)?a=n:(void 0===a||N(n,a))&&(a=n)}catch(a){throw improveErrorMessage(a,"min",n)}}),void 0===a)throw Error("Cannot calculate min of an empty array");return"string"==typeof a&&(a=b(a,safeNumberType(a,h))),a}}),rU=factory_factory("min",["typed","config","numeric","smaller","isNaN"],n=>{var{typed:a,config:h,numeric:b,smaller:N,isNaN:w}=n,_=rj({typed:a,config:h,numeric:b,smaller:N,isNaN:w});return a("min",{"...any":function(n){n=lastDimToZeroBase(n);try{return _.apply(null,n)}catch(n){throw errorTransform(n)}}})},{isTransformFunction:!0}),rL="nullish",rH=factory_factory(rL,["typed","matrix","size","flatten","deepEqual"],n=>{var{typed:a,matrix:h,size:b,flatten:N,deepEqual:w}=n,_=rl({typed:a}),D=rd({typed:a}),E=rp({typed:a});return a(rL,{"number|bigint|Complex|BigNumber|Fraction|Unit|string|boolean|SparseMatrix, any":(n,a)=>n,"null, any":(n,a)=>a,"undefined, any":(n,a)=>a,"SparseMatrix, Array | Matrix":(n,a)=>{var h=b(n),N=b(a);if(w(h,N))return n;throw new DimensionError(h,N)},"DenseMatrix, DenseMatrix":a.referToSelf(n=>(a,h)=>E(a,h,n)),"DenseMatrix, SparseMatrix":a.referToSelf(n=>(a,h)=>_(a,h,n,!1)),"DenseMatrix, Array":a.referToSelf(n=>(a,b)=>E(a,h(b),n)),"DenseMatrix, any":a.referToSelf(n=>(a,h)=>D(a,h,n,!1)),"Array, Array":a.referToSelf(n=>(a,b)=>E(h(a),h(b),n).valueOf()),"Array, DenseMatrix":a.referToSelf(n=>(a,b)=>E(h(a),b,n)),"Array, SparseMatrix":a.referToSelf(n=>(a,b)=>_(h(a),b,n,!1)),"Array, any":a.referToSelf(n=>(a,b)=>D(h(a),b,n,!1).valueOf())})}),r$=factory_factory("nullish",["typed","matrix","size","flatten","deepEqual"],n=>{var{typed:a,matrix:h,size:b,flatten:N,deepEqual:w}=n,_=rH({typed:a,matrix:h,size:b,flatten:N,deepEqual:w});function nullishTransform(n,a,h){var b=n[0].compile().evaluate(h);return isCollection(b)||null==b||void 0===b?_(b,n[1].compile().evaluate(h)):b}return nullishTransform.rawArgs=!0,nullishTransform},{isTransformFunction:!0}),rV="subset",rG=factory_factory(rV,["typed","matrix","zeros","add"],n=>{var{typed:a,matrix:h,zeros:b,add:N}=n;return a(rV,{"Matrix, Index":function(n,a){return isEmptyIndex(a)?h():(validateIndexSourceSize(n,a),n.subset(a))},"Array, Index":a.referTo("Matrix, Index",function(n){return function(a,b){var N=n(h(a),b);return b.isScalar()?N:N.valueOf()}}),"Object, Index":_getObjectProperty,"string, Index":_getSubstring,"Matrix, Index, any, any":function(n,a,h,w){return isEmptyIndex(a)?n:(validateIndexSourceSize(n,a),n.clone().subset(a,function(n,a){if("string"==typeof n)throw Error("can't boradcast a string");if(a.isScalar())return n;var h=a.size();if(!h.every(n=>n>0))return n;try{return N(n,b(h))}catch(a){return n}}(h,a),w))},"Array, Index, any, any":a.referTo("Matrix, Index, any, any",function(n){return function(a,b,N,w){var _=n(h(a),b,N,w);return _.isMatrix?_.valueOf():_}}),"Array, Index, any":a.referTo("Matrix, Index, any, any",function(n){return function(a,b,N){return n(h(a),b,N,void 0).valueOf()}}),"Matrix, Index, any":a.referTo("Matrix, Index, any, any",function(n){return function(a,h,b){return n(a,h,b,void 0)}}),"string, Index, string":_setSubstring,"string, Index, string, string":_setSubstring,"Object, Index, any":_setObjectProperty})});function _getSubstring(n,a){if(!isIndex(a))throw TypeError("Index expected");if(isEmptyIndex(a))return"";if(validateIndexSourceSize(Array.from(n),a),1!==a.size().length)throw new DimensionError(a.size().length,1);var h=n.length;validateIndex(a.min()[0],h),validateIndex(a.max()[0],h);var b=a.dimension(0),N="";function callback(a){N+=n.charAt(a)}return Number.isInteger(b)?callback(b):b.forEach(callback),N}function _setSubstring(n,a,h,b){if(!a||!0!==a.isIndex)throw TypeError("Index expected");if(isEmptyIndex(a))return n;if(validateIndexSourceSize(Array.from(n),a),1!==a.size().length)throw new DimensionError(a.size().length,1);if(void 0!==b){if("string"!=typeof b||1!==b.length)throw TypeError("Single character expected as defaultValue")}else b=" ";var N=a.dimension(0);if((Number.isInteger(N)?1:N.size()[0])!==h.length)throw new DimensionError(N.size()[0],h.length);var w=n.length;validateIndex(a.min()[0]),validateIndex(a.max()[0]);for(var _=[],D=0;D<w;D++)_[D]=n.charAt(D);function callback(n,a){_[n]=h.charAt(a[0])}if(Number.isInteger(N)?callback(N,[0]):N.forEach(callback),_.length>w)for(var E=w-1,A=_.length;E<A;E++)_[E]||(_[E]=b);return _.join("")}function _getObjectProperty(n,a){if(!isEmptyIndex(a)){if(1!==a.size().length)throw new DimensionError(a.size(),1);var h=a.dimension(0);if("string"!=typeof h)throw TypeError("String expected as index to retrieve an object property");return getSafeProperty(n,h)}}function _setObjectProperty(n,a,h){if(isEmptyIndex(a))return n;if(1!==a.size().length)throw new DimensionError(a.size(),1);var b=a.dimension(0);if("string"!=typeof b)throw TypeError("String expected as index to retrieve an object property");var N=object_clone(n);return setSafeProperty(N,b,h),N}var rZ,rW,rY=factory_factory("subset",["typed","matrix","zeros","add"],n=>{var{typed:a,matrix:h,zeros:b,add:N}=n,w=rG({typed:a,matrix:h,zeros:b,add:N});return a("subset",{"...any":function(n){try{return w.apply(null,n)}catch(n){throw errorTransform(n)}}})},{isTransformFunction:!0}),rX=factory_factory("matAlgo10xSids",["typed","DenseMatrix"],n=>{var{typed:a,DenseMatrix:h}=n;return function(n,b,N,w){var _,D=n._values,E=n._index,A=n._ptr,M=n._size,B=n._datatype;if(!D)throw Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var I=M[0],z=M[1],q=N;"string"==typeof B&&(_=B,b=a.convert(b,_),q=a.find(N,[_,_]));for(var j=[],L=[],H=[],$=0;$<z;$++){for(var V=$+1,G=A[$],Z=A[$+1],W=G;W<Z;W++){var Y=E[W];L[Y]=D[W],H[Y]=V}for(var X=0;X<I;X++)0===$&&(j[X]=[]),H[X]===V?j[X][$]=w?q(b,L[X]):q(L[X],b):j[X][$]=b}return new h({data:j,size:[I,z],datatype:_})}}),rJ=factory_factory("matAlgo04xSidSid",["typed","equalScalar"],n=>{var{typed:a,equalScalar:h}=n;return function(n,b,N){var w,_,D,E,A,M,B=n._values,I=n._index,z=n._ptr,q=n._size,j=n._datatype||void 0===n._data?n._datatype:n.getDataType(),L=b._values,H=b._index,$=b._ptr,V=b._size,G=b._datatype||void 0===b._data?b._datatype:b.getDataType();if(q.length!==V.length)throw new DimensionError(q.length,V.length);if(q[0]!==V[0]||q[1]!==V[1])throw RangeError("Dimension mismatch. Matrix A ("+q+") must match Matrix B ("+V+")");var Z=q[0],W=q[1],Y=h,X=0,J=N;"string"==typeof j&&j===G&&"mixed"!==j&&(w=j,Y=a.find(h,[w,w]),X=a.convert(0,w),J=a.find(N,[w,w]));var Q=B&&L?[]:void 0,K=[],ee=[],er=B&&L?[]:void 0,et=B&&L?[]:void 0,en=[],ei=[];for(D=0;D<W;D++){ee[D]=K.length;var ea=D+1;for(A=z[D],M=z[D+1],E=A;E<M;E++)_=I[E],K.push(_),en[_]=ea,er&&(er[_]=B[E]);for(A=$[D],M=$[D+1],E=A;E<M;E++)if(en[_=H[E]]===ea){if(er){var eo=J(er[_],L[E]);Y(eo,X)?en[_]=null:er[_]=eo}}else K.push(_),ei[_]=ea,et&&(et[_]=L[E]);if(er&&et)for(E=ee[D];E<K.length;)en[_=K[E]]===ea?(Q[E]=er[_],E++):ei[_]===ea?(Q[E]=et[_],E++):K.splice(E,1)}return ee[W]=K.length,n.createSparseMatrix({values:Q,index:K,ptr:ee,size:[Z,W],datatype:j===n._datatype&&G===b._datatype?w:void 0})}}),rQ=factory_factory("matAlgo01xDSid",["typed"],n=>{var{typed:a}=n;return function(n,h,b,N){var w,_,D=n._data,E=n._size,A=n._datatype||n.getDataType(),M=h._values,B=h._index,I=h._ptr,z=h._size,q=h._datatype||void 0===h._data?h._datatype:h.getDataType();if(E.length!==z.length)throw new DimensionError(E.length,z.length);if(E[0]!==z[0]||E[1]!==z[1])throw RangeError("Dimension mismatch. Matrix A ("+E+") must match Matrix B ("+z+")");if(!M)throw Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var j=E[0],L=E[1],H="string"==typeof A&&"mixed"!==A&&A===q?A:void 0,$=H?a.find(b,[H,H]):b,V=[];for(w=0;w<j;w++)V[w]=[];var G=[],Z=[];for(_=0;_<L;_++){for(var W=_+1,Y=I[_],X=I[_+1],J=Y;J<X;J++)G[w=B[J]]=N?$(M[J],D[w][_]):$(D[w][_],M[J]),Z[w]=W;for(w=0;w<j;w++)Z[w]===W?V[w][_]=G[w]:V[w][_]=D[w][_]}return n.createDenseMatrix({data:V,size:[j,L],datatype:A===n._datatype&&q===h._datatype?H:void 0})}}),rK="bitOr",r0=factory_factory(rK,["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:a,matrix:h,equalScalar:b,DenseMatrix:N,concat:w}=n,_=rQ({typed:a}),D=rJ({typed:a,equalScalar:b}),E=rX({typed:a,DenseMatrix:N}),A=rh({typed:a,matrix:h,concat:w});return a(rK,{"number, number":bitOrNumber,"BigNumber, BigNumber":bitOrBigNumber,"bigint, bigint":(n,a)=>n|a},A({SS:D,DS:_,Ss:E}))}),r1=factory_factory("bitOr",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:a,matrix:h,equalScalar:b,DenseMatrix:N,concat:w}=n,_=r0({typed:a,matrix:h,equalScalar:b,DenseMatrix:N,concat:w});function bitOrTransform(n,a,h){var b=n[0].compile().evaluate(h);if(!isCollection(b)){if(isNaN(b))return NaN;if(-1===b)return -1;if(!0===b)return 1}return _(b,n[1].compile().evaluate(h))}return bitOrTransform.rawArgs=!0,bitOrTransform},{isTransformFunction:!0}),r2="diff",r3=factory_factory(r2,["typed","matrix","subtract","number"],n=>{var{typed:a,matrix:h,subtract:b,number:N}=n;return a(r2,{"Array | Matrix":function(n){return isMatrix(n)?h(_diff(n.toArray())):_diff(n)},"Array | Matrix, number":function(n,a){if(!isInteger(a))throw RangeError("Dimension must be a whole number");return isMatrix(n)?h(_recursive(n.toArray(),a)):_recursive(n,a)},"Array, BigNumber":a.referTo("Array,number",n=>(a,h)=>n(a,N(h))),"Matrix, BigNumber":a.referTo("Matrix,number",n=>(a,h)=>n(a,N(h)))});function _recursive(n,a){if(isMatrix(n)&&(n=n.toArray()),!Array.isArray(n))throw RangeError("Array/Matrix does not have that many dimensions");if(a>0){var h=[];return n.forEach(n=>{h.push(_recursive(n,a-1))}),h}if(0===a)return _diff(n);throw RangeError("Cannot have negative dimension")}function _diff(n){for(var a=[],h=n.length,N=1;N<h;N++)a.push(function _ElementDiff(n,a){isMatrix(n)&&(n=n.toArray()),isMatrix(a)&&(a=a.toArray());var h=Array.isArray(n),N=Array.isArray(a);if(h&&N)return function(n,a){if(n.length!==a.length)throw RangeError("Not all sub-arrays have the same length");for(var h=[],b=n.length,N=0;N<b;N++)h.push(_ElementDiff(n[N],a[N]));return h}(n,a);if(!h&&!N)return b(a,n);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}(n[N-1],n[N]));return a}}),r4="diff",r5=factory_factory(r4,["typed","matrix","subtract","number","bignumber"],n=>{var{typed:a,matrix:h,subtract:b,number:N,bignumber:w}=n,_=r3({typed:a,matrix:h,subtract:b,number:N,bignumber:w});return a(r4,{"...any":function(n){n=lastDimToZeroBase(n);try{return _.apply(null,n)}catch(n){throw errorTransform(n)}}})},{isTransformFunction:!0}),r8=factory_factory("index",["Index","getMatrixDataType"],n=>{var{Index:a,getMatrixDataType:h}=n;return function(){for(var n=[],b=0,N=arguments.length;b<N;b++){var w=arguments[b];if(isRange(w))w.start--,w.end-=w.step>0?0:2;else if(w&&!0===w.isSet)w=w.map(function(n){return n-1});else if(_(w)||isMatrix(w))"boolean"!==h(w)&&(w=w.map(function(n){return n-1}));else if(isNumber(w)||isBigInt(w))w--;else if(isBigNumber(w))w=w.toNumber()-1;else if("string"==typeof w);else throw TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");n[b]=w}var D=new a;return a.apply(D,n),D}},{isTransformFunction:!0}),r6="range",r7=factory_factory(r6,["typed","config","?matrix","?bignumber","equal","smaller","smallerEq","larger","largerEq","add","isZero","isPositive"],n=>{var{typed:a,config:h,matrix:b,bignumber:N,smaller:w,smallerEq:_,larger:D,largerEq:E,add:A,isZero:M,isPositive:B}=n;return a(r6,{string:_strRange,"string, boolean":_strRange,number:function(n){throw TypeError("Too few arguments to function range(): ".concat(n))},boolean:function(n){throw TypeError("Unexpected type of argument 1 to function range(): ".concat(n,", number|bigint|BigNumber|Fraction"))},"number, number":function(n,a){return _out(_range(n,a,1,!1))},"number, number, number":function(n,a,h){return _out(_range(n,a,h,!1))},"number, number, boolean":function(n,a,h){return _out(_range(n,a,1,h))},"number, number, number, boolean":function(n,a,h,b){return _out(_range(n,a,h,b))},"bigint, bigint|number":function(n,a){return _out(_range(n,a,1n,!1))},"number, bigint":function(n,a){return _out(_range(BigInt(n),a,1n,!1))},"bigint, bigint|number, bigint|number":function(n,a,h){return _out(_range(n,a,BigInt(h),!1))},"number, bigint, bigint|number":function(n,a,h){return _out(_range(BigInt(n),a,BigInt(h),!1))},"bigint, bigint|number, boolean":function(n,a,h){return _out(_range(n,a,1n,h))},"number, bigint, boolean":function(n,a,h){return _out(_range(BigInt(n),a,1n,h))},"bigint, bigint|number, bigint|number, boolean":function(n,a,h,b){return _out(_range(n,a,BigInt(h),b))},"number, bigint, bigint|number, boolean":function(n,a,h,b){return _out(_range(BigInt(n),a,BigInt(h),b))},"BigNumber, BigNumber":function(n,a){var h=n.constructor;return _out(_range(n,a,new h(1),!1))},"BigNumber, BigNumber, BigNumber":function(n,a,h){return _out(_range(n,a,h,!1))},"BigNumber, BigNumber, boolean":function(n,a,h){var b=n.constructor;return _out(_range(n,a,new b(1),h))},"BigNumber, BigNumber, BigNumber, boolean":function(n,a,h,b){return _out(_range(n,a,h,b))},"Fraction, Fraction":function(n,a){return _out(_range(n,a,1,!1))},"Fraction, Fraction, Fraction":function(n,a,h){return _out(_range(n,a,h,!1))},"Fraction, Fraction, boolean":function(n,a,h){return _out(_range(n,a,1,h))},"Fraction, Fraction, Fraction, boolean":function(n,a,h,b){return _out(_range(n,a,h,b))},"Unit, Unit, Unit":function(n,a,h){return _out(_range(n,a,h,!1))},"Unit, Unit, Unit, boolean":function(n,a,h,b){return _out(_range(n,a,h,b))}});function _out(n){return"Matrix"===h.matrix?b?b(n):function(){throw Error('No "matrix" implementation available')}():n}function _strRange(n,a){var b=function(n){var a=n.split(":").map(function(n){return Number(n)});if(a.some(function(n){return isNaN(n)}))return null;switch(a.length){case 2:return{start:a[0],end:a[1],step:1};case 3:return{start:a[0],end:a[2],step:a[1]};default:return null}}(n);if(!b)throw SyntaxError('String "'+n+'" is no valid range');return"BigNumber"===h.number?(void 0===N&&noBignumber(),_out(_range(N(b.start),N(b.end),N(b.step)),a)):_out(_range(b.start,b.end,b.step,a))}function _range(n,a,h,b){var N=[];if(M(h))throw Error("Step must be non-zero");for(var I=B(h)?b?_:w:b?E:D,z=n;I(z,a);)N.push(z),z=A(z,h);return N}}),r9=factory_factory("range",["typed","config","?matrix","?bignumber","equal","smaller","smallerEq","larger","largerEq","add","isZero","isPositive"],n=>{var{typed:a,config:h,matrix:b,bignumber:N,equal:w,smaller:_,smallerEq:D,larger:E,largerEq:A,add:M,isZero:B,isPositive:I}=n,z=r7({typed:a,config:h,matrix:b,bignumber:N,equal:w,smaller:_,smallerEq:D,larger:E,largerEq:A,add:M,isZero:B,isPositive:I});return a("range",{"...any":function(n){var a=n.length-1;return"boolean"!=typeof n[a]&&n.push(!0),z.apply(null,n)}})},{isTransformFunction:!0}),te=factory_factory("row",["typed","Index","matrix","range"],n=>{var{typed:a,Index:h,matrix:b,range:N}=n;return a("row",{"Matrix, number":_row,"Array, number":function(n,a){return _row(b(object_clone(n)),a).valueOf()}});function _row(n,a){if(2!==n.size().length)throw Error("Only two dimensional matrix is supported");validateIndex(a,n.size()[0]);var w=N(0,n.size()[1]),_=new h([a],w),D=n.subset(_);return isMatrix(D)?D:b([[D]])}}),tr=factory_factory("row",["typed","Index","matrix","range"],n=>{var{typed:a,Index:h,matrix:b,range:N}=n,w=te({typed:a,Index:h,matrix:b,range:N});return a("row",{"...any":function(n){var a=n.length-1,h=n[a];isNumber(h)&&(n[a]=h-1);try{return w.apply(null,n)}catch(n){throw errorTransform(n)}}})},{isTransformFunction:!0}),tt="column",tn=factory_factory(tt,["typed","Index","matrix","range"],n=>{var{typed:a,Index:h,matrix:b,range:N}=n;return a(tt,{"Matrix, number":_column,"Array, number":function(n,a){return _column(b(object_clone(n)),a).valueOf()}});function _column(n,a){if(2!==n.size().length)throw Error("Only two dimensional matrix is supported");validateIndex(a,n.size()[1]);var w=N(0,n.size()[0]),_=new h(w,[a]),D=n.subset(_);return isMatrix(D)?D:b([[D]])}}),ti=factory_factory("column",["typed","Index","matrix","range"],n=>{var{typed:a,Index:h,matrix:b,range:N}=n,w=tn({typed:a,Index:h,matrix:b,range:N});return a("column",{"...any":function(n){var a=n.length-1,h=n[a];isNumber(h)&&(n[a]=h-1);try{return w.apply(null,n)}catch(n){throw errorTransform(n)}}})},{isTransformFunction:!0}),ta="cumsum",to=factory_factory(ta,["typed","add","unaryPlus"],n=>{var{typed:a,add:h,unaryPlus:b}=n;return a(ta,{Array:_cumsum,Matrix:function(n){return n.create(_cumsum(n.valueOf(),n.datatype()))},"Array, number | BigNumber":_ncumSumDim,"Matrix, number | BigNumber":function(n,a){return n.create(_ncumSumDim(n.valueOf(),a),n.datatype())},"...":function(n){if(containsCollections(n))throw TypeError("All values expected to be scalar in function cumsum");return _cumsum(n)}});function _cumsum(n){try{return _cumsummap(n)}catch(n){throw improveErrorMessage(n,ta)}}function _cumsummap(n){if(0===n.length)return[];for(var a=[b(n[0])],N=1;N<n.length;++N)a.push(h(a[N-1],n[N]));return a}function _ncumSumDim(n,a){var h=arraySize(n);if(a<0||a>=h.length)throw new IndexError(a,h.length);try{return function _cumsumDimensional(n,a){var h,b,N;if(a<=0){if(!Array.isArray(n[0][0]))return _cumsummap(n);for(h=0,N=_switch(n),b=[];h<N.length;h++)b[h]=_cumsumDimensional(N[h],a-1);return b}for(h=0,b=[];h<n.length;h++)b[h]=_cumsumDimensional(n[h],a-1);return b}(n,a)}catch(n){throw improveErrorMessage(n,ta)}}}),ts="cumsum",tu=factory_factory(ts,["typed","add","unaryPlus"],n=>{var{typed:a,add:h,unaryPlus:b}=n,N=to({typed:a,add:h,unaryPlus:b});return a(ts,{"...any":function(n){if(2===n.length&&isCollection(n[0])){var a=n[1];isNumber(a)?n[1]=a-1:isBigNumber(a)&&(n[1]=a.minus(1))}try{return N.apply(null,n)}catch(n){throw errorTransform(n)}}})},{isTransformFunction:!0}),tc="mean",tl=factory_factory(tc,["typed","add","divide"],n=>{var{typed:a,add:h,divide:b}=n;return a(tc,{"Array | Matrix":_mean,"Array | Matrix, number | BigNumber":function(n,a){try{var N=reduce(n,a,h),w=Array.isArray(n)?arraySize(n):n.size();return b(N,w[a])}catch(n){throw improveErrorMessage(n,"mean")}},"...":function(n){if(containsCollections(n))throw TypeError("Scalar values expected in function mean");return _mean(n)}});function _mean(n){var a,N=0;if(collection_deepForEach(n,function(n){try{a=void 0===a?n:h(a,n),N++}catch(a){throw improveErrorMessage(a,"mean",n)}}),0===N)throw Error("Cannot calculate the mean of an empty array");return b(a,N)}}),tf=factory_factory("mean",["typed","add","divide"],n=>{var{typed:a,add:h,divide:b}=n,N=tl({typed:a,add:h,divide:b});return a("mean",{"...any":function(n){n=lastDimToZeroBase(n);try{return N.apply(null,n)}catch(n){throw errorTransform(n)}}})},{isTransformFunction:!0}),tm="quantileSeq",tp=factory_factory(tm,["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],n=>{var{typed:a,bignumber:h,add:b,subtract:N,divide:w,multiply:_,partitionSelect:D,compare:E,isInteger:A,smaller:M,smallerEq:B,larger:I,mapSlices:z}=n;return a(tm,{"Array | Matrix, number | BigNumber":(n,a)=>_quantileSeqProbNumber(n,a,!1),"Array | Matrix, number | BigNumber, number":(n,a,h)=>_quantileSeqDim(n,a,!1,h,_quantileSeqProbNumber),"Array | Matrix, number | BigNumber, boolean":_quantileSeqProbNumber,"Array | Matrix, number | BigNumber, boolean, number":(n,a,h,b)=>_quantileSeqDim(n,a,h,b,_quantileSeqProbNumber),"Array | Matrix, Array | Matrix":(n,a)=>_quantileSeqProbCollection(n,a,!1),"Array | Matrix, Array | Matrix, number":(n,a,h)=>_quantileSeqDim(n,a,!1,h,_quantileSeqProbCollection),"Array | Matrix, Array | Matrix, boolean":_quantileSeqProbCollection,"Array | Matrix, Array | Matrix, boolean, number":(n,a,h,b)=>_quantileSeqDim(n,a,h,b,_quantileSeqProbCollection)});function _quantileSeqDim(n,a,h,b,N){return z(n,b,n=>N(n,a,h))}function _quantileSeqProbNumber(n,a,N){var _,D=n.valueOf();if(M(a,0))throw Error("N/prob must be non-negative");if(B(a,1))return isNumber(a)?_quantileSeq(D,a,N):h(_quantileSeq(D,a,N));if(I(a,1)){if(!A(a))throw Error("N must be a positive integer");if(I(a,4294967295))throw Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var E=b(a,1);_=[];for(var z=0;M(z,a);z++){var q=w(z+1,E);_.push(_quantileSeq(D,q,N))}return isNumber(a)?_:h(_)}}function _quantileSeqProbCollection(n,a,h){for(var b=n.valueOf(),N=a.valueOf(),w=[],_=0;_<N.length;++_)w.push(_quantileSeq(b,N[_],h));return w}function _quantileSeq(n,a,h){var w,M,B=flatten(n),I=B.length;if(0===I)throw Error("Cannot calculate quantile of an empty sequence");var z=isNumber(a)?a*(I-1):a.times(I-1),q=isNumber(a)?Math.floor(z):z.floor().toNumber(),j=isNumber(a)?z%1:z.minus(q);if(A(z))return h?B[z]:D(B,isNumber(a)?z:z.valueOf());if(h)w=B[q],M=B[q+1];else{M=D(B,q+1),w=B[q];for(var L=0;L<q;++L)E(B[L],w)>0&&(w=B[L])}return b(_(w,N(1,j)),_(M,j))}}),td=factory_factory("quantileSeq",["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],n=>{var{typed:a,bignumber:h,add:b,subtract:N,divide:w,multiply:_,partitionSelect:D,compare:E,isInteger:A,smaller:M,smallerEq:B,larger:I,mapSlices:z}=n,q=tp({typed:a,bignumber:h,add:b,subtract:N,divide:w,multiply:_,partitionSelect:D,compare:E,isInteger:A,smaller:M,smallerEq:B,larger:I,mapSlices:z});return a("quantileSeq",{"Array | Matrix, number | BigNumber":q,"Array | Matrix, number | BigNumber, number":(n,a,h)=>q(n,a,dimToZeroBase(h)),"Array | Matrix, number | BigNumber, boolean":q,"Array | Matrix, number | BigNumber, boolean, number":(n,a,h,b)=>q(n,a,h,dimToZeroBase(b)),"Array | Matrix, Array | Matrix":q,"Array | Matrix, Array | Matrix, number":(n,a,h)=>q(n,a,dimToZeroBase(h)),"Array | Matrix, Array | Matrix, boolean":q,"Array | Matrix, Array | Matrix, boolean, number":(n,a,h,b)=>q(n,a,h,dimToZeroBase(b))});function dimToZeroBase(n){return lastDimToZeroBase([[],n])[1]}},{isTransformFunction:!0}),th="unbiased",tg="variance",ty=factory_factory(tg,["typed","add","subtract","multiply","divide","mapSlices","isNaN"],n=>{var{typed:a,add:h,subtract:b,multiply:N,divide:w,mapSlices:_,isNaN:D}=n;return a(tg,{"Array | Matrix":function(n){return _var(n,th)},"Array | Matrix, string":_var,"Array | Matrix, number | BigNumber":function(n,a){return _varDim(n,a,th)},"Array | Matrix, number | BigNumber, string":_varDim,"...":function(n){return _var(n,th)}});function _var(n,a){var _,E=0;if(0===n.length)throw SyntaxError("Function variance requires one or more parameters (0 provided)");if(collection_deepForEach(n,function(n){try{_=void 0===_?n:h(_,n),E++}catch(a){throw improveErrorMessage(a,"variance",n)}}),0===E)throw Error("Cannot calculate variance of an empty array");var A=w(_,E);if(_=void 0,collection_deepForEach(n,function(n){var a=b(n,A);_=void 0===_?N(a,a):h(_,N(a,a))}),D(_))return _;switch(a){case"uncorrected":return w(_,E);case"biased":return w(_,E+1);case"unbiased":var M=isBigNumber(_)?_.mul(0):0;return 1===E?M:w(_,E-1);default:throw Error('Unknown normalization "'+a+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function _varDim(n,a,h){try{if(0===n.length)throw SyntaxError("Function variance requires one or more parameters (0 provided)");return _(n,a,n=>_var(n,h))}catch(n){throw improveErrorMessage(n,"variance")}}}),tv="variance",tx=factory_factory(tv,["typed","add","subtract","multiply","divide","mapSlices","isNaN"],n=>{var{typed:a,add:h,subtract:b,multiply:N,divide:w,mapSlices:_,isNaN:D}=n,E=ty({typed:a,add:h,subtract:b,multiply:N,divide:w,mapSlices:_,isNaN:D});return a(tv,{"...any":function(n){n=lastDimToZeroBase(n);try{return E.apply(null,n)}catch(n){throw errorTransform(n)}}})},{isTransformFunction:!0}),tb=factory_factory("std",["typed","map","sqrt","variance"],n=>{var{typed:a,map:h,sqrt:b,variance:N}=n;return a("std",{"Array | Matrix":_std,"Array | Matrix, string":_std,"Array | Matrix, number | BigNumber":_std,"Array | Matrix, number | BigNumber, string":_std,"...":function(n){return _std(n)}});function _std(n,a){if(0===n.length)throw SyntaxError("Function std requires one or more parameters (0 provided)");try{var w=N.apply(null,arguments);if(isCollection(w))return h(w,b);return b(w)}catch(n){if(n instanceof TypeError&&n.message.includes(" variance"))throw TypeError(n.message.replace(" variance"," std"));throw n}}}),tN=factory_factory("std",["typed","map","sqrt","variance"],n=>{var{typed:a,map:h,sqrt:b,variance:N}=n,w=tb({typed:a,map:h,sqrt:b,variance:N});return a("std",{"...any":function(n){n=lastDimToZeroBase(n);try{return w.apply(null,n)}catch(n){throw errorTransform(n)}}})},{isTransformFunction:!0}),tw="0123456789abcdef",t_="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",tD="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",tE={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},tA=!0,tC="[DecimalError] ",tS=tC+"Invalid argument: ",tM=tC+"Precision limit exceeded",tF=tC+"crypto unavailable",tT="[object Decimal]",tO=Math.floor,tB=Math.pow,tI=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,tk=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,tP=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,tz=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,tR=t_.length-1,tq=tD.length-1,tj={toStringTag:tT};function digitsToString(n){var a,h,b,N=n.length-1,w="",_=n[0];if(N>0){for(w+=_,a=1;a<N;a++)(h=7-(b=n[a]+"").length)&&(w+=getZeroString(h)),w+=b;(h=7-(b=(_=n[a])+"").length)&&(w+=getZeroString(h))}else if(0===_)return"0";for(;_%10==0;)_/=10;return w+_}function checkInt32(n,a,h){if(n!==~~n||n<a||n>h)throw Error(tS+n)}function checkRoundingDigits(n,a,h,b){var N,w,_,D;for(w=n[0];w>=10;w/=10)--a;return--a<0?(a+=7,N=0):(N=Math.ceil((a+1)/7),a%=7),w=tB(10,7-a),D=n[N]%w|0,null==b?a<3?(0==a?D=D/100|0:1==a&&(D=D/10|0),_=h<4&&99999==D||h>3&&49999==D||5e4==D||0==D):_=(h<4&&D+1==w||h>3&&D+1==w/2)&&(n[N+1]/w/100|0)==tB(10,a-2)-1||(D==w/2||0==D)&&(n[N+1]/w/100|0)==0:a<4?(0==a?D=D/1e3|0:1==a?D=D/100|0:2==a&&(D=D/10|0),_=(b||h<4)&&9999==D||!b&&h>3&&4999==D):_=((b||h<4)&&D+1==w||!b&&h>3&&D+1==w/2)&&(n[N+1]/w/1e3|0)==tB(10,a-3)-1,_}function convertBase(n,a,h){for(var b,N,w=[0],_=0,D=n.length;_<D;){for(N=w.length;N--;)w[N]*=a;for(w[0]+=tw.indexOf(n.charAt(_++)),b=0;b<w.length;b++)w[b]>h-1&&(void 0===w[b+1]&&(w[b+1]=0),w[b+1]+=w[b]/h|0,w[b]%=h)}return w.reverse()}tj.absoluteValue=tj.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),finalise(n)},tj.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)},tj.clampedTo=tj.clamp=function(n,a){var h=this.constructor;if(n=new h(n),a=new h(a),!n.s||!a.s)return new h(NaN);if(n.gt(a))throw Error(tS+a);return 0>this.cmp(n)?n:this.cmp(a)>0?a:new h(this)},tj.comparedTo=tj.cmp=function(n){var a,h,b,N,w=this.d,_=(n=new this.constructor(n)).d,D=this.s,E=n.s;if(!w||!_)return D&&E?D!==E?D:w===_?0:!w^D<0?1:-1:NaN;if(!w[0]||!_[0])return w[0]?D:_[0]?-E:0;if(D!==E)return D;if(this.e!==n.e)return this.e>n.e^D<0?1:-1;for(a=0,h=(b=w.length)<(N=_.length)?b:N;a<h;++a)if(w[a]!==_[a])return w[a]>_[a]^D<0?1:-1;return b===N?0:b>N^D<0?1:-1},tj.cosine=tj.cos=function(){var n,a,h=this,b=h.constructor;return h.d?h.d[0]?(n=b.precision,a=b.rounding,b.precision=n+Math.max(h.e,h.sd())+7,b.rounding=1,h=function(n,a){var h,b,N;if(a.isZero())return a;(b=a.d.length)<32?N=(1/tinyPow(4,h=Math.ceil(b/3))).toString():(h=16,N="2.3283064365386962890625e-10"),n.precision+=h,a=taylorSeries(n,1,a.times(N),new n(1));for(var w=h;w--;){var _=a.times(a);a=_.times(_).minus(_).times(8).plus(1)}return n.precision-=h,a}(b,toLessThanHalfPi(b,h)),b.precision=n,b.rounding=a,finalise(2==rW||3==rW?h.neg():h,n,a,!0)):new b(1):new b(NaN)},tj.cubeRoot=tj.cbrt=function(){var n,a,h,b,N,w,_,D,E,A,M=this.constructor;if(!this.isFinite()||this.isZero())return new M(this);for(tA=!1,(w=this.s*tB(this.s*this,1/3))&&Math.abs(w)!=1/0?b=new M(w.toString()):(h=digitsToString(this.d),(w=((n=this.e)-h.length+1)%3)&&(h+=1==w||-2==w?"0":"00"),w=tB(h,1/3),n=tO((n+1)/3)-(n%3==(n<0?-1:2)),h=w==1/0?"5e"+n:(h=w.toExponential()).slice(0,h.indexOf("e")+1)+n,(b=new M(h)).s=this.s),_=(n=M.precision)+3;;)if(b=tU((A=(E=(D=b).times(D).times(D)).plus(this)).plus(this).times(D),A.plus(E),_+2,1),digitsToString(D.d).slice(0,_)===(h=digitsToString(b.d)).slice(0,_)){if("9999"!=(h=h.slice(_-3,_+1))&&(N||"4999"!=h)){+h&&(+h.slice(1)||"5"!=h.charAt(0))||(finalise(b,n+1,1),a=!b.times(b).times(b).eq(this));break}if(!N&&(finalise(D,n+1,0),D.times(D).times(D).eq(this))){b=D;break}_+=4,N=1}return tA=!0,finalise(b,n,M.rounding,a)},tj.decimalPlaces=tj.dp=function(){var n,a=this.d,h=NaN;if(a){if(h=((n=a.length-1)-tO(this.e/7))*7,n=a[n])for(;n%10==0;n/=10)h--;h<0&&(h=0)}return h},tj.dividedBy=tj.div=function(n){return tU(this,new this.constructor(n))},tj.dividedToIntegerBy=tj.divToInt=function(n){var a=this.constructor;return finalise(tU(this,new a(n),0,1,1),a.precision,a.rounding)},tj.equals=tj.eq=function(n){return 0===this.cmp(n)},tj.floor=function(){return finalise(new this.constructor(this),this.e+1,3)},tj.greaterThan=tj.gt=function(n){return this.cmp(n)>0},tj.greaterThanOrEqualTo=tj.gte=function(n){var a=this.cmp(n);return 1==a||0===a},tj.hyperbolicCosine=tj.cosh=function(){var n,a,h,b,N,w=this,_=w.constructor,D=new _(1);if(!w.isFinite())return new _(w.s?1/0:NaN);if(w.isZero())return D;h=_.precision,b=_.rounding,_.precision=h+Math.max(w.e,w.sd())+4,_.rounding=1,(N=w.d.length)<32?a=(1/tinyPow(4,n=Math.ceil(N/3))).toString():(n=16,a="2.3283064365386962890625e-10"),w=taylorSeries(_,1,w.times(a),new _(1),!0);for(var E,A=n,M=new _(8);A--;)E=w.times(w),w=D.minus(E.times(M.minus(E.times(M))));return finalise(w,_.precision=h,_.rounding=b,!0)},tj.hyperbolicSine=tj.sinh=function(){var n,a,h,b,N=this,w=N.constructor;if(!N.isFinite()||N.isZero())return new w(N);if(a=w.precision,h=w.rounding,w.precision=a+Math.max(N.e,N.sd())+4,w.rounding=1,(b=N.d.length)<3)N=taylorSeries(w,2,N,N,!0);else{n=(n=1.4*Math.sqrt(b))>16?16:0|n,N=taylorSeries(w,2,N=N.times(1/tinyPow(5,n)),N,!0);for(var _,D=new w(5),E=new w(16),A=new w(20);n--;)_=N.times(N),N=N.times(D.plus(_.times(E.times(_).plus(A))))}return w.precision=a,w.rounding=h,finalise(N,a,h,!0)},tj.hyperbolicTangent=tj.tanh=function(){var n,a,h=this.constructor;return this.isFinite()?this.isZero()?new h(this):(n=h.precision,a=h.rounding,h.precision=n+7,h.rounding=1,tU(this.sinh(),this.cosh(),h.precision=n,h.rounding=a)):new h(this.s)},tj.inverseCosine=tj.acos=function(){var n=this,a=n.constructor,h=n.abs().cmp(1),b=a.precision,N=a.rounding;return -1!==h?0===h?n.isNeg()?getPi(a,b,N):new a(0):new a(NaN):n.isZero()?getPi(a,b+4,N).times(.5):(a.precision=b+6,a.rounding=1,n=new a(1).minus(n).div(n.plus(1)).sqrt().atan(),a.precision=b,a.rounding=N,n.times(2))},tj.inverseHyperbolicCosine=tj.acosh=function(){var n,a,h=this,b=h.constructor;return h.lte(1)?new b(h.eq(1)?0:NaN):h.isFinite()?(n=b.precision,a=b.rounding,b.precision=n+Math.max(Math.abs(h.e),h.sd())+4,b.rounding=1,tA=!1,h=h.times(h).minus(1).sqrt().plus(h),tA=!0,b.precision=n,b.rounding=a,h.ln()):new b(h)},tj.inverseHyperbolicSine=tj.asinh=function(){var n,a,h=this,b=h.constructor;return!h.isFinite()||h.isZero()?new b(h):(n=b.precision,a=b.rounding,b.precision=n+2*Math.max(Math.abs(h.e),h.sd())+6,b.rounding=1,tA=!1,h=h.times(h).plus(1).sqrt().plus(h),tA=!0,b.precision=n,b.rounding=a,h.ln())},tj.inverseHyperbolicTangent=tj.atanh=function(){var n,a,h,b,N=this,w=N.constructor;return N.isFinite()?N.e>=0?new w(N.abs().eq(1)?N.s/0:N.isZero()?N:NaN):(n=w.precision,a=w.rounding,Math.max(b=N.sd(),n)<-(2*N.e)-1)?finalise(new w(N),n,a,!0):(w.precision=h=b-N.e,N=tU(N.plus(1),new w(1).minus(N),h+n,1),w.precision=n+4,w.rounding=1,N=N.ln(),w.precision=n,w.rounding=a,N.times(.5)):new w(NaN)},tj.inverseSine=tj.asin=function(){var n,a,h,b,N=this,w=N.constructor;return N.isZero()?new w(N):(a=N.abs().cmp(1),h=w.precision,b=w.rounding,-1!==a)?0===a?((n=getPi(w,h+4,b).times(.5)).s=N.s,n):new w(NaN):(w.precision=h+6,w.rounding=1,N=N.div(new w(1).minus(N.times(N)).sqrt().plus(1)).atan(),w.precision=h,w.rounding=b,N.times(2))},tj.inverseTangent=tj.atan=function(){var n,a,h,b,N,w,_,D,E,A=this,M=A.constructor,B=M.precision,I=M.rounding;if(A.isFinite()){if(A.isZero())return new M(A);if(A.abs().eq(1)&&B+4<=tq)return(_=getPi(M,B+4,I).times(.25)).s=A.s,_}else{if(!A.s)return new M(NaN);if(B+4<=tq)return(_=getPi(M,B+4,I).times(.5)).s=A.s,_}for(M.precision=D=B+10,M.rounding=1,n=h=Math.min(28,D/7+2|0);n;--n)A=A.div(A.times(A).plus(1).sqrt().plus(1));for(tA=!1,a=Math.ceil(D/7),b=1,E=A.times(A),_=new M(A),N=A;-1!==n;)if(N=N.times(E),w=_.minus(N.div(b+=2)),N=N.times(E),void 0!==(_=w.plus(N.div(b+=2))).d[a])for(n=a;_.d[n]===w.d[n]&&n--;);return h&&(_=_.times(2<<h-1)),tA=!0,finalise(_,M.precision=B,M.rounding=I,!0)},tj.isFinite=function(){return!!this.d},tj.isInteger=tj.isInt=function(){return!!this.d&&tO(this.e/7)>this.d.length-2},tj.isNaN=function(){return!this.s},tj.isNegative=tj.isNeg=function(){return this.s<0},tj.isPositive=tj.isPos=function(){return this.s>0},tj.isZero=function(){return!!this.d&&0===this.d[0]},tj.lessThan=tj.lt=function(n){return 0>this.cmp(n)},tj.lessThanOrEqualTo=tj.lte=function(n){return 1>this.cmp(n)},tj.logarithm=tj.log=function(n){var a,h,b,N,w,_,D,E=this.constructor,A=E.precision,M=E.rounding;if(null==n)n=new E(10),a=!0;else{if(h=(n=new E(n)).d,n.s<0||!h||!h[0]||n.eq(1))return new E(NaN);a=n.eq(10)}if(h=this.d,this.s<0||!h||!h[0]||this.eq(1))return new E(h&&!h[0]?-1/0:1!=this.s?NaN:h?0:1/0);if(a){if(h.length>1)N=!0;else{for(b=h[0];b%10==0;)b/=10;N=1!==b}}if(tA=!1,checkRoundingDigits((D=tU(naturalLogarithm(this,_=A+5),a?getLn10(E,_+10):naturalLogarithm(n,_),_,1)).d,b=A,M))do if(_+=10,D=tU(naturalLogarithm(this,_),a?getLn10(E,_+10):naturalLogarithm(n,_),_,1),!N){+digitsToString(D.d).slice(b+1,b+15)+1==1e14&&(D=finalise(D,A+1,0));break}while(checkRoundingDigits(D.d,b+=10,M));return tA=!0,finalise(D,A,M)},tj.minus=tj.sub=function(n){var a,h,b,N,w,_,D,E,A,M,B,I,z=this.constructor;if(n=new z(n),!this.d||!n.d)return this.s&&n.s?this.d?n.s=-n.s:n=new z(n.d||this.s!==n.s?this:NaN):n=new z(NaN),n;if(this.s!=n.s)return n.s=-n.s,this.plus(n);if(A=this.d,I=n.d,D=z.precision,E=z.rounding,!A[0]||!I[0]){if(I[0])n.s=-n.s;else{if(!A[0])return new z(3===E?-0:0);n=new z(this)}return tA?finalise(n,D,E):n}if(h=tO(n.e/7),M=tO(this.e/7),A=A.slice(),w=M-h){for((B=w<0)?(a=A,w=-w,_=I.length):(a=I,h=M,_=A.length),w>(b=Math.max(Math.ceil(D/7),_)+2)&&(w=b,a.length=1),a.reverse(),b=w;b--;)a.push(0);a.reverse()}else{for((B=(b=A.length)<(_=I.length))&&(_=b),b=0;b<_;b++)if(A[b]!=I[b]){B=A[b]<I[b];break}w=0}for(B&&(a=A,A=I,I=a,n.s=-n.s),_=A.length,b=I.length-_;b>0;--b)A[_++]=0;for(b=I.length;b>w;){if(A[--b]<I[b]){for(N=b;N&&0===A[--N];)A[N]=1e7-1;--A[N],A[b]+=1e7}A[b]-=I[b]}for(;0===A[--_];)A.pop();for(;0===A[0];A.shift())--h;return A[0]?(n.d=A,n.e=getBase10Exponent(A,h),tA?finalise(n,D,E):n):new z(3===E?-0:0)},tj.modulo=tj.mod=function(n){var a,h=this.constructor;return(n=new h(n),this.d&&n.s&&(!n.d||n.d[0]))?n.d&&(!this.d||this.d[0])?(tA=!1,9==h.modulo?(a=tU(this,n.abs(),0,3,1),a.s*=n.s):a=tU(this,n,0,h.modulo,1),a=a.times(n),tA=!0,this.minus(a)):finalise(new h(this),h.precision,h.rounding):new h(NaN)},tj.naturalExponential=tj.exp=function(){return naturalExponential(this)},tj.naturalLogarithm=tj.ln=function(){return naturalLogarithm(this)},tj.negated=tj.neg=function(){var n=new this.constructor(this);return n.s=-n.s,finalise(n)},tj.plus=tj.add=function(n){var a,h,b,N,w,_,D,E,A,M,B=this.constructor;if(n=new B(n),!this.d||!n.d)return this.s&&n.s?this.d||(n=new B(n.d||this.s===n.s?this:NaN)):n=new B(NaN),n;if(this.s!=n.s)return n.s=-n.s,this.minus(n);if(A=this.d,M=n.d,D=B.precision,E=B.rounding,!A[0]||!M[0])return M[0]||(n=new B(this)),tA?finalise(n,D,E):n;if(w=tO(this.e/7),b=tO(n.e/7),A=A.slice(),N=w-b){for(N<0?(h=A,N=-N,_=M.length):(h=M,b=w,_=A.length),N>(_=(w=Math.ceil(D/7))>_?w+1:_+1)&&(N=_,h.length=1),h.reverse();N--;)h.push(0);h.reverse()}for((_=A.length)-(N=M.length)<0&&(N=_,h=M,M=A,A=h),a=0;N;)a=(A[--N]=A[N]+M[N]+a)/1e7|0,A[N]%=1e7;for(a&&(A.unshift(a),++b),_=A.length;0==A[--_];)A.pop();return n.d=A,n.e=getBase10Exponent(A,b),tA?finalise(n,D,E):n},tj.precision=tj.sd=function(n){var a;if(void 0!==n&&!!n!==n&&1!==n&&0!==n)throw Error(tS+n);return this.d?(a=getPrecision(this.d),n&&this.e+1>a&&(a=this.e+1)):a=NaN,a},tj.round=function(){var n=this.constructor;return finalise(new n(this),this.e+1,n.rounding)},tj.sine=tj.sin=function(){var n,a,h=this,b=h.constructor;return h.isFinite()?h.isZero()?new b(h):(n=b.precision,a=b.rounding,b.precision=n+Math.max(h.e,h.sd())+7,b.rounding=1,h=function(n,a){var h,b=a.d.length;if(b<3)return a.isZero()?a:taylorSeries(n,2,a,a);h=(h=1.4*Math.sqrt(b))>16?16:0|h,a=taylorSeries(n,2,a=a.times(1/tinyPow(5,h)),a);for(var N,w=new n(5),_=new n(16),D=new n(20);h--;)N=a.times(a),a=a.times(w.plus(N.times(_.times(N).minus(D))));return a}(b,toLessThanHalfPi(b,h)),b.precision=n,b.rounding=a,finalise(rW>2?h.neg():h,n,a,!0)):new b(NaN)},tj.squareRoot=tj.sqrt=function(){var n,a,h,b,N,w,_=this.d,D=this.e,E=this.s,A=this.constructor;if(1!==E||!_||!_[0])return new A(!E||E<0&&(!_||_[0])?NaN:_?this:1/0);for(tA=!1,0==(E=Math.sqrt(+this))||E==1/0?(((a=digitsToString(_)).length+D)%2==0&&(a+="0"),E=Math.sqrt(a),D=tO((D+1)/2)-(D<0||D%2),a=E==1/0?"5e"+D:(a=E.toExponential()).slice(0,a.indexOf("e")+1)+D,b=new A(a)):b=new A(E.toString()),h=(D=A.precision)+3;;)if(b=(w=b).plus(tU(this,w,h+2,1)).times(.5),digitsToString(w.d).slice(0,h)===(a=digitsToString(b.d)).slice(0,h)){if("9999"!=(a=a.slice(h-3,h+1))&&(N||"4999"!=a)){+a&&(+a.slice(1)||"5"!=a.charAt(0))||(finalise(b,D+1,1),n=!b.times(b).eq(this));break}if(!N&&(finalise(w,D+1,0),w.times(w).eq(this))){b=w;break}h+=4,N=1}return tA=!0,finalise(b,D,A.rounding,n)},tj.tangent=tj.tan=function(){var n,a,h=this,b=h.constructor;return h.isFinite()?h.isZero()?new b(h):(n=b.precision,a=b.rounding,b.precision=n+10,b.rounding=1,(h=h.sin()).s=1,h=tU(h,new b(1).minus(h.times(h)).sqrt(),n+10,0),b.precision=n,b.rounding=a,finalise(2==rW||4==rW?h.neg():h,n,a,!0)):new b(NaN)},tj.times=tj.mul=function(n){var a,h,b,N,w,_,D,E,A,M=this.constructor,B=this.d,I=(n=new M(n)).d;if(n.s*=this.s,!B||!B[0]||!I||!I[0])return new M(n.s&&(!B||B[0]||I)&&(!I||I[0]||B)?B&&I?0*n.s:n.s/0:NaN);for(h=tO(this.e/7)+tO(n.e/7),(E=B.length)<(A=I.length)&&(w=B,B=I,I=w,_=E,E=A,A=_),w=[],b=_=E+A;b--;)w.push(0);for(b=A;--b>=0;){for(a=0,N=E+b;N>b;)D=w[N]+I[b]*B[N-b-1]+a,w[N--]=D%1e7|0,a=D/1e7|0;w[N]=(w[N]+a)%1e7|0}for(;!w[--_];)w.pop();return a?++h:w.shift(),n.d=w,n.e=getBase10Exponent(w,h),tA?finalise(n,M.precision,M.rounding):n},tj.toBinary=function(n,a){return toStringBinary(this,2,n,a)},tj.toDecimalPlaces=tj.toDP=function(n,a){var h=this,b=h.constructor;return(h=new b(h),void 0===n)?h:(checkInt32(n,0,1e9),void 0===a?a=b.rounding:checkInt32(a,0,8),finalise(h,n+h.e+1,a))},tj.toExponential=function(n,a){var h,b=this,N=b.constructor;return void 0===n?h=finiteToString(b,!0):(checkInt32(n,0,1e9),void 0===a?a=N.rounding:checkInt32(a,0,8),h=finiteToString(b=finalise(new N(b),n+1,a),!0,n+1)),b.isNeg()&&!b.isZero()?"-"+h:h},tj.toFixed=function(n,a){var h,b,N=this.constructor;return void 0===n?h=finiteToString(this):(checkInt32(n,0,1e9),void 0===a?a=N.rounding:checkInt32(a,0,8),h=finiteToString(b=finalise(new N(this),n+this.e+1,a),!1,n+b.e+1)),this.isNeg()&&!this.isZero()?"-"+h:h},tj.toFraction=function(n){var a,h,b,N,w,_,D,E,A,M,B,I,z=this.d,q=this.constructor;if(!z)return new q(this);if(A=h=new q(1),b=E=new q(0),_=(w=(a=new q(b)).e=getPrecision(z)-this.e-1)%7,a.d[0]=tB(10,_<0?7+_:_),null==n)n=w>0?a:A;else{if(!(D=new q(n)).isInt()||D.lt(A))throw Error(tS+D);n=D.gt(a)?w>0?a:A:D}for(tA=!1,D=new q(digitsToString(z)),M=q.precision,q.precision=w=14*z.length;B=tU(D,a,0,1,1),1!=(N=h.plus(B.times(b))).cmp(n);)h=b,b=N,N=A,A=E.plus(B.times(N)),E=N,N=a,a=D.minus(B.times(N)),D=N;return N=tU(n.minus(h),b,0,1,1),E=E.plus(N.times(A)),h=h.plus(N.times(b)),E.s=A.s=this.s,I=1>tU(A,b,w,1).minus(this).abs().cmp(tU(E,h,w,1).minus(this).abs())?[A,b]:[E,h],q.precision=M,tA=!0,I},tj.toHexadecimal=tj.toHex=function(n,a){return toStringBinary(this,16,n,a)},tj.toNearest=function(n,a){var h=this,b=h.constructor;if(h=new b(h),null==n){if(!h.d)return h;n=new b(1),a=b.rounding}else{if(n=new b(n),void 0===a?a=b.rounding:checkInt32(a,0,8),!h.d)return n.s?h:n;if(!n.d)return n.s&&(n.s=h.s),n}return n.d[0]?(tA=!1,h=tU(h,n,0,a,1).times(n),tA=!0,finalise(h)):(n.s=h.s,h=n),h},tj.toNumber=function(){return+this},tj.toOctal=function(n,a){return toStringBinary(this,8,n,a)},tj.toPower=tj.pow=function(n){var a,h,b,N,w,_,D=this,E=D.constructor,A=+(n=new E(n));if(!D.d||!n.d||!D.d[0]||!n.d[0])return new E(tB(+D,A));if((D=new E(D)).eq(1))return D;if(b=E.precision,w=E.rounding,n.eq(1))return finalise(D,b,w);if((a=tO(n.e/7))>=n.d.length-1&&(h=A<0?-A:A)<=9007199254740991)return N=intPow(E,D,h,b),n.s<0?new E(1).div(N):finalise(N,b,w);if((_=D.s)<0){if(a<n.d.length-1)return new E(NaN);if((1&n.d[a])==0&&(_=1),0==D.e&&1==D.d[0]&&1==D.d.length)return D.s=_,D}return(a=0!=(h=tB(+D,A))&&isFinite(h)?new E(h+"").e:tO(A*(Math.log("0."+digitsToString(D.d))/Math.LN10+D.e+1)))>E.maxE+1||a<E.minE-1?new E(a>0?_/0:0):(tA=!1,E.rounding=D.s=1,h=Math.min(12,(a+"").length),(N=naturalExponential(n.times(naturalLogarithm(D,b+h)),b)).d&&checkRoundingDigits((N=finalise(N,b+5,1)).d,b,w)&&(a=b+10,+digitsToString((N=finalise(naturalExponential(n.times(naturalLogarithm(D,a+h)),a),a+5,1)).d).slice(b+1,b+15)+1==1e14&&(N=finalise(N,b+1,0))),N.s=_,tA=!0,E.rounding=w,finalise(N,b,w))},tj.toPrecision=function(n,a){var h,b=this,N=b.constructor;return void 0===n?h=finiteToString(b,b.e<=N.toExpNeg||b.e>=N.toExpPos):(checkInt32(n,1,1e9),void 0===a?a=N.rounding:checkInt32(a,0,8),h=finiteToString(b=finalise(new N(b),n,a),n<=b.e||b.e<=N.toExpNeg,n)),b.isNeg()&&!b.isZero()?"-"+h:h},tj.toSignificantDigits=tj.toSD=function(n,a){var h=this.constructor;return void 0===n?(n=h.precision,a=h.rounding):(checkInt32(n,1,1e9),void 0===a?a=h.rounding:checkInt32(a,0,8)),finalise(new h(this),n,a)},tj.toString=function(){var n=this.constructor,a=finiteToString(this,this.e<=n.toExpNeg||this.e>=n.toExpPos);return this.isNeg()&&!this.isZero()?"-"+a:a},tj.truncated=tj.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)},tj.valueOf=tj.toJSON=function(){var n=this.constructor,a=finiteToString(this,this.e<=n.toExpNeg||this.e>=n.toExpPos);return this.isNeg()?"-"+a:a};var tU=function(){function multiplyInteger(n,a,h){var b,N=0,w=n.length;for(n=n.slice();w--;)b=n[w]*a+N,n[w]=b%h|0,N=b/h|0;return N&&n.unshift(N),n}function compare(n,a,h,b){var N,w;if(h!=b)w=h>b?1:-1;else for(N=w=0;N<h;N++)if(n[N]!=a[N]){w=n[N]>a[N]?1:-1;break}return w}function subtract(n,a,h,b){for(var N=0;h--;)n[h]-=N,N=n[h]<a[h]?1:0,n[h]=N*b+n[h]-a[h];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,h,b,N,w){var _,D,E,A,M,B,I,z,q,j,L,H,$,V,G,Z,W,Y,X,J,Q=n.constructor,K=n.s==a.s?1:-1,ee=n.d,er=a.d;if(!ee||!ee[0]||!er||!er[0])return new Q(n.s&&a.s&&(ee?!er||ee[0]!=er[0]:er)?ee&&0==ee[0]||!er?0*K:K/0:NaN);for(w?(M=1,D=n.e-a.e):(w=1e7,M=7,D=tO(n.e/M)-tO(a.e/M)),X=er.length,W=ee.length,j=(q=new Q(K)).d=[],E=0;er[E]==(ee[E]||0);E++);if(er[E]>(ee[E]||0)&&D--,null==h?(V=h=Q.precision,b=Q.rounding):V=N?h+(n.e-a.e)+1:h,V<0)j.push(1),B=!0;else{if(V=V/M+2|0,E=0,1==X){for(A=0,er=er[0],V++;(E<W||A)&&V--;E++)G=A*w+(ee[E]||0),j[E]=G/er|0,A=G%er|0;B=A||E<W}else{for((A=w/(er[0]+1)|0)>1&&(er=multiplyInteger(er,A,w),ee=multiplyInteger(ee,A,w),X=er.length,W=ee.length),Z=X,H=(L=ee.slice(0,X)).length;H<X;)L[H++]=0;(J=er.slice()).unshift(0),Y=er[0],er[1]>=w/2&&++Y;do A=0,(_=compare(er,L,X,H))<0?($=L[0],X!=H&&($=$*w+(L[1]||0)),(A=$/Y|0)>1?(A>=w&&(A=w-1),z=(I=multiplyInteger(er,A,w)).length,H=L.length,1==(_=compare(I,L,z,H))&&(A--,subtract(I,X<z?J:er,z,w))):(0==A&&(_=A=1),I=er.slice()),(z=I.length)<H&&I.unshift(0),subtract(L,I,H,w),-1==_&&(H=L.length,(_=compare(er,L,X,H))<1&&(A++,subtract(L,X<H?J:er,H,w))),H=L.length):0===_&&(A++,L=[0]),j[E++]=A,_&&L[0]?L[H++]=ee[Z]||0:(L=[ee[Z]],H=1);while((Z++<W||void 0!==L[0])&&V--);B=void 0!==L[0]}j[0]||j.shift()}if(1==M)q.e=D,rZ=B;else{for(E=1,A=j[0];A>=10;A/=10)E++;q.e=E+D*M-1,finalise(q,N?h+q.e+1:h,b,B)}return q}}();function finalise(n,a,h,b){var N,w,_,D,E,A,M,B,I,z=n.constructor;e:if(null!=a){if(!(B=n.d))return n;for(N=1,D=B[0];D>=10;D/=10)N++;if((w=a-N)<0)w+=7,_=a,E=(M=B[I=0])/tB(10,N-_-1)%10|0;else if((I=Math.ceil((w+1)/7))>=(D=B.length)){if(b){for(;D++<=I;)B.push(0);M=E=0,N=1,w%=7,_=w-7+1}else break e}else{for(N=1,M=D=B[I];D>=10;D/=10)N++;w%=7,E=(_=w-7+N)<0?0:M/tB(10,N-_-1)%10|0}if(b=b||a<0||void 0!==B[I+1]||(_<0?M:M%tB(10,N-_-1)),A=h<4?(E||b)&&(0==h||h==(n.s<0?3:2)):E>5||5==E&&(4==h||b||6==h&&(w>0?_>0?M/tB(10,N-_):0:B[I-1])%10&1||h==(n.s<0?8:7)),a<1||!B[0])return B.length=0,A?(a-=n.e+1,B[0]=tB(10,(7-a%7)%7),n.e=-a||0):B[0]=n.e=0,n;if(0==w?(B.length=I,D=1,I--):(B.length=I+1,D=tB(10,7-w),B[I]=_>0?(M/tB(10,N-_)%tB(10,_)|0)*D:0),A)for(;;){if(0==I){for(w=1,_=B[0];_>=10;_/=10)w++;for(_=B[0]+=D,D=1;_>=10;_/=10)D++;w!=D&&(n.e++,1e7==B[0]&&(B[0]=1));break}if(B[I]+=D,1e7!=B[I])break;B[I--]=0,D=1}for(w=B.length;0===B[--w];)B.pop()}return tA&&(n.e>z.maxE?(n.d=null,n.e=NaN):n.e<z.minE&&(n.e=0,n.d=[0])),n}function finiteToString(n,a,h){if(!n.isFinite())return nonFiniteToString(n);var b,N=n.e,w=digitsToString(n.d),_=w.length;return a?(h&&(b=h-_)>0?w=w.charAt(0)+"."+w.slice(1)+getZeroString(b):_>1&&(w=w.charAt(0)+"."+w.slice(1)),w=w+(n.e<0?"e":"e+")+n.e):N<0?(w="0."+getZeroString(-N-1)+w,h&&(b=h-_)>0&&(w+=getZeroString(b))):N>=_?(w+=getZeroString(N+1-_),h&&(b=h-N-1)>0&&(w=w+"."+getZeroString(b))):((b=N+1)<_&&(w=w.slice(0,b)+"."+w.slice(b)),h&&(b=h-_)>0&&(N+1===_&&(w+="."),w+=getZeroString(b))),w}function getBase10Exponent(n,a){var h=n[0];for(a*=7;h>=10;h/=10)a++;return a}function getLn10(n,a,h){if(a>tR)throw tA=!0,h&&(n.precision=h),Error(tM);return finalise(new n(t_),a,1,!0)}function getPi(n,a,h){if(a>tq)throw Error(tM);return finalise(new n(tD),a,h,!0)}function getPrecision(n){var a=n.length-1,h=7*a+1;if(a=n[a]){for(;a%10==0;a/=10)h--;for(a=n[0];a>=10;a/=10)h++}return h}function getZeroString(n){for(var a="";n--;)a+="0";return a}function intPow(n,a,h,b){var N,w=new n(1),_=Math.ceil(b/7+4);for(tA=!1;;){if(h%2&&truncate((w=w.times(a)).d,_)&&(N=!0),0===(h=tO(h/2))){h=w.d.length-1,N&&0===w.d[h]&&++w.d[h];break}truncate((a=a.times(a)).d,_)}return tA=!0,w}function isOdd(n){return 1&n.d[n.d.length-1]}function maxOrMin(n,a,h){for(var b,N,w=new n(a[0]),_=0;++_<a.length;){if(!(N=new n(a[_])).s){w=N;break}((b=w.cmp(N))===h||0===b&&w.s===h)&&(w=N)}return w}function naturalExponential(n,a){var h,b,N,w,_,D,E,A=0,M=0,B=0,I=n.constructor,z=I.rounding,q=I.precision;if(!n.d||!n.d[0]||n.e>17)return new I(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:0/0);for(null==a?(tA=!1,E=q):E=a,D=new I(.03125);n.e>-2;)n=n.times(D),B+=5;for(E+=b=Math.log(tB(2,B))/Math.LN10*2+5|0,h=w=_=new I(1),I.precision=E;;){if(w=finalise(w.times(n),E,1),h=h.times(++M),digitsToString((D=_.plus(tU(w,h,E,1))).d).slice(0,E)===digitsToString(_.d).slice(0,E)){for(N=B;N--;)_=finalise(_.times(_),E,1);if(null!=a)return I.precision=q,_;if(!(A<3&&checkRoundingDigits(_.d,E-b,z,A)))return finalise(_,I.precision=q,z,tA=!0);I.precision=E+=10,h=w=D=new I(1),M=0,A++}_=D}}function naturalLogarithm(n,a){var h,b,N,w,_,D,E,A,M,B,I,z=1,q=n,j=q.d,L=q.constructor,H=L.rounding,$=L.precision;if(q.s<0||!j||!j[0]||!q.e&&1==j[0]&&1==j.length)return new L(j&&!j[0]?-1/0:1!=q.s?NaN:j?0:q);if(null==a?(tA=!1,M=$):M=a,L.precision=M+=10,b=(h=digitsToString(j)).charAt(0),!(15e14>Math.abs(w=q.e)))return A=getLn10(L,M+2,$).times(w+""),q=naturalLogarithm(new L(b+"."+h.slice(1)),M-10).plus(A),L.precision=$,null==a?finalise(q,$,H,tA=!0):q;for(;b<7&&1!=b||1==b&&h.charAt(1)>3;)b=(h=digitsToString((q=q.times(n)).d)).charAt(0),z++;for(w=q.e,b>1?(q=new L("0."+h),w++):q=new L(b+"."+h.slice(1)),B=q,E=_=q=tU(q.minus(1),q.plus(1),M,1),I=finalise(q.times(q),M,1),N=3;;){if(_=finalise(_.times(I),M,1),digitsToString((A=E.plus(tU(_,new L(N),M,1))).d).slice(0,M)===digitsToString(E.d).slice(0,M)){if(E=E.times(2),0!==w&&(E=E.plus(getLn10(L,M+2,$).times(w+""))),E=tU(E,new L(z),M,1),null!=a)return L.precision=$,E;if(!checkRoundingDigits(E.d,M-10,H,D))return finalise(E,L.precision=$,H,tA=!0);L.precision=M+=10,A=_=q=tU(B.minus(1),B.plus(1),M,1),I=finalise(q.times(q),M,1),N=D=1}E=A,N+=2}}function nonFiniteToString(n){return String(n.s*n.s/0)}function parseDecimal(n,a){var h,b,N;for((h=a.indexOf("."))>-1&&(a=a.replace(".","")),(b=a.search(/e/i))>0?(h<0&&(h=b),h+=+a.slice(b+1),a=a.substring(0,b)):h<0&&(h=a.length),b=0;48===a.charCodeAt(b);b++);for(N=a.length;48===a.charCodeAt(N-1);--N);if(a=a.slice(b,N)){if(N-=b,n.e=h=h-b-1,n.d=[],b=(h+1)%7,h<0&&(b+=7),b<N){for(b&&n.d.push(+a.slice(0,b)),N-=7;b<N;)n.d.push(+a.slice(b,b+=7));b=7-(a=a.slice(b)).length}else b-=N;for(;b--;)a+="0";n.d.push(+a),tA&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function taylorSeries(n,a,h,b,N){var w,_,D,E,A=n.precision,M=Math.ceil(A/7);for(tA=!1,E=h.times(h),D=new n(b);;){if(_=tU(D.times(E),new n(a++*a++),A,1),D=N?b.plus(_):b.minus(_),b=tU(_.times(E),new n(a++*a++),A,1),void 0!==(_=D.plus(b)).d[M]){for(w=M;_.d[w]===D.d[w]&&w--;);if(-1==w)break}w=D,D=b,b=_,_=w}return tA=!0,_.d.length=M+1,_}function tinyPow(n,a){for(var h=n;--a;)h*=n;return h}function toLessThanHalfPi(n,a){var h,b=a.s<0,N=getPi(n,n.precision,1),w=N.times(.5);if((a=a.abs()).lte(w))return rW=b?4:1,a;if((h=a.divToInt(N)).isZero())rW=b?3:2;else{if((a=a.minus(h.times(N))).lte(w))return rW=isOdd(h)?b?2:3:b?4:1,a;rW=isOdd(h)?b?1:4:b?3:2}return a.minus(N).abs()}function toStringBinary(n,a,h,b){var N,w,_,D,E,A,M,B,I,z=n.constructor,q=void 0!==h;if(q?(checkInt32(h,1,1e9),void 0===b?b=z.rounding:checkInt32(b,0,8)):(h=z.precision,b=z.rounding),n.isFinite()){for(_=(M=finiteToString(n)).indexOf("."),q?(N=2,16==a?h=4*h-3:8==a&&(h=3*h-2)):N=a,_>=0&&(M=M.replace(".",""),(I=new z(1)).e=M.length-_,I.d=convertBase(finiteToString(I),10,N),I.e=I.d.length),w=E=(B=convertBase(M,10,N)).length;0==B[--E];)B.pop();if(B[0]){if(_<0?w--:((n=new z(n)).d=B,n.e=w,B=(n=tU(n,I,h,b,0,N)).d,w=n.e,A=rZ),_=B[h],D=N/2,A=A||void 0!==B[h+1],A=b<4?(void 0!==_||A)&&(0===b||b===(n.s<0?3:2)):_>D||_===D&&(4===b||A||6===b&&1&B[h-1]||b===(n.s<0?8:7)),B.length=h,A)for(;++B[--h]>N-1;)B[h]=0,h||(++w,B.unshift(1));for(E=B.length;!B[E-1];--E);for(_=0,M="";_<E;_++)M+=tw.charAt(B[_]);if(q){if(E>1){if(16==a||8==a){for(_=16==a?4:3,--E;E%_;E++)M+="0";for(E=(B=convertBase(M,N,a)).length;!B[E-1];--E);for(_=1,M="1.";_<E;_++)M+=tw.charAt(B[_])}else M=M.charAt(0)+"."+M.slice(1)}M=M+(w<0?"p":"p+")+w}else if(w<0){for(;++w;)M="0"+M;M="0."+M}else if(++w>E)for(w-=E;w--;)M+="0";else w<E&&(M=M.slice(0,w)+"."+M.slice(w))}else M=q?"0p+0":"0";M=(16==a?"0x":2==a?"0b":8==a?"0o":"")+M}else M=nonFiniteToString(n);return n.s<0?"-"+M:M}function truncate(n,a){if(n.length>a)return n.length=a,!0}function abs(n){return new this(n).abs()}function acos(n){return new this(n).acos()}function decimal_acosh(n){return new this(n).acosh()}function add(n,a){return new this(n).plus(a)}function asin(n){return new this(n).asin()}function decimal_asinh(n){return new this(n).asinh()}function atan(n){return new this(n).atan()}function decimal_atanh(n){return new this(n).atanh()}function atan2(n,a){n=new this(n),a=new this(a);var h,b=this.precision,N=this.rounding,w=b+4;return n.s&&a.s?n.d||a.d?!a.d||n.isZero()?(h=a.s<0?getPi(this,b,N):new this(0)).s=n.s:!n.d||a.isZero()?(h=getPi(this,w,1).times(.5)).s=n.s:a.s<0?(this.precision=w,this.rounding=1,h=this.atan(tU(n,a,w,1)),a=getPi(this,w,1),this.precision=b,this.rounding=N,h=n.s<0?h.minus(a):h.plus(a)):h=this.atan(tU(n,a,w,1)):(h=getPi(this,w,1).times(a.s>0?.25:.75)).s=n.s:h=new this(NaN),h}function decimal_cbrt(n){return new this(n).cbrt()}function ceil(n){return finalise(n=new this(n),n.e+1,2)}function clamp(n,a,h){return new this(n).clamp(a,h)}function decimal_config(n){if(!n||"object"!=typeof n)throw Error(tC+"Object expected");var a,h,b,N=!0===n.defaults,w=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(a=0;a<w.length;a+=3)if(h=w[a],N&&(this[h]=tE[h]),void 0!==(b=n[h])){if(tO(b)===b&&b>=w[a+1]&&b<=w[a+2])this[h]=b;else throw Error(tS+h+": "+b)}if(h="crypto",N&&(this[h]=tE[h]),void 0!==(b=n[h])){if(!0===b||!1===b||0===b||1===b){if(b){if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[h]=!0;else throw Error(tF)}else this[h]=!1}else throw Error(tS+h+": "+b)}return this}function cos(n){return new this(n).cos()}function decimal_cosh(n){return new this(n).cosh()}function div(n,a){return new this(n).div(a)}function exp(n){return new this(n).exp()}function floor(n){return finalise(n=new this(n),n.e+1,3)}function hypot(){var n,a,h=new this(0);for(n=0,tA=!1;n<arguments.length;)if(a=new this(arguments[n++]),a.d)h.d&&(h=h.plus(a.times(a)));else{if(a.s)return tA=!0,new this(1/0);h=a}return tA=!0,h.sqrt()}function isDecimalInstance(n){return n instanceof tL||n&&n.toStringTag===tT||!1}function ln(n){return new this(n).ln()}function log(n,a){return new this(n).log(a)}function decimal_log2(n){return new this(n).log(2)}function decimal_log10(n){return new this(n).log(10)}function max(){return maxOrMin(this,arguments,-1)}function min(){return maxOrMin(this,arguments,1)}function mod(n,a){return new this(n).mod(a)}function mul(n,a){return new this(n).mul(a)}function pow(n,a){return new this(n).pow(a)}function random(n){var a,h,b,N,w=0,_=new this(1),D=[];if(void 0===n?n=this.precision:checkInt32(n,1,1e9),b=Math.ceil(n/7),this.crypto){if(crypto.getRandomValues)for(a=crypto.getRandomValues(new Uint32Array(b));w<b;)(N=a[w])>=429e7?a[w]=crypto.getRandomValues(new Uint32Array(1))[0]:D[w++]=N%1e7;else if(crypto.randomBytes){for(a=crypto.randomBytes(b*=4);w<b;)(N=a[w]+(a[w+1]<<8)+(a[w+2]<<16)+((127&a[w+3])<<24))>=214e7?crypto.randomBytes(4).copy(a,w):(D.push(N%1e7),w+=4);w=b/4}else throw Error(tF)}else for(;w<b;)D[w++]=1e7*Math.random()|0;for(b=D[--w],n%=7,b&&n&&(N=tB(10,7-n),D[w]=(b/N|0)*N);0===D[w];w--)D.pop();if(w<0)h=0,D=[0];else{for(h=-1;0===D[0];h-=7)D.shift();for(b=1,N=D[0];N>=10;N/=10)b++;b<7&&(h-=7-b)}return _.e=h,_.d=D,_}function round(n){return finalise(n=new this(n),n.e+1,this.rounding)}function decimal_sign(n){return(n=new this(n)).d?n.d[0]?n.s:0*n.s:n.s||NaN}function sin(n){return new this(n).sin()}function decimal_sinh(n){return new this(n).sinh()}function sqrt(n){return new this(n).sqrt()}function sub(n,a){return new this(n).sub(a)}function sum(){var n=0,a=arguments,h=new this(a[n]);for(tA=!1;h.s&&++n<a.length;)h=h.plus(a[n]);return tA=!0,finalise(h,this.precision,this.rounding)}function tan(n){return new this(n).tan()}function decimal_tanh(n){return new this(n).tanh()}function trunc(n){return finalise(n=new this(n),n.e+1,1)}tj[Symbol.for("nodejs.util.inspect.custom")]=tj.toString,tj[Symbol.toStringTag]="Decimal";var tL=tj.constructor=function decimal_clone(n){var a,h,b;function Decimal(n){var a,h,b;if(!(this instanceof Decimal))return new Decimal(n);if(this.constructor=Decimal,isDecimalInstance(n)){this.s=n.s,tA?!n.d||n.e>Decimal.maxE?(this.e=NaN,this.d=null):n.e<Decimal.minE?(this.e=0,this.d=[0]):(this.e=n.e,this.d=n.d.slice()):(this.e=n.e,this.d=n.d?n.d.slice():n.d);return}if("number"==(b=typeof n)){if(0===n){this.s=1/n<0?-1:1,this.e=0,this.d=[0];return}if(n<0?(n=-n,this.s=-1):this.s=1,n===~~n&&n<1e7){for(a=0,h=n;h>=10;h/=10)a++;tA?a>Decimal.maxE?(this.e=NaN,this.d=null):a<Decimal.minE?(this.e=0,this.d=[0]):(this.e=a,this.d=[n]):(this.e=a,this.d=[n]);return}if(0*n!=0){n||(this.s=NaN),this.e=NaN,this.d=null;return}return parseDecimal(this,n.toString())}if("string"===b)return 45===(h=n.charCodeAt(0))?(n=n.slice(1),this.s=-1):(43===h&&(n=n.slice(1)),this.s=1),tz.test(n)?parseDecimal(this,n):function(n,a){var h,b,N,w,_,D,E,A,M;if(a.indexOf("_")>-1){if(a=a.replace(/(\d)_(?=\d)/g,"$1"),tz.test(a))return parseDecimal(n,a)}else if("Infinity"===a||"NaN"===a)return+a||(n.s=NaN),n.e=NaN,n.d=null,n;if(tk.test(a))h=16,a=a.toLowerCase();else if(tI.test(a))h=2;else if(tP.test(a))h=8;else throw Error(tS+a);for((w=a.search(/p/i))>0?(E=+a.slice(w+1),a=a.substring(2,w)):a=a.slice(2),_=(w=a.indexOf("."))>=0,b=n.constructor,_&&(w=(D=(a=a.replace(".","")).length)-w,N=intPow(b,new b(h),w,2*w)),w=M=(A=convertBase(a,h,1e7)).length-1;0===A[w];--w)A.pop();return w<0?new b(0*n.s):(n.e=getBase10Exponent(A,M),n.d=A,tA=!1,_&&(n=tU(n,N,4*D)),E&&(n=n.times(54>Math.abs(E)?tB(2,E):tL.pow(2,E))),tA=!0,n)}(this,n);if("bigint"===b)return n<0?(n=-n,this.s=-1):this.s=1,parseDecimal(this,n.toString());throw Error(tS+n)}if(Decimal.prototype=tj,Decimal.ROUND_UP=0,Decimal.ROUND_DOWN=1,Decimal.ROUND_CEIL=2,Decimal.ROUND_FLOOR=3,Decimal.ROUND_HALF_UP=4,Decimal.ROUND_HALF_DOWN=5,Decimal.ROUND_HALF_EVEN=6,Decimal.ROUND_HALF_CEIL=7,Decimal.ROUND_HALF_FLOOR=8,Decimal.EUCLID=9,Decimal.config=Decimal.set=decimal_config,Decimal.clone=decimal_clone,Decimal.isDecimal=isDecimalInstance,Decimal.abs=abs,Decimal.acos=acos,Decimal.acosh=decimal_acosh,Decimal.add=add,Decimal.asin=asin,Decimal.asinh=decimal_asinh,Decimal.atan=atan,Decimal.atanh=decimal_atanh,Decimal.atan2=atan2,Decimal.cbrt=decimal_cbrt,Decimal.ceil=ceil,Decimal.clamp=clamp,Decimal.cos=cos,Decimal.cosh=decimal_cosh,Decimal.div=div,Decimal.exp=exp,Decimal.floor=floor,Decimal.hypot=hypot,Decimal.ln=ln,Decimal.log=log,Decimal.log10=decimal_log10,Decimal.log2=decimal_log2,Decimal.max=max,Decimal.min=min,Decimal.mod=mod,Decimal.mul=mul,Decimal.pow=pow,Decimal.random=random,Decimal.round=round,Decimal.sign=decimal_sign,Decimal.sin=sin,Decimal.sinh=decimal_sinh,Decimal.sqrt=sqrt,Decimal.sub=sub,Decimal.sum=sum,Decimal.tan=tan,Decimal.tanh=decimal_tanh,Decimal.trunc=trunc,void 0===n&&(n={}),n&&!0!==n.defaults)for(a=0,b=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"];a<b.length;)n.hasOwnProperty(h=b[a++])||(n[h]=this[h]);return Decimal.config(n),Decimal}(tE);t_=new tL(t_),tD=new tL(tD);var tH=factory_factory("BigNumber",["?on","config"],n=>{var{on:a,config:h}=n,b=tL.clone({precision:h.precision,modulo:tL.EUCLID});return b.prototype=Object.create(b.prototype),b.prototype.type="BigNumber",b.prototype.isBigNumber=!0,b.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},b.fromJSON=function(n){return new b(n.value)},a&&a("config",function(n,a){n.precision!==a.precision&&b.config({precision:n.precision})}),b},{isClass:!0});let t$=Math.cosh||function(n){return 1e-9>Math.abs(n)?1-n:(Math.exp(n)+Math.exp(-n))*.5},tV=Math.sinh||function(n){return 1e-9>Math.abs(n)?n:(Math.exp(n)-Math.exp(-n))*.5},cosm1=function(n){let a=Math.PI/4;if(-a>n||n>a)return Math.cos(n)-1;let h=n*n;return h*(h*(h*(h*(h*(h*(h*(h/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)},complex_hypot=function(n,a){return((n=Math.abs(n))<(a=Math.abs(a))&&([n,a]=[a,n]),n<1e8)?Math.sqrt(n*n+a*a):(a/=n,n*Math.sqrt(1+a*a))},parser_exit=function(){throw SyntaxError("Invalid Param")};function logHypot(n,a){let h=Math.abs(n),b=Math.abs(a);return 0===n?Math.log(b):0===a?Math.log(h):h<3e3&&b<3e3?.5*Math.log(n*n+a*a):.5*Math.log((n*=.5)*n+(a*=.5)*a)+Math.LN2}let tG={re:0,im:0},parse=function(n,a){if(null==n)tG.re=tG.im=0;else if(void 0!==a)tG.re=n,tG.im=a;else switch(typeof n){case"object":if("im"in n&&"re"in n)tG.re=n.re,tG.im=n.im;else if("abs"in n&&"arg"in n){if(!isFinite(n.abs)&&isFinite(n.arg))return Complex.INFINITY;tG.re=n.abs*Math.cos(n.arg),tG.im=n.abs*Math.sin(n.arg)}else if("r"in n&&"phi"in n){if(!isFinite(n.r)&&isFinite(n.phi))return Complex.INFINITY;tG.re=n.r*Math.cos(n.phi),tG.im=n.r*Math.sin(n.phi)}else 2===n.length?(tG.re=n[0],tG.im=n[1]):parser_exit();break;case"string":tG.im=tG.re=0;let h=n.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),b=1,N=0;null===h&&parser_exit();for(let n=0;n<h.length;n++){let a=h[n];" "===a||"	"===a||"\n"===a||("+"===a?b++:"-"===a?N++:("i"===a||"I"===a?(b+N===0&&parser_exit()," "===h[n+1]||isNaN(h[n+1])?tG.im+=parseFloat((N%2?"-":"")+"1"):(tG.im+=parseFloat((N%2?"-":"")+h[n+1]),n++)):((b+N===0||isNaN(a))&&parser_exit(),"i"===h[n+1]||"I"===h[n+1]?(tG.im+=parseFloat((N%2?"-":"")+a),n++):tG.re+=parseFloat((N%2?"-":"")+a)),b=N=0))}b+N>0&&parser_exit();break;case"number":tG.im=0,tG.re=n;break;default:parser_exit()}return isNaN(tG.re)||isNaN(tG.im),tG};function Complex(n,a){if(!(this instanceof Complex))return new Complex(n,a);let h=parse(n,a);this.re=h.re,this.im=h.im}Complex.prototype={re:0,im:0,sign:function(){let n=complex_hypot(this.re,this.im);return new Complex(this.re/n,this.im/n)},add:function(n,a){let h=parse(n,a),b=this.isInfinite(),N=!(isFinite(h.re)&&isFinite(h.im));return b||N?b&&N?Complex.NAN:Complex.INFINITY:new Complex(this.re+h.re,this.im+h.im)},sub:function(n,a){let h=parse(n,a),b=this.isInfinite(),N=!(isFinite(h.re)&&isFinite(h.im));return b||N?b&&N?Complex.NAN:Complex.INFINITY:new Complex(this.re-h.re,this.im-h.im)},mul:function(n,a){let h=parse(n,a),b=this.isInfinite(),N=!(isFinite(h.re)&&isFinite(h.im)),w=0===this.re&&0===this.im,_=0===h.re&&0===h.im;return b&&_||N&&w?Complex.NAN:b||N?Complex.INFINITY:0===h.im&&0===this.im?new Complex(this.re*h.re,0):new Complex(this.re*h.re-this.im*h.im,this.re*h.im+this.im*h.re)},div:function(n,a){let h=parse(n,a),b=this.isInfinite(),N=!(isFinite(h.re)&&isFinite(h.im)),w=0===this.re&&0===this.im,_=0===h.re&&0===h.im;if(w&&_||b&&N)return Complex.NAN;if(_||b)return Complex.INFINITY;if(w||N)return Complex.ZERO;if(0===h.im)return new Complex(this.re/h.re,this.im/h.re);if(Math.abs(h.re)<Math.abs(h.im)){let n=h.re/h.im,a=h.re*n+h.im;return new Complex((this.re*n+this.im)/a,(this.im*n-this.re)/a)}{let n=h.im/h.re,a=h.im*n+h.re;return new Complex((this.re+this.im*n)/a,(this.im-this.re*n)/a)}},pow:function(n,a){let h=parse(n,a),b=0===this.re&&0===this.im,N=0===h.re&&0===h.im;if(N)return Complex.ONE;if(0===h.im){if(0===this.im&&this.re>0)return new Complex(Math.pow(this.re,h.re),0);if(0===this.re)switch((h.re%4+4)%4){case 0:return new Complex(Math.pow(this.im,h.re),0);case 1:return new Complex(0,Math.pow(this.im,h.re));case 2:return new Complex(-Math.pow(this.im,h.re),0);case 3:return new Complex(0,-Math.pow(this.im,h.re))}}if(b&&h.re>0)return Complex.ZERO;let w=Math.atan2(this.im,this.re),_=logHypot(this.re,this.im),D=Math.exp(h.re*_-h.im*w),E=h.im*_+h.re*w;return new Complex(D*Math.cos(E),D*Math.sin(E))},sqrt:function(){let n=this.re,a=this.im;if(0===a)return n>=0?new Complex(Math.sqrt(n),0):new Complex(0,Math.sqrt(-n));let h=complex_hypot(n,a),b=Math.sqrt(.5*(h+Math.abs(n))),N=Math.abs(a)/(2*b);return n>=0?new Complex(b,a<0?-N:N):new Complex(N,a<0?-b:b)},exp:function(){let n=Math.exp(this.re);return 0===this.im?new Complex(n,0):new Complex(n*Math.cos(this.im),n*Math.sin(this.im))},expm1:function(){let n=this.re,a=this.im;return new Complex(Math.expm1(n)*Math.cos(a)+cosm1(a),Math.exp(n)*Math.sin(a))},log:function(){let n=this.re,a=this.im;return 0===a&&n>0?new Complex(Math.log(n),0):new Complex(logHypot(n,a),Math.atan2(a,n))},abs:function(){return complex_hypot(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){let n=this.re,a=this.im;return new Complex(Math.sin(n)*t$(a),Math.cos(n)*tV(a))},cos:function(){let n=this.re,a=this.im;return new Complex(Math.cos(n)*t$(a),-Math.sin(n)*tV(a))},tan:function(){let n=2*this.re,a=2*this.im,h=Math.cos(n)+t$(a);return new Complex(Math.sin(n)/h,tV(a)/h)},cot:function(){let n=2*this.re,a=2*this.im,h=Math.cos(n)-t$(a);return new Complex(-Math.sin(n)/h,tV(a)/h)},sec:function(){let n=this.re,a=this.im,h=.5*t$(2*a)+.5*Math.cos(2*n);return new Complex(Math.cos(n)*t$(a)/h,Math.sin(n)*tV(a)/h)},csc:function(){let n=this.re,a=this.im,h=.5*t$(2*a)-.5*Math.cos(2*n);return new Complex(Math.sin(n)*t$(a)/h,-Math.cos(n)*tV(a)/h)},asin:function(){let n=this.re,a=this.im,h=new Complex(a*a-n*n+1,-2*n*a).sqrt(),b=new Complex(h.re-a,h.im+n).log();return new Complex(b.im,-b.re)},acos:function(){let n=this.re,a=this.im,h=new Complex(a*a-n*n+1,-2*n*a).sqrt(),b=new Complex(h.re-a,h.im+n).log();return new Complex(Math.PI/2-b.im,b.re)},atan:function(){let n=this.re,a=this.im;if(0===n){if(1===a)return new Complex(0,1/0);if(-1===a)return new Complex(0,-1/0)}let h=n*n+(1-a)*(1-a),b=new Complex((1-a*a-n*n)/h,-2*n/h).log();return new Complex(-.5*b.im,.5*b.re)},acot:function(){let n=this.re,a=this.im;if(0===a)return new Complex(Math.atan2(1,n),0);let h=n*n+a*a;return 0!==h?new Complex(n/h,-a/h).atan():new Complex(0!==n?n/0:0,0!==a?-a/0:0).atan()},asec:function(){let n=this.re,a=this.im;if(0===n&&0===a)return new Complex(0,1/0);let h=n*n+a*a;return 0!==h?new Complex(n/h,-a/h).acos():new Complex(0!==n?n/0:0,0!==a?-a/0:0).acos()},acsc:function(){let n=this.re,a=this.im;if(0===n&&0===a)return new Complex(Math.PI/2,1/0);let h=n*n+a*a;return 0!==h?new Complex(n/h,-a/h).asin():new Complex(0!==n?n/0:0,0!==a?-a/0:0).asin()},sinh:function(){let n=this.re,a=this.im;return new Complex(tV(n)*Math.cos(a),t$(n)*Math.sin(a))},cosh:function(){let n=this.re,a=this.im;return new Complex(t$(n)*Math.cos(a),tV(n)*Math.sin(a))},tanh:function(){let n=2*this.re,a=2*this.im,h=t$(n)+Math.cos(a);return new Complex(tV(n)/h,Math.sin(a)/h)},coth:function(){let n=2*this.re,a=2*this.im,h=t$(n)-Math.cos(a);return new Complex(tV(n)/h,-Math.sin(a)/h)},csch:function(){let n=this.re,a=this.im,h=Math.cos(2*a)-t$(2*n);return new Complex(-2*tV(n)*Math.cos(a)/h,2*t$(n)*Math.sin(a)/h)},sech:function(){let n=this.re,a=this.im,h=Math.cos(2*a)+t$(2*n);return new Complex(2*t$(n)*Math.cos(a)/h,-2*tV(n)*Math.sin(a)/h)},asinh:function(){let n=this.im;this.im=-this.re,this.re=n;let a=this.asin();return this.re=-this.im,this.im=n,n=a.re,a.re=-a.im,a.im=n,a},acosh:function(){let n=this.acos();if(n.im<=0){let a=n.re;n.re=-n.im,n.im=a}else{let a=n.im;n.im=-n.re,n.re=a}return n},atanh:function(){let n=this.re,a=this.im,h=n>1&&0===a,b=1-n,N=1+n,w=b*b+a*a,_=0!==w?new Complex((N*b-a*a)/w,(a*b+N*a)/w):new Complex(-1!==n?n/0:0,0!==a?a/0:0),D=_.re;return _.re=logHypot(_.re,_.im)/2,_.im=Math.atan2(_.im,D)/2,h&&(_.im=-_.im),_},acoth:function(){let n=this.re,a=this.im;if(0===n&&0===a)return new Complex(0,Math.PI/2);let h=n*n+a*a;return 0!==h?new Complex(n/h,-a/h).atanh():new Complex(0!==n?n/0:0,0!==a?-a/0:0).atanh()},acsch:function(){let n=this.re,a=this.im;if(0===a)return new Complex(0!==n?Math.log(n+Math.sqrt(n*n+1)):1/0,0);let h=n*n+a*a;return 0!==h?new Complex(n/h,-a/h).asinh():new Complex(0!==n?n/0:0,0!==a?-a/0:0).asinh()},asech:function(){let n=this.re,a=this.im;if(this.isZero())return Complex.INFINITY;let h=n*n+a*a;return 0!==h?new Complex(n/h,-a/h).acosh():new Complex(0!==n?n/0:0,0!==a?-a/0:0).acosh()},inverse:function(){if(this.isZero())return Complex.INFINITY;if(this.isInfinite())return Complex.ZERO;let n=this.re,a=this.im,h=n*n+a*a;return new Complex(n/h,-a/h)},conjugate:function(){return new Complex(this.re,-this.im)},neg:function(){return new Complex(-this.re,-this.im)},ceil:function(n){return n=Math.pow(10,n||0),new Complex(Math.ceil(this.re*n)/n,Math.ceil(this.im*n)/n)},floor:function(n){return n=Math.pow(10,n||0),new Complex(Math.floor(this.re*n)/n,Math.floor(this.im*n)/n)},round:function(n){return n=Math.pow(10,n||0),new Complex(Math.round(this.re*n)/n,Math.round(this.im*n)/n)},equals:function(n,a){let h=parse(n,a);return Math.abs(h.re-this.re)<=Complex.EPSILON&&Math.abs(h.im-this.im)<=Complex.EPSILON},clone:function(){return new Complex(this.re,this.im)},toString:function(){let n=this.re,a=this.im,h="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(n)<Complex.EPSILON&&(n=0),Math.abs(a)<Complex.EPSILON&&(a=0),0===a)?h+n:(0!==n?(h+=n+" ",a<0?(a=-a,h+="-"):h+="+",h+=" "):a<0&&(a=-a,h+="-"),1!==a&&(h+=a),h+"i")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}},Complex.ZERO=new Complex(0,0),Complex.ONE=new Complex(1,0),Complex.I=new Complex(0,1),Complex.PI=new Complex(Math.PI,0),Complex.E=new Complex(Math.E,0),Complex.INFINITY=new Complex(1/0,1/0),Complex.NAN=new Complex(NaN,NaN),Complex.EPSILON=1e-15;var tZ=factory_factory("Complex",[],()=>(Object.defineProperty(Complex,"name",{value:"Complex"}),Complex.prototype.constructor=Complex,Complex.prototype.type="Complex",Complex.prototype.isComplex=!0,Complex.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Complex.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Complex.prototype.format=function(n){var a=this.im,h=this.re,b=format(this.re,n),N=format(this.im,n),w=isNumber(n)?n:n?n.precision:null;if(null!==w){var _=Math.pow(10,-w);Math.abs(h/a)<_&&(h=0),Math.abs(a/h)<_&&(a=0)}return 0===a?b:0===h?1===a?"i":-1===a?"-i":N+"i":a<0?-1===a?b+" - i":b+" - "+N.substring(1)+"i":1===a?b+" + i":b+" + "+N+"i"},Complex.fromPolar=function(n){switch(arguments.length){case 1:var a=arguments[0];if("object"==typeof a)return Complex(a);throw TypeError("Input has to be an object with r and phi keys.");case 2:var h=arguments[0],b=arguments[1];if(isNumber(h)){if(isUnit(b)&&b.hasBase("ANGLE")&&(b=b.toNumber("rad")),isNumber(b))return new Complex({r:h,phi:b});throw TypeError("Phi is not a number nor an angle unit.")}throw TypeError("Radius r is not a number.");default:throw SyntaxError("Wrong number of arguments in function fromPolar")}},Complex.prototype.valueOf=Complex.prototype.toString,Complex.fromJSON=function(n){return new Complex(n)},Complex.compare=function(n,a){return n.re>a.re?1:n.re<a.re?-1:n.im>a.im?1:n.im<a.im?-1:0},Complex),{isClass:!0});function memoize(n){var{hasher:a,limit:h}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h=null==h?Number.POSITIVE_INFINITY:h,a=null==a?JSON.stringify:a,function memoize(){if("object"!=typeof memoize.cache){var b,N,w,_,D,E,A;memoize.cache={values:new Map,lru:(b=h||Number.POSITIVE_INFINITY,N=0,w=1,_=Object.create(null),D=Object.create(null),E=0,A=function(n){var a=D[n];if(a&&(delete _[a],delete D[n],--N,w===a)){if(!N){E=0,w=1;return}for(;!Object.prototype.hasOwnProperty.call(_,++w););}},b=Math.abs(b),{hit:function(n){var a=D[n],h=++E;if(_[h]=n,D[n]=h,!a){if(++N<=b)return;return A(n=_[w]),n}if(delete _[a],w===a)for(;!Object.prototype.hasOwnProperty.call(_,++w););},delete:A,clear:function(){N=E=0,w=1,_=Object.create(null),D=Object.create(null)}})}}for(var M=[],B=0;B<arguments.length;B++)M[B]=arguments[B];var I=a(M);if(memoize.cache.values.has(I))return memoize.cache.lru.hit(I),memoize.cache.values.get(I);var z=n.apply(n,M);return memoize.cache.values.set(I,z),memoize.cache.values.delete(memoize.cache.lru.hit(I)),z}}var tW=memoize(function(n){return new n(1).exp()},{hasher}),tY=memoize(function(n){return new n(1).plus(new n(5).sqrt()).div(2)},{hasher}),tX=memoize(function(n){return n.acos(-1)},{hasher}),tJ=memoize(function(n){return tX(n).times(2)},{hasher});function hasher(n){return n[0].precision}var tQ=Math.PI,tK=2*Math.PI,t0=Math.E,t1=factory_factory("true",[],()=>!0),t2=factory_factory("false",[],()=>!1),t3=factory_factory("null",[],()=>null),t4=recreateFactory("Infinity",["config","?BigNumber"],n=>{var{config:a,BigNumber:h}=n;return"BigNumber"===a.number?new h(1/0):1/0}),t5=recreateFactory("NaN",["config","?BigNumber"],n=>{var{config:a,BigNumber:h}=n;return"BigNumber"===a.number?new h(NaN):NaN}),t8=recreateFactory("pi",["config","?BigNumber"],n=>{var{config:a,BigNumber:h}=n;return"BigNumber"===a.number?tX(h):tQ}),t6=recreateFactory("tau",["config","?BigNumber"],n=>{var{config:a,BigNumber:h}=n;return"BigNumber"===a.number?tJ(h):tK}),t7=recreateFactory("e",["config","?BigNumber"],n=>{var{config:a,BigNumber:h}=n;return"BigNumber"===a.number?tW(h):t0}),t9=recreateFactory("phi",["config","?BigNumber"],n=>{var{config:a,BigNumber:h}=n;return"BigNumber"===a.number?tY(h):1.618033988749895}),ne=recreateFactory("LN2",["config","?BigNumber"],n=>{var{config:a,BigNumber:h}=n;return"BigNumber"===a.number?new h(2).ln():Math.LN2}),nr=recreateFactory("LN10",["config","?BigNumber"],n=>{var{config:a,BigNumber:h}=n;return"BigNumber"===a.number?new h(10).ln():Math.LN10}),nt=recreateFactory("LOG2E",["config","?BigNumber"],n=>{var{config:a,BigNumber:h}=n;return"BigNumber"===a.number?new h(1).div(new h(2).ln()):Math.LOG2E}),nn=recreateFactory("LOG10E",["config","?BigNumber"],n=>{var{config:a,BigNumber:h}=n;return"BigNumber"===a.number?new h(1).div(new h(10).ln()):Math.LOG10E}),ni=recreateFactory("SQRT1_2",["config","?BigNumber"],n=>{var{config:a,BigNumber:h}=n;return"BigNumber"===a.number?new h("0.5").sqrt():Math.SQRT1_2}),na=recreateFactory("SQRT2",["config","?BigNumber"],n=>{var{config:a,BigNumber:h}=n;return"BigNumber"===a.number?new h(2).sqrt():Math.SQRT2}),no=recreateFactory("i",["Complex"],n=>{var{Complex:a}=n;return a.I}),ns=factory_factory("version",[],()=>"15.0.0");function recreateFactory(n,a,h){return factory_factory(n,a,h,{recreateOnConfigChange:!0})}var nu=unitFactory("speedOfLight","299792458","m s^-1"),nc=unitFactory("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),nl=unitFactory("planckConstant","6.62607015e-34","J s"),nf=unitFactory("reducedPlanckConstant","1.0545718176461565e-34","J s"),nm=unitFactory("magneticConstant","1.25663706212e-6","N A^-2"),np=unitFactory("electricConstant","8.8541878128e-12","F m^-1"),nd=unitFactory("vacuumImpedance","376.730313667","ohm"),nh=unitFactory("coulomb","8.987551792261171e9","N m^2 C^-2"),ng=unitFactory("coulombConstant","8.987551792261171e9","N m^2 C^-2"),ny=unitFactory("elementaryCharge","1.602176634e-19","C"),nv=unitFactory("bohrMagneton","9.2740100783e-24","J T^-1"),nx=unitFactory("conductanceQuantum","7.748091729863649e-5","S"),nb=unitFactory("inverseConductanceQuantum","12906.403729652257","ohm"),nN=unitFactory("magneticFluxQuantum","2.0678338484619295e-15","Wb"),nw=unitFactory("nuclearMagneton","5.0507837461e-27","J T^-1"),n_=unitFactory("klitzing","25812.807459304513","ohm"),nD=unitFactory("bohrRadius","5.29177210903e-11","m"),nE=unitFactory("classicalElectronRadius","2.8179403262e-15","m"),nA=unitFactory("electronMass","9.1093837015e-31","kg"),nC=unitFactory("fermiCoupling","1.1663787e-5","GeV^-2"),nS=numberFactory("fineStructure",.0072973525693),nM=unitFactory("hartreeEnergy","4.3597447222071e-18","J"),nF=unitFactory("protonMass","1.67262192369e-27","kg"),nT=unitFactory("deuteronMass","3.3435830926e-27","kg"),nO=unitFactory("neutronMass","1.6749271613e-27","kg"),nB=unitFactory("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),nI=unitFactory("rydberg","10973731.568160","m^-1"),nk=unitFactory("thomsonCrossSection","6.6524587321e-29","m^2"),nP=numberFactory("weakMixingAngle",.2229),nz=numberFactory("efimovFactor",22.7),nR=unitFactory("atomicMass","1.66053906660e-27","kg"),nq=unitFactory("avogadro","6.02214076e23","mol^-1"),nj=unitFactory("boltzmann","1.380649e-23","J K^-1"),nU=unitFactory("faraday","96485.33212331001","C mol^-1"),nL=unitFactory("firstRadiation","3.7417718521927573e-16","W m^2"),nH=unitFactory("loschmidt","2.686780111798444e25","m^-3"),n$=unitFactory("gasConstant","8.31446261815324","J K^-1 mol^-1"),nV=unitFactory("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),nG=unitFactory("molarVolume","0.022413969545014137","m^3 mol^-1"),nZ=numberFactory("sackurTetrode",-1.16487052358),nW=unitFactory("secondRadiation","0.014387768775039337","m K"),nY=unitFactory("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),nX=unitFactory("wienDisplacement","2.897771955e-3","m K"),nJ=unitFactory("molarMass","0.99999999965e-3","kg mol^-1"),nQ=unitFactory("molarMassC12","11.9999999958e-3","kg mol^-1"),nK=unitFactory("gravity","9.80665","m s^-2"),n0=unitFactory("planckLength","1.616255e-35","m"),n1=unitFactory("planckMass","2.176435e-8","kg"),n2=unitFactory("planckTime","5.391245e-44","s"),n3=unitFactory("planckCharge","1.87554603778e-18","C"),n4=unitFactory("planckTemperature","1.416785e+32","K");function unitFactory(n,a,h){return factory_factory(n,["config","Unit","BigNumber"],n=>{var{config:b,Unit:N,BigNumber:w}=n,_="BigNumber"===b.number?new w(a):parseFloat(a),D=new N(_,h);return D.fixPrefix=!0,D})}function numberFactory(n,a){return factory_factory(n,["config","BigNumber"],n=>{var{config:h,BigNumber:b}=n;return"BigNumber"===h.number?new b(a):a})}"undefined"==typeof BigInt&&(BigInt=function(n){if(isNaN(n))throw Error("");return n});let n5=BigInt(0),n8=BigInt(1),n6=BigInt(2),n7=BigInt(3),n9=BigInt(5),ie=BigInt(10);BigInt(Number.MAX_SAFE_INTEGER);let ir={s:n8,n:n5,d:n8};function fraction_assign(n,a){try{n=BigInt(n)}catch(n){throw InvalidParameter()}return n*a}function ifloor(n){return"bigint"==typeof n?n:Math.floor(n)}function newFraction(n,a){if(a===n5)throw DivisionByZero();let h=Object.create(Fraction.prototype);h.s=n<n5?-n8:n8,n=n<n5?-n:n;let b=gcd(n,a);return h.n=n/b,h.d=a/b,h}let it=[n6*n6,n6,n6*n6,n6,n6*n6,n6*n7,n6,n6*n7];function factorize(n){let a=Object.create(null);if(n<=n8)return a[n]=n8,a;let add=n=>{a[n]=(a[n]||n5)+n8};for(;n%n6===n5;)add(n6),n/=n6;for(;n%n7===n5;)add(n7),n/=n7;for(;n%n9===n5;)add(n9),n/=n9;for(let a=0,h=n6+n9;h*h<=n;){for(;n%h===n5;)add(h),n/=h;h+=it[a],a=a+1&7}return n>n8&&add(n),a}let fraction_parse=function(n,a){let h=n5,b=n8,N=n8;if(null==n);else if(void 0!==a){if("bigint"==typeof n)h=n;else if(isNaN(n))throw InvalidParameter();else if(n%1!=0)throw NonIntegerParameter();else h=BigInt(n);if("bigint"==typeof a)b=a;else if(isNaN(a))throw InvalidParameter();else if(a%1!=0)throw NonIntegerParameter();else b=BigInt(a);N=h*b}else if("object"==typeof n){if("d"in n&&"n"in n)h=BigInt(n.n),b=BigInt(n.d),"s"in n&&(h*=BigInt(n.s));else if(0 in n)h=BigInt(n[0]),1 in n&&(b=BigInt(n[1]));else if("bigint"==typeof n)h=n;else throw InvalidParameter();N=h*b}else if("number"==typeof n){if(isNaN(n))throw InvalidParameter();if(n<0&&(N=-n8,n=-n),n%1==0)h=BigInt(n);else{let a=1,N=0,w=1,_=1,D=1;for(n>=1&&(a=10**Math.floor(1+Math.log10(n)),n/=a);w<=1e7&&D<=1e7;){let a=(N+_)/(w+D);if(n===a){w+D<=1e7?(h=N+_,b=w+D):D>w?(h=_,b=D):(h=N,b=w);break}n>a?(N+=_,w+=D):(_+=N,D+=w),w>1e7?(h=_,b=D):(h=N,b=w)}h=BigInt(h)*BigInt(a),b=BigInt(b)}}else if("string"==typeof n){let a=0,w=n5,_=n5,D=n5,E=n8,A=n8,M=n.replace(/_/g,"").match(/\d+|./g);if(null===M)throw InvalidParameter();if("-"===M[a]?(N=-n8,a++):"+"===M[a]&&a++,M.length===a+1?_=fraction_assign(M[a++],N):"."===M[a+1]||"."===M[a]?("."!==M[a]&&(w=fraction_assign(M[a++],N)),(++a+1===M.length||"("===M[a+1]&&")"===M[a+3]||"'"===M[a+1]&&"'"===M[a+3])&&(_=fraction_assign(M[a],N),E=ie**BigInt(M[a].length),a++),("("===M[a]&&")"===M[a+2]||"'"===M[a]&&"'"===M[a+2])&&(D=fraction_assign(M[a+1],N),A=ie**BigInt(M[a+1].length)-n8,a+=3)):"/"===M[a+1]||":"===M[a+1]?(_=fraction_assign(M[a],N),E=fraction_assign(M[a+2],n8),a+=3):"/"===M[a+3]&&" "===M[a+1]&&(w=fraction_assign(M[a],N),_=fraction_assign(M[a+2],N),E=fraction_assign(M[a+4],n8),a+=5),M.length<=a)N=h=D+(b=E*A)*w+A*_;else throw InvalidParameter()}else if("bigint"==typeof n)h=n,N=n,b=n8;else throw InvalidParameter();if(b===n5)throw DivisionByZero();ir.s=N<n5?-n8:n8,ir.n=h<n5?-h:h,ir.d=b<n5?-b:b};function gcd(n,a){if(!n)return a;if(!a)return n;for(;;){if(!(n%=a))return a;if(!(a%=n))return n}}function Fraction(n,a){if(fraction_parse(n,a),!(this instanceof Fraction))return newFraction(ir.s*ir.n,ir.d);n=gcd(ir.d,ir.n),this.s=ir.s,this.n=ir.n/n,this.d=ir.d/n}let DivisionByZero=function(){return Error("Division by Zero")},InvalidParameter=function(){return Error("Invalid argument")},NonIntegerParameter=function(){return Error("Parameters must be integer")};Fraction.prototype={s:n8,n:n5,d:n8,abs:function(){return newFraction(this.n,this.d)},neg:function(){return newFraction(-this.s*this.n,this.d)},add:function(n,a){return fraction_parse(n,a),newFraction(this.s*this.n*ir.d+ir.s*this.d*ir.n,this.d*ir.d)},sub:function(n,a){return fraction_parse(n,a),newFraction(this.s*this.n*ir.d-ir.s*this.d*ir.n,this.d*ir.d)},mul:function(n,a){return fraction_parse(n,a),newFraction(this.s*ir.s*this.n*ir.n,this.d*ir.d)},div:function(n,a){return fraction_parse(n,a),newFraction(this.s*ir.s*this.n*ir.d,this.d*ir.n)},clone:function(){return newFraction(this.s*this.n,this.d)},mod:function(n,a){if(void 0===n)return newFraction(this.s*this.n%this.d,n8);if(fraction_parse(n,a),n5===ir.n*this.d)throw DivisionByZero();return newFraction(this.s*(ir.d*this.n)%(ir.n*this.d),ir.d*this.d)},gcd:function(n,a){return fraction_parse(n,a),newFraction(gcd(ir.n,this.n)*gcd(ir.d,this.d),ir.d*this.d)},lcm:function(n,a){return(fraction_parse(n,a),ir.n===n5&&this.n===n5)?newFraction(n5,n8):newFraction(ir.n*this.n,gcd(ir.n,this.n)*gcd(ir.d,this.d))},inverse:function(){return newFraction(this.s*this.d,this.n)},pow:function(n,a){if(fraction_parse(n,a),ir.d===n8)return ir.s<n5?newFraction((this.s*this.d)**ir.n,this.n**ir.n):newFraction((this.s*this.n)**ir.n,this.d**ir.n);if(this.s<n5)return null;let h=factorize(this.n),b=factorize(this.d),N=n8,w=n8;for(let n in h)if("1"!==n){if("0"===n){N=n5;break}if(h[n]*=ir.n,h[n]%ir.d!==n5)return null;h[n]/=ir.d,N*=BigInt(n)**h[n]}for(let n in b)if("1"!==n){if(b[n]*=ir.n,b[n]%ir.d!==n5)return null;b[n]/=ir.d,w*=BigInt(n)**b[n]}return ir.s<n5?newFraction(w,N):newFraction(N,w)},log:function(n,a){if(fraction_parse(n,a),this.s<=n5||ir.s<=n5)return null;let h=Object.create(null),b=factorize(ir.n),N=factorize(ir.d),w=factorize(this.n),_=factorize(this.d);for(let n in N)b[n]=(b[n]||n5)-N[n];for(let n in _)w[n]=(w[n]||n5)-_[n];for(let n in b)"1"!==n&&(h[n]=!0);for(let n in w)"1"!==n&&(h[n]=!0);let D=null,E=null;for(let n in h){let a=b[n]||n5,h=w[n]||n5;if(a===n5){if(h!==n5)return null;continue}let N=h,_=a,A=gcd(N,_);if(N/=A,_/=A,null===D&&null===E)D=N,E=_;else if(N*E!=D*_)return null}return null!==D&&null!==E?newFraction(D,E):null},equals:function(n,a){return fraction_parse(n,a),this.s*this.n*ir.d==ir.s*ir.n*this.d},lt:function(n,a){return fraction_parse(n,a),this.s*this.n*ir.d<ir.s*ir.n*this.d},lte:function(n,a){return fraction_parse(n,a),this.s*this.n*ir.d<=ir.s*ir.n*this.d},gt:function(n,a){return fraction_parse(n,a),this.s*this.n*ir.d>ir.s*ir.n*this.d},gte:function(n,a){return fraction_parse(n,a),this.s*this.n*ir.d>=ir.s*ir.n*this.d},compare:function(n,a){fraction_parse(n,a);let h=this.s*this.n*ir.d-ir.s*ir.n*this.d;return(n5<h)-(h<n5)},ceil:function(n){return n=ie**BigInt(n||0),newFraction(ifloor(this.s*n*this.n/this.d)+(n*this.n%this.d>n5&&this.s>=n5?n8:n5),n)},floor:function(n){return n=ie**BigInt(n||0),newFraction(ifloor(this.s*n*this.n/this.d)-(n*this.n%this.d>n5&&this.s<n5?n8:n5),n)},round:function(n){return n=ie**BigInt(n||0),newFraction(ifloor(this.s*n*this.n/this.d)+this.s*((this.s>=n5?n8:n5)+n6*(n*this.n%this.d)>this.d?n8:n5),n)},roundTo:function(n,a){fraction_parse(n,a);let h=this.n*ir.d,b=this.d*ir.n,N=h%b,w=ifloor(h/b);return N+N>=b&&w++,newFraction(this.s*w*ir.n,ir.d)},divisible:function(n,a){return fraction_parse(n,a),ir.n!==n5&&this.n*ir.d%(ir.n*this.d)===n5},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(n=15){let a=this.n,h=this.d,b=function(n,a){for(;a%n6===n5;a/=n6);for(;a%n9===n5;a/=n9);if(a===n8)return n5;let h=ie%a,b=1;for(;h!==n8;b++)if(h=h*ie%a,b>2e3)return n5;return BigInt(b)}(0,h),N=function(n,a,h){let b=n8,N=function(n,a,h){let b=n8;for(;a>n5;n=n*n%h,a>>=n8)a&n8&&(b=b*n%h);return b}(ie,h,a);for(let n=0;n<300;n++){if(b===N)return BigInt(n);b=b*ie%a,N=N*ie%a}return 0}(0,h,b),w=this.s<n5?"-":"";if(w+=ifloor(a/h),a%=h,(a*=ie)&&(w+="."),b){for(let n=N;n--;)w+=ifloor(a/h),a%=h,a*=ie;w+="(";for(let n=b;n--;)w+=ifloor(a/h),a%=h,a*=ie;w+=")"}else for(let b=n;a&&b--;)w+=ifloor(a/h),a%=h,a*=ie;return w},toFraction:function(n=!1){let a=this.n,h=this.d,b=this.s<n5?"-":"";if(h===n8)b+=a;else{let N=ifloor(a/h);n&&N>n5&&(b+=N+" ",a%=h),b+=a+"/"+h}return b},toLatex:function(n=!1){let a=this.n,h=this.d,b=this.s<n5?"-":"";if(h===n8)b+=a;else{let N=ifloor(a/h);n&&N>n5&&(b+=N,a%=h),b+="\\frac{"+a+"}{"+h+"}"}return b},toContinued:function(){let n=this.n,a=this.d,h=[];for(;a;){h.push(ifloor(n/a));let b=n%a;n=a,a=b}return h},simplify:function(n=.001){let a=BigInt(Math.ceil(1/n)),h=this.abs(),b=h.toContinued();for(let n=1;n<b.length;n++){let N=newFraction(b[n-1],n8);for(let a=n-2;a>=0;a--)N=N.inverse().add(b[a]);let w=N.sub(h);if(w.n*a<w.d)return N.mul(this.s)}return this}};var ii=factory_factory("Fraction",[],()=>(Object.defineProperty(Fraction,"name",{value:"Fraction"}),Fraction.prototype.constructor=Fraction,Fraction.prototype.type="Fraction",Fraction.prototype.isFraction=!0,Fraction.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},Fraction.fromJSON=function(n){return new Fraction(n)},Fraction),{isClass:!0}),ia=factory_factory("Matrix",[],()=>{function Matrix(){if(!(this instanceof Matrix))throw SyntaxError("Constructor must be called with the new operator")}return Matrix.prototype.type="Matrix",Matrix.prototype.isMatrix=!0,Matrix.prototype.storage=function(){throw Error("Cannot invoke storage on a Matrix interface")},Matrix.prototype.datatype=function(){throw Error("Cannot invoke datatype on a Matrix interface")},Matrix.prototype.create=function(n,a){throw Error("Cannot invoke create on a Matrix interface")},Matrix.prototype.subset=function(n,a,h){throw Error("Cannot invoke subset on a Matrix interface")},Matrix.prototype.get=function(n){throw Error("Cannot invoke get on a Matrix interface")},Matrix.prototype.set=function(n,a,h){throw Error("Cannot invoke set on a Matrix interface")},Matrix.prototype.resize=function(n,a){throw Error("Cannot invoke resize on a Matrix interface")},Matrix.prototype.reshape=function(n,a){throw Error("Cannot invoke reshape on a Matrix interface")},Matrix.prototype.clone=function(){throw Error("Cannot invoke clone on a Matrix interface")},Matrix.prototype.size=function(){throw Error("Cannot invoke size on a Matrix interface")},Matrix.prototype.map=function(n,a){throw Error("Cannot invoke map on a Matrix interface")},Matrix.prototype.forEach=function(n){throw Error("Cannot invoke forEach on a Matrix interface")},Matrix.prototype[Symbol.iterator]=function(){throw Error("Cannot iterate a Matrix interface")},Matrix.prototype.toArray=function(){throw Error("Cannot invoke toArray on a Matrix interface")},Matrix.prototype.valueOf=function(){throw Error("Cannot invoke valueOf on a Matrix interface")},Matrix.prototype.format=function(n){throw Error("Cannot invoke format on a Matrix interface")},Matrix.prototype.toString=function(){throw Error("Cannot invoke toString on a Matrix interface")},Matrix},{isClass:!0}),io=factory_factory("Range",[],()=>{function Range(n,a,h){if(!(this instanceof Range))throw SyntaxError("Constructor must be called with the new operator");var b=null!=n,N=null!=a,w=null!=h;if(b){if(isBigNumber(n))n=n.toNumber();else if("number"!=typeof n&&!isBigInt(n))throw TypeError("Parameter start must be a number or bigint")}if(N){if(isBigNumber(a))a=a.toNumber();else if("number"!=typeof a&&!isBigInt(a))throw TypeError("Parameter end must be a number or bigint")}if(w){if(isBigNumber(h))h=h.toNumber();else if("number"!=typeof h&&!isBigInt(h))throw TypeError("Parameter step must be a number or bigint")}if(this.start=b?parseFloat(n):0,this.end=N?parseFloat(a):0,this.step=w?parseFloat(h):1,w&&nearlyEqual(this.step,0))throw Error("Step must not be zero")}return Range.prototype.type="Range",Range.prototype.isRange=!0,Range.parse=function(n){if("string"!=typeof n)return null;var a=n.split(":").map(function(n){return parseFloat(n)});if(a.some(function(n){return isNaN(n)}))return null;switch(a.length){case 2:return new Range(a[0],a[1]);case 3:return new Range(a[0],a[2],a[1]);default:return null}},Range.prototype.clone=function(){return new Range(this.start,this.end,this.step)},Range.prototype.size=function(){var n=0,a=this.start,h=this.step,b=this.end-a;return A(h)===A(b)?n=Math.ceil(b/h):0===b&&(n=0),isNaN(n)&&(n=0),[n]},Range.prototype.min=function(){var n=this.size()[0];return n>0?this.step>0?this.start:this.start+(n-1)*this.step:void 0},Range.prototype.max=function(){var n=this.size()[0];return n>0?this.step>0?this.start+(n-1)*this.step:this.start:void 0},Range.prototype.forEach=function(n){var a=this.start,h=this.step,b=this.end,N=0;if(h>0)for(;a<b;)n(a,[N],this),a+=h,N++;else if(h<0)for(;a>b;)n(a,[N],this),a+=h,N++},Range.prototype.map=function(n){var a=[];return this.forEach(function(h,b,N){a[b[0]]=n(h,b,N)}),a},Range.prototype.toArray=function(){var n=[];return this.forEach(function(a,h){n[h[0]]=a}),n},Range.prototype.valueOf=function(){return this.toArray()},Range.prototype.format=function(n){var a=format(this.start,n);return 1!==this.step&&(a+=":"+format(this.step,n)),a+=":"+format(this.end,n)},Range.prototype.toString=function(){return this.format()},Range.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},Range.fromJSON=function(n){return new Range(n.start,n.end,n.step)},Range},{isClass:!0}),is=factory_factory("ResultSet",[],()=>{function ResultSet(n){if(!(this instanceof ResultSet))throw SyntaxError("Constructor must be called with the new operator");this.entries=n||[]}return ResultSet.prototype.type="ResultSet",ResultSet.prototype.isResultSet=!0,ResultSet.prototype.valueOf=function(){return this.entries},ResultSet.prototype.toString=function(){return"["+this.entries.map(String).join(", ")+"]"},ResultSet.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},ResultSet.fromJSON=function(n){return new ResultSet(n.entries)},ResultSet},{isClass:!0}),iu=factory_factory("DenseMatrix",["Matrix","config"],n=>{var{Matrix:a,config:h}=n;function DenseMatrix(n,a){if(!(this instanceof DenseMatrix))throw SyntaxError("Constructor must be called with the new operator");if(a&&!isString(a))throw Error("Invalid datatype: "+a);if(isMatrix(n))"DenseMatrix"===n.type?(this._data=object_clone(n._data),this._size=object_clone(n._size)):(this._data=n.toArray(),this._size=n.size()),this._datatype=a||n._datatype;else if(n&&_(n.data)&&_(n.size))this._data=n.data,this._size=n.size,validate(this._data,this._size),this._datatype=a||n.datatype;else if(_(n))this._data=function preprocess(n){return isMatrix(n)?preprocess(n.valueOf()):_(n)?n.map(preprocess):n}(n),this._size=arraySize(this._data),validate(this._data,this._size),this._datatype=a;else if(n)throw TypeError("Unsupported type of data ("+typeOf(n)+")");else this._data=[],this._size=[0],this._datatype=a}function _resize(n,a,h){if(0===a.length){for(var b=n._data;_(b);)b=b[0];return b}return n._size=a.slice(0),n._data=array_resize(n._data,n._size,h),n}function _fit(n,a,h){for(var b=n._size.slice(0),N=!1;b.length<a.length;)b.push(0),N=!0;for(var w=0,_=a.length;w<_;w++)a[w]>b[w]&&(b[w]=a[w],N=!0);N&&_resize(n,b,h)}return DenseMatrix.prototype=new a,DenseMatrix.prototype.createDenseMatrix=function(n,a){return new DenseMatrix(n,a)},Object.defineProperty(DenseMatrix,"name",{value:"DenseMatrix"}),DenseMatrix.prototype.constructor=DenseMatrix,DenseMatrix.prototype.type="DenseMatrix",DenseMatrix.prototype.isDenseMatrix=!0,DenseMatrix.prototype.getDataType=function(){return getArrayDataType(this._data,typeOf)},DenseMatrix.prototype.storage=function(){return"dense"},DenseMatrix.prototype.datatype=function(){return this._datatype},DenseMatrix.prototype.create=function(n,a){return new DenseMatrix(n,a)},DenseMatrix.prototype.subset=function(n,a,b){switch(arguments.length){case 1:return function(n,a){if(!isIndex(a))throw TypeError("Invalid index");if(h.legacySubset?a.size().every(n=>1===n):a.isScalar())return n.get(a.min());var b,N,w,_=a.size();if(_.length!==n._size.length)throw new DimensionError(_.length,n._size.length);for(var D=a.min(),E=a.max(),A=0,M=n._size.length;A<M;A++)validateIndex(D[A],n._size[A]),validateIndex(E[A],n._size[A]);var B=new DenseMatrix,I=(b=n._data,w=Array(N=a.size().length-1),{data:function getSubmatrixRecursive(n){var h,b,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,D=a.dimension(_);return h=D,isNumber(D)?w[_]=null:w[_]=D.size()[0],b=_<N?a=>(validateIndex(a,n.length),getSubmatrixRecursive(n[a],_+1)):a=>(validateIndex(a,n.length),n[a]),isNumber(h)?b(h):h.map(b).valueOf()}(b),size:w.filter(n=>null!==n)});return B._size=I.size,B._datatype=n._datatype,B._data=I.data,h.legacySubset?B.reshape(a.size()):B}(this,n);case 2:case 3:return function(n,a,h,b){if(!a||!0!==a.isIndex)throw TypeError("Invalid index");var N,w=a.size(),_=a.isScalar();if(isMatrix(h)?(N=h.size(),h=h.valueOf()):N=arraySize(h),_){if(0!==N.length)throw TypeError("Scalar expected");n.set(a.min(),h,b)}else{if(!deepStrictEqual(N,w)){if(0===N.length)h=broadcastTo([h],w);else try{h=broadcastTo(h,w)}catch(n){}N=arraySize(h)}if(w.length<n._size.length)throw new DimensionError(w.length,n._size.length,"<");if(N.length<w.length){for(var D=0,E=0;1===w[D]&&1===N[D];)D++;for(;1===w[D];)E++,D++;h=unsqueeze(h,w.length,E,N)}if(!deepStrictEqual(w,N))throw new DimensionError(w,N,">");_fit(n,a.max().map(function(n){return n+1}),b),function(n,a,h){var b=a.size().length-1;(function setSubmatrixRecursive(n,h){var N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,w=a.dimension(N),recursiveCallback=(a,b)=>{validateIndex(a,n.length),setSubmatrixRecursive(n[a],h[b[0]],N+1)},finalCallback=(a,b)=>{validateIndex(a,n.length),n[a]=h[b[0]]};N<b?isNumber(w)?recursiveCallback(w,[0]):w.forEach(recursiveCallback):isNumber(w)?finalCallback(w,[0]):w.forEach(finalCallback)})(n,h)}(n._data,a,h)}return n}(this,n,a,b);default:throw SyntaxError("Wrong number of arguments")}},DenseMatrix.prototype.get=function(n){return array_get(this._data,n)},DenseMatrix.prototype.set=function(n,a,h){if(!_(n))throw TypeError("Array expected");if(n.length<this._size.length)throw new DimensionError(n.length,this._size.length,"<");_fit(this,n.map(function(n){return n+1}),h);var b,N,w,D=this._data;for(b=0,N=n.length-1;b<N;b++)validateIndex(w=n[b],D.length),D=D[w];return validateIndex(w=n[n.length-1],D.length),D[w]=a,this},DenseMatrix.prototype.resize=function(n,a,h){if(!isCollection(n))throw TypeError("Array or Matrix expected");var b=n.valueOf().map(n=>Array.isArray(n)&&1===n.length?n[0]:n);return _resize(h?this.clone():this,b,a)},DenseMatrix.prototype.reshape=function(n,a){var h=a?this.clone():this;h._data=reshape(h._data,n);var b=h._size.reduce((n,a)=>n*a);return h._size=processSizesWildcard(n,b),h},DenseMatrix.prototype.clone=function(){return new DenseMatrix({data:object_clone(this._data),size:object_clone(this._size),datatype:this._datatype})},DenseMatrix.prototype.size=function(){return this._size.slice(0)},DenseMatrix.prototype.map=function(n){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=this,b=h._size.length-1;if(b<0)return h.clone();var N=optimizeCallback(n,h,"map",a),w=N.fn,_=h.create(void 0,h._datatype);if(_._size=h._size,a||N.isUnary)return _._data=function iterateUnary(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=Array(n.length);if(a<b)for(var N=0;N<n.length;N++)h[N]=iterateUnary(n[N],a+1);else for(var _=0;_<n.length;_++)h[_]=w(n[_]);return h}(h._data),_;if(0===b){for(var D=h.valueOf(),E=Array(D.length),A=0;A<D.length;A++)E[A]=w(D[A],[A],h);return _._data=E,_}var M=[];return _._data=function iterate(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,N=Array(n.length);if(a<b)for(var _=0;_<n.length;_++)M[a]=_,N[_]=iterate(n[_],a+1);else for(var D=0;D<n.length;D++)M[a]=D,N[D]=w(n[D],M.slice(),h);return N}(h._data),_},DenseMatrix.prototype.forEach=function(n){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=this,b=h._size.length-1;if(!(b<0)){var N=optimizeCallback(n,h,"map",a),w=N.fn;if(a||N.isUnary){(function iterateUnary(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(a<b)for(var h=0;h<n.length;h++)iterateUnary(n[h],a+1);else for(var N=0;N<n.length;N++)w(n[N])})(h._data);return}if(0===b){for(var _=0;_<h._data.length;_++)w(h._data[_],[_],h);return}var D=[];(function iterate(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(a<b)for(var N=0;N<n.length;N++)D[a]=N,iterate(n[N],a+1);else for(var _=0;_<n.length;_++)D[a]=_,w(n[_],D.slice(),h)})(h._data)}},DenseMatrix.prototype[Symbol.iterator]=function*(){var n=this._size.length-1;if(!(n<0)){if(0===n){for(var a=0;a<this._data.length;a++)yield{value:this._data[a],index:[a]};return}for(var h=Array(n+1).fill(0),b=this._size.reduce((n,a)=>n*a,1),N=0;N<b;N++){for(var w=this._data,_=0;_<n;_++)w=w[h[_]];yield{value:w[h[n]],index:h.slice()};for(var D=n;D>=0&&(h[D]++,!(h[D]<this._size[D]));D--)h[D]=0}}},DenseMatrix.prototype.rows=function(){var n=[];if(2!==this.size().length)throw TypeError("Rows can only be returned for a 2D matrix.");for(var a of this._data)n.push(new DenseMatrix([a],this._datatype));return n},DenseMatrix.prototype.columns=function(){var n=this,a=[],h=this.size();if(2!==h.length)throw TypeError("Rows can only be returned for a 2D matrix.");for(var b=this._data,_loop=function(h){var N=b.map(n=>[n[h]]);a.push(new DenseMatrix(N,n._datatype))},N=0;N<h[1];N++)_loop(N);return a},DenseMatrix.prototype.toArray=function(){return object_clone(this._data)},DenseMatrix.prototype.valueOf=function(){return this._data},DenseMatrix.prototype.format=function(n){return string_format(this._data,n)},DenseMatrix.prototype.toString=function(){return string_format(this._data)},DenseMatrix.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},DenseMatrix.prototype.diagonal=function(n){if(n){if(isBigNumber(n)&&(n=n.toNumber()),!isNumber(n)||!isInteger(n))throw TypeError("The parameter k must be an integer number")}else n=0;for(var a=n>0?n:0,h=n<0?-n:0,b=Math.min(this._size[0]-h,this._size[1]-a),N=[],w=0;w<b;w++)N[w]=this._data[w+h][w+a];return new DenseMatrix({data:N,size:[b],datatype:this._datatype})},DenseMatrix.diagonal=function(n,a,h,b){if(!_(n))throw TypeError("Array expected, size parameter");if(2!==n.length)throw Error("Only two dimensions matrix are supported");if(n=n.map(function(n){if(isBigNumber(n)&&(n=n.toNumber()),!isNumber(n)||!isInteger(n)||n<1)throw Error("Size values must be positive integers");return n}),h){if(isBigNumber(h)&&(h=h.toNumber()),!isNumber(h)||!isInteger(h))throw TypeError("The parameter k must be an integer number")}else h=0;var N,w=h>0?h:0,D=h<0?-h:0,E=n[0],A=n[1],M=Math.min(E-D,A-w);if(_(a)){if(a.length!==M)throw Error("Invalid value array length");N=function(n){return a[n]}}else if(isMatrix(a)){var B=a.size();if(1!==B.length||B[0]!==M)throw Error("Invalid matrix length");N=function(n){return a.get([n])}}else N=function(){return a};b||(b=isBigNumber(N(0))?N(0).mul(0):0);var I=[];if(n.length>0){I=array_resize(I,n,b);for(var z=0;z<M;z++)I[z+D][z+w]=N(z)}return new DenseMatrix({data:I,size:[E,A]})},DenseMatrix.fromJSON=function(n){return new DenseMatrix(n)},DenseMatrix.prototype.swapRows=function(n,a){if(!isNumber(n)||!isInteger(n)||!isNumber(a)||!isInteger(a))throw Error("Row index must be positive integers");if(2!==this._size.length)throw Error("Only two dimensional matrix is supported");return validateIndex(n,this._size[0]),validateIndex(a,this._size[0]),DenseMatrix._swapRows(n,a,this._data),this},DenseMatrix._swapRows=function(n,a,h){var b=h[n];h[n]=h[a],h[a]=b},DenseMatrix},{isClass:!0}),ic=factory_factory("replacer",[],()=>function(n,a){return"number"==typeof a&&(!isFinite(a)||isNaN(a))?{mathjs:"number",value:String(a)}:"bigint"==typeof a?{mathjs:"bigint",value:String(a)}:a}),_createTyped2=function(){return _createTyped2=rr.create,rr},il=factory_factory("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(n){var{BigNumber:a,Complex:h,DenseMatrix:b,Fraction:N}=n,w=_createTyped2();return w.clear(),w.addTypes([{name:"number",test:isNumber},{name:"Complex",test:isComplex},{name:"BigNumber",test:isBigNumber},{name:"bigint",test:isBigInt},{name:"Fraction",test:isFraction},{name:"Unit",test:isUnit},{name:"identifier",test:n=>isString&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(n)},{name:"string",test:isString},{name:"Chain",test:isChain},{name:"Array",test:_},{name:"Matrix",test:isMatrix},{name:"DenseMatrix",test:isDenseMatrix},{name:"SparseMatrix",test:isSparseMatrix},{name:"Range",test:isRange},{name:"Index",test:isIndex},{name:"boolean",test:isBoolean},{name:"ResultSet",test:isResultSet},{name:"Help",test:isHelp},{name:"function",test:isFunction},{name:"Date",test:isDate},{name:"RegExp",test:isRegExp},{name:"null",test:isNull},{name:"undefined",test:isUndefined},{name:"AccessorNode",test:isAccessorNode},{name:"ArrayNode",test:isArrayNode},{name:"AssignmentNode",test:isAssignmentNode},{name:"BlockNode",test:isBlockNode},{name:"ConditionalNode",test:isConditionalNode},{name:"ConstantNode",test:isConstantNode},{name:"FunctionNode",test:isFunctionNode},{name:"FunctionAssignmentNode",test:isFunctionAssignmentNode},{name:"IndexNode",test:isIndexNode},{name:"Node",test:isNode},{name:"ObjectNode",test:isObjectNode},{name:"OperatorNode",test:isOperatorNode},{name:"ParenthesisNode",test:isParenthesisNode},{name:"RangeNode",test:isRangeNode},{name:"RelationalNode",test:isRelationalNode},{name:"SymbolNode",test:isSymbolNode},{name:"Map",test:is_isMap},{name:"Object",test:is_isObject}]),w.addConversions([{from:"number",to:"BigNumber",convert:function(n){if(a||throwNoBignumber(n),n.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+n+"). Use function bignumber(x) to convert to BigNumber.");return new a(n)}},{from:"number",to:"Complex",convert:function(n){return h||throwNoComplex(n),new h(n,0)}},{from:"BigNumber",to:"Complex",convert:function(n){return h||throwNoComplex(n),new h(n.toNumber(),0)}},{from:"bigint",to:"number",convert:function(n){if(n>Number.MAX_SAFE_INTEGER)throw TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+n+")");return Number(n)}},{from:"bigint",to:"BigNumber",convert:function(n){return a||throwNoBignumber(n),new a(n.toString())}},{from:"bigint",to:"Fraction",convert:function(n){return N||throwNoFraction(n),new N(n)}},{from:"Fraction",to:"BigNumber",convert:function(n){throw TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(n){return h||throwNoComplex(n),new h(n.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(n){N||throwNoFraction(n);var a=new N(n);if(a.valueOf()!==n)throw TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+n+"). Use function fraction(x) to convert to Fraction.");return a}},{from:"string",to:"number",convert:function(n){var a=Number(n);if(isNaN(a))throw Error('Cannot convert "'+n+'" to a number');return a}},{from:"string",to:"BigNumber",convert:function(n){a||throwNoBignumber(n);try{return new a(n)}catch(a){throw Error('Cannot convert "'+n+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(n){try{return BigInt(n)}catch(a){throw Error('Cannot convert "'+n+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(n){N||throwNoFraction(n);try{return new N(n)}catch(a){throw Error('Cannot convert "'+n+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(n){h||throwNoComplex(n);try{return new h(n)}catch(a){throw Error('Cannot convert "'+n+'" to Complex')}}},{from:"boolean",to:"number",convert:function(n){return+n}},{from:"boolean",to:"BigNumber",convert:function(n){return a||throwNoBignumber(n),new a(+n)}},{from:"boolean",to:"bigint",convert:function(n){return BigInt(+n)}},{from:"boolean",to:"Fraction",convert:function(n){return N||throwNoFraction(n),new N(+n)}},{from:"boolean",to:"string",convert:function(n){return String(n)}},{from:"Array",to:"Matrix",convert:function(n){return b||function(){throw Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new b(n)}},{from:"Matrix",to:"Array",convert:function(n){return n.valueOf()}}]),w.onMismatch=(n,a,h)=>{var b=w.createError(n,a,h);if(["wrongType","mismatch"].includes(b.data.category)&&1===a.length&&isCollection(a[0])&&h.some(n=>!n.params.includes(","))){var N=TypeError("Function '".concat(n,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(n,")'."));throw N.data=b.data,N}throw b},w.onMismatch=(n,a,h)=>{var b=w.createError(n,a,h);if(["wrongType","mismatch"].includes(b.data.category)&&1===a.length&&isCollection(a[0])&&h.some(n=>!n.params.includes(","))){var N=TypeError("Function '".concat(n,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(n,")'."));throw N.data=b.data,N}throw b},w});function throwNoBignumber(n){throw Error("Cannot convert value ".concat(n," into a BigNumber: no class 'BigNumber' provided"))}function throwNoComplex(n){throw Error("Cannot convert value ".concat(n," into a Complex number: no class 'Complex' provided"))}function throwNoFraction(n){throw Error("Cannot convert value ".concat(n," into a Fraction, no class 'Fraction' provided."))}var im="number",ip="number, number";function absNumber(n){return Math.abs(n)}function addNumber(n,a){return n+a}function subtractNumber(n,a){return n-a}function multiplyNumber(n,a){return n*a}function unaryMinusNumber(n){return-n}function unaryPlusNumber(n){return n}function cbrtNumber(n){return z(n)}function cubeNumber(n){return n*n*n}function expNumber(n){return Math.exp(n)}function expm1Number(n){return q(n)}function lcmNumber(n,a){if(!isInteger(n)||!isInteger(a))throw Error("Parameters in function lcm must be integer numbers");if(0===n||0===a)return 0;for(var h,b=n*a;0!==a;)a=n%(h=a),n=h;return Math.abs(b/n)}function logNumber(n,a){return a?Math.log(n)/Math.log(a):Math.log(n)}function log10Number(n){return B(n)}function log2Number(n){return M(n)}function arithmetic_nthRootNumber(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,h=a<0;if(h&&(a=-a),0===a)throw Error("Root must be non-zero");if(n<0&&Math.abs(a)%2!=1)throw Error("Root must be odd when a is negative.");if(0===n)return h?1/0:0;if(!isFinite(n))return h?0:n;var b=Math.pow(Math.abs(n),1/a);return b=n<0?-b:b,h?1/b:b}function signNumber(n){return A(n)}function squareNumber(n){return n*n}function xgcdNumber(n,a){var h,b,N,w=0,_=1,D=1,E=0;if(!isInteger(n)||!isInteger(a))throw Error("Parameters in function xgcd must be integer numbers");for(;a;)b=Math.floor(n/a),N=n-b*a,h=w,w=_-b*w,_=h,h=D,D=E-b*D,E=h,n=a,a=N;return n<0?[-n,-_,-E]:[n,n?_:0,E]}function powNumber(n,a){return n*n<1&&a===1/0||n*n>1&&a===-1/0?0:Math.pow(n,a)}function roundNumber(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!isInteger(a)||a<0||a>15)throw Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(toFixed(n,a))}absNumber.signature=im,addNumber.signature=ip,subtractNumber.signature=ip,multiplyNumber.signature=ip,unaryMinusNumber.signature=im,unaryPlusNumber.signature=im,cbrtNumber.signature=im,cubeNumber.signature=im,expNumber.signature=im,expm1Number.signature=im,lcmNumber.signature=ip,log10Number.signature=im,log2Number.signature=im,signNumber.signature=im,squareNumber.signature=im,xgcdNumber.signature=ip,powNumber.signature=ip;var id=factory_factory("abs",["typed"],n=>{var{typed:a}=n;return a("abs",{number:absNumber,"Complex | BigNumber | Fraction | Unit":n=>n.abs(),bigint:n=>n<0n?-n:n,"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n,!0))})}),ih="acos",ig=factory_factory(ih,["typed","config","Complex"],n=>{var{typed:a,config:h,Complex:b}=n;return a(ih,{number:function(n){return n>=-1&&n<=1||h.predictable?Math.acos(n):new b(n,0).acos()},Complex:function(n){return n.acos()},BigNumber:function(n){return n.acos()}})}),iy="number";function acotNumber(n){return Math.atan(1/n)}function acothNumber(n){return isFinite(n)?(Math.log((n+1)/n)+Math.log(n/(n-1)))/2:0}function acscNumber(n){return Math.asin(1/n)}function acschNumber(n){var a=1/n;return Math.log(a+Math.sqrt(a*a+1))}function asecNumber(n){return Math.acos(1/n)}function asechNumber(n){var a=1/n;return Math.log(Math.sqrt(a*a-1)+a)}function asinhNumber(n){return L(n)}function cotNumber(n){return 1/Math.tan(n)}function cothNumber(n){var a=Math.exp(2*n);return(a+1)/(a-1)}function cscNumber(n){return 1/Math.sin(n)}function cschNumber(n){return 0===n?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(n)-Math.exp(-n)))*A(n)}function secNumber(n){return 1/Math.cos(n)}function sechNumber(n){return 2/(Math.exp(n)+Math.exp(-n))}function sinhNumber(n){return V(n)}acotNumber.signature=iy,acothNumber.signature=iy,acscNumber.signature=iy,acschNumber.signature=iy,asecNumber.signature=iy,asechNumber.signature=iy,asinhNumber.signature=iy,cotNumber.signature=iy,cothNumber.signature=iy,cscNumber.signature=iy,cschNumber.signature=iy,secNumber.signature=iy,sechNumber.signature=iy,sinhNumber.signature=iy;var iv="acot",ix=factory_factory(iv,["typed","BigNumber"],n=>{var{typed:a,BigNumber:h}=n;return a(iv,{number:acotNumber,Complex:function(n){return n.acot()},BigNumber:function(n){return new h(1).div(n).atan()}})}),ib="acsc",iN=factory_factory(ib,["typed","config","Complex","BigNumber"],n=>{var{typed:a,config:h,Complex:b,BigNumber:N}=n;return a(ib,{number:function(n){return n<=-1||n>=1||h.predictable?acscNumber(n):new b(n,0).acsc()},Complex:function(n){return n.acsc()},BigNumber:function(n){return new N(1).div(n).asin()}})}),iw="addScalar",i_=factory_factory(iw,["typed"],n=>{var{typed:a}=n;return a(iw,{"number, number":addNumber,"Complex, Complex":function(n,a){return n.add(a)},"BigNumber, BigNumber":function(n,a){return n.plus(a)},"bigint, bigint":function(n,a){return n+a},"Fraction, Fraction":function(n,a){return n.add(a)},"Unit, Unit":a.referToSelf(n=>(h,b)=>{if(null===h.value||void 0===h.value)throw Error("Parameter x contains a unit with undefined value");if(null===b.value||void 0===b.value)throw Error("Parameter y contains a unit with undefined value");if(!h.equalBase(b))throw Error("Units do not match");var N=h.clone();return N.value=a.find(n,[N.valueType(),b.valueType()])(N.value,b.value),N.fixPrefix=!1,N})})}),iD=factory_factory("arg",["typed"],n=>{var{typed:a}=n;return a("arg",{number:function(n){return Math.atan2(0,n)},BigNumber:function(n){return n.constructor.atan2(0,n)},Complex:function(n){return n.arg()},"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n))})}),iE="asech",iA=factory_factory(iE,["typed","config","Complex","BigNumber"],n=>{var{typed:a,config:h,Complex:b,BigNumber:N}=n;return a(iE,{number:function(n){if(n<=1&&n>=-1||h.predictable){var a=1/n;if(a>0||h.predictable)return asechNumber(n);var N=Math.sqrt(a*a-1);return new b(Math.log(N-a),Math.PI)}return new b(n,0).asech()},Complex:function(n){return n.asech()},BigNumber:function(n){return new N(1).div(n).acosh()}})}),iC=factory_factory("asinh",["typed"],n=>{var{typed:a}=n;return a("asinh",{number:asinhNumber,Complex:function(n){return n.asinh()},BigNumber:function(n){return n.asinh()}})}),iS=factory_factory("atan",["typed"],n=>{var{typed:a}=n;return a("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()}})}),iM="atanh",iF=factory_factory(iM,["typed","config","Complex"],n=>{var{typed:a,config:h,Complex:b}=n;return a(iM,{number:function(n){return n<=1&&n>=-1||h.predictable?H(n):new b(n,0).atanh()},Complex:function(n){return n.atanh()},BigNumber:function(n){return n.atanh()}})}),iT=factory_factory("bigint",["typed"],n=>{var{typed:a}=n,h=a("bigint",{"":function(){return 0n},bigint:function(n){return n},number:function(n){return BigInt(n.toFixed())},BigNumber:function(n){return BigInt(n.round().toString())},Fraction:function(n){return BigInt(n.valueOf().toFixed())},"string | boolean":function(n){return BigInt(n)},null:function(n){return 0n},"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n))});return h.fromJSON=function(n){return BigInt(n.value)},h}),iO="bitNot",iB=factory_factory(iO,["typed"],n=>{var{typed:a}=n;return a(iO,{number:bitNotNumber,BigNumber:bitNotBigNumber,bigint:n=>~n,"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n))})}),iI="boolean",ik=factory_factory(iI,["typed"],n=>{var{typed:a}=n;return a(iI,{"":function(){return!1},boolean:function(n){return n},number:function(n){return!!n},null:function(n){return!1},BigNumber:function(n){return!n.isZero()},string:function(n){var a=n.toLowerCase();if("true"===a)return!0;if("false"===a)return!1;var h=Number(n);if(""!==n&&!isNaN(h))return!!h;throw Error('Cannot convert "'+n+'" to a boolean')},"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n))})}),iP="clone",iz=factory_factory(iP,["typed"],n=>{var{typed:a}=n;return a(iP,{any:object_clone})});function product_product(n,a){if(a<n)return 1;if(a===n)return a;var h=a+n>>1;return product_product(n,h)*product_product(h+1,a)}function combinationsNumber(n,a){if(!isInteger(n)||n<0||!isInteger(a)||a<0)throw TypeError("Positive integer value expected in function combinations");if(a>n)throw TypeError("k must be less than or equal to n");for(var h=n-a,b=1,N=a<h?h+1:a+1,w=2,_=a<h?a:h,D=N;D<=n;++D)for(b*=D;w<=_&&b%w==0;)b/=w,++w;return w<=_&&(b/=product_product(w,_)),b}combinationsNumber.signature="number, number";var iR="combinations",iq=factory_factory(iR,["typed"],n=>{var{typed:a}=n;return a(iR,{"number, number":combinationsNumber,"BigNumber, BigNumber":function(n,a){var h,b,N=n.constructor,w=n.minus(a),_=new N(1);if(!isPositiveInteger(n)||!isPositiveInteger(a))throw TypeError("Positive integer value expected in function combinations");if(a.gt(n))throw TypeError("k must be less than n in function combinations");if(h=_,a.lt(w))for(b=_;b.lte(w);b=b.plus(_))h=h.times(a.plus(b)).dividedBy(b);else for(b=_;b.lte(a);b=b.plus(_))h=h.times(w.plus(b)).dividedBy(b);return h}})});function isPositiveInteger(n){return n.isInteger()&&n.gte(0)}var ij=factory_factory("complex",["typed","Complex"],n=>{var{typed:a,Complex:h}=n;return a("complex",{"":function(){return h.ZERO},number:function(n){return new h(n,0)},"number, number":function(n,a){return new h(n,a)},"BigNumber, BigNumber":function(n,a){return new h(n.toNumber(),a.toNumber())},Fraction:function(n){return new h(n.valueOf(),0)},Complex:function(n){return n.clone()},string:function(n){return h(n)},null:function(n){return h(0)},Object:function(n){if("re"in n&&"im"in n)return new h(n.re,n.im);if("r"in n&&"phi"in n||"abs"in n&&"arg"in n)return new h(n);throw Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n))})}),iU="conj",iL=factory_factory(iU,["typed"],n=>{var{typed:a}=n;return a(iU,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),Unit:a.referToSelf(n=>a=>new a.constructor(n(a.toNumeric()),a.formatUnits())),"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n))})}),iH=factory_factory("trigUnit",["typed"],n=>{var{typed:a}=n;return{Unit:a.referToSelf(n=>h=>{if(!h.hasBase(h.constructor.BASE_UNITS.ANGLE))throw TypeError("Unit in function cot is no angle");return a.find(n,h.valueType())(h.value)})}}),i$=factory_factory("cos",["typed"],n=>{var{typed:a}=n,h=iH({typed:a});return a("cos",{number:Math.cos,"Complex | BigNumber":n=>n.cos()},h)}),iV=factory_factory("cot",["typed","BigNumber"],n=>{var{typed:a,BigNumber:h}=n,b=iH({typed:a});return a("cot",{number:cotNumber,Complex:n=>n.cot(),BigNumber:n=>new h(1).div(n.tan())},b)}),iG=factory_factory("csc",["typed","BigNumber"],n=>{var{typed:a,BigNumber:h}=n,b=iH({typed:a});return a("csc",{number:cscNumber,Complex:n=>n.csc(),BigNumber:n=>new h(1).div(n.sin())},b)}),iZ="cube",iW=factory_factory(iZ,["typed"],n=>{var{typed:a}=n;return a(iZ,{number:cubeNumber,Complex:function(n){return n.mul(n).mul(n)},BigNumber:function(n){return n.times(n).times(n)},bigint:function(n){return n*n*n},Fraction:function(n){return n.pow(3)},Unit:function(n){return n.pow(3)}})});function nearlyEqual_nearlyEqual(n,a){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-9,b=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(h<=0)throw Error("Relative tolerance must be greater than 0");if(b<0)throw Error("Absolute tolerance must be at least 0");return!(n.isNaN()||a.isNaN())&&(n.isFinite()&&a.isFinite()?!!n.eq(a)||n.minus(a).abs().lte(n.constructor.max(n.constructor.max(n.abs(),a.abs()).mul(h),b)):n.eq(a))}var iY=factory_factory("compareUnits",["typed"],n=>{var{typed:a}=n;return{"Unit, Unit":a.referToSelf(n=>(h,b)=>{if(!h.equalBase(b))throw Error("Cannot compare units with different base");return a.find(n,[h.valueType(),b.valueType()])(h.value,b.value)})}}),iX="equalScalar",iJ=factory_factory(iX,["typed","config"],n=>{var{typed:a,config:h}=n,b=iY({typed:a});return a(iX,{"boolean, boolean":function(n,a){return n===a},"number, number":function(n,a){return nearlyEqual(n,a,h.relTol,h.absTol)},"BigNumber, BigNumber":function(n,a){return n.eq(a)||nearlyEqual_nearlyEqual(n,a,h.relTol,h.absTol)},"bigint, bigint":function(n,a){return n===a},"Fraction, Fraction":function(n,a){return n.equals(a)},"Complex, Complex":function(n,a){var b,N;return b=h.relTol,N=h.absTol,nearlyEqual(n.re,a.re,b,N)&&nearlyEqual(n.im,a.im,b,N)}},b)});factory_factory(iX,["typed","config"],n=>{var{typed:a,config:h}=n;return a(iX,{"number, number":function(n,a){return nearlyEqual(n,a,h.relTol,h.absTol)}})});var iQ=factory_factory("erf",["typed"],n=>{var{typed:a}=n;return a("name",{number:function(n){var a=Math.abs(n);return a>=i3?A(n):a<=iK?A(n)*function(n){var a,h=n*n,b=i1[0][4]*h,N=h;for(a=0;a<3;a+=1)b=(b+i1[0][a])*h,N=(N+i2[0][a])*h;return n*(b+i1[0][3])/(N+i2[0][3])}(a):a<=4?A(n)*(1-function(n){var a,h=i1[1][8]*n,b=n;for(a=0;a<7;a+=1)h=(h+i1[1][a])*n,b=(b+i2[1][a])*n;var N=(h+i1[1][7])/(b+i2[1][7]),w=parseInt(16*n)/16;return Math.exp(-w*w)*Math.exp(-((n-w)*(n+w)))*N}(a)):A(n)*(1-function(n){var a,h=1/(n*n),b=i1[2][5]*h,N=h;for(a=0;a<4;a+=1)b=(b+i1[2][a])*h,N=(N+i2[2][a])*h;var w=h*(b+i1[2][4])/(N+i2[2][4]);w=(i0-w)/n,h=parseInt(16*n)/16;var _=(n-h)*(n+h);return Math.exp(-h*h)*Math.exp(-_)*w}(a))},"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n))})}),iK=.46875,i0=.5641895835477563,i1=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,6587491615298378e-19,.016315387137302097]],i2=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],i3=9007199254740992,i4=factory_factory("exp",["typed"],n=>{var{typed:a}=n;return a("exp",{number:expNumber,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})}),i5="expm1",i8=factory_factory(i5,["typed","Complex"],n=>{var{typed:a,Complex:h}=n;return a(i5,{number:expm1Number,Complex:function(n){var a=Math.exp(n.re);return new h(a*Math.cos(n.im)-1,a*Math.sin(n.im))},BigNumber:function(n){return n.exp().minus(1)}})}),i6="flatten",i7=factory_factory(i6,["typed"],n=>{var{typed:a}=n;return a(i6,{Array:function(n){return flatten(n)},DenseMatrix:function(n){return n.create(flatten(n.valueOf(),!0),n.datatype())},SparseMatrix:function(n){throw TypeError("SparseMatrix is not supported by function flatten because it does not support 1D vectors. Convert to a DenseMatrix or Array first. Example: flatten(x.toArray())")}})}),i9="format",ar=factory_factory(i9,["typed"],n=>{var{typed:a}=n;return a(i9,{any:string_format,"any, Object | function | number | BigNumber":string_format})}),at="getMatrixDataType",an=factory_factory(at,["typed"],n=>{var{typed:a}=n;return a(at,{Array:function(n){return getArrayDataType(n,typeOf)},Matrix:function(n){return n.getDataType()}})}),ai=factory_factory("hex",["typed","format"],n=>{var{typed:a,format:h}=n;return a("hex",{"number | BigNumber":function(n){return h(n,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(n,a){return h(n,{notation:"hex",wordSize:a})}})}),aa=factory_factory("im",["typed"],n=>{var{typed:a}=n;return a("im",{number:()=>0,"BigNumber | Fraction":n=>n.mul(0),Complex:n=>n.im,"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n))})}),ao="isInteger",as=factory_factory(ao,["typed"],n=>{var{typed:a}=n;return a(ao,{number:isInteger,BigNumber:function(n){return n.isInt()},bigint:function(n){return!0},Fraction:function(n){return 1n===n.d},"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n))})});function isNaNNumber(n){return Number.isNaN(n)}isNaNNumber.signature="number";var au="isNegative",ac=factory_factory(au,["typed","config"],n=>{var{typed:a,config:h}=n;return a(au,{number:n=>!nearlyEqual(n,0,h.relTol,h.absTol)&&n<0,BigNumber:n=>!nearlyEqual_nearlyEqual(n,new n.constructor(0),h.relTol,h.absTol)&&n.isNeg()&&!n.isZero()&&!n.isNaN(),bigint:n=>n<0n,Fraction:n=>n.s<0n,Unit:a.referToSelf(n=>h=>a.find(n,h.valueType())(h.value)),"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n))})}),al="isPositive",af=factory_factory(al,["typed","config"],n=>{var{typed:a,config:h}=n;return a(al,{number:n=>!nearlyEqual(n,0,h.relTol,h.absTol)&&n>0,BigNumber:n=>!nearlyEqual_nearlyEqual(n,new n.constructor(0),h.relTol,h.absTol)&&!n.isNeg()&&!n.isZero()&&!n.isNaN(),bigint:n=>n>0n,Fraction:n=>n.s>0n&&n.n>0n,Unit:a.referToSelf(n=>h=>a.find(n,h.valueType())(h.value)),"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n))})}),am="isZero",ap=factory_factory(am,["typed","equalScalar"],n=>{var{typed:a,equalScalar:h}=n;return a(am,{"number | BigNumber | Complex | Fraction":n=>h(n,0),bigint:n=>0n===n,Unit:a.referToSelf(n=>h=>a.find(n,h.valueType())(h.value)),"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n))})});function gammaNumber(n){if(isInteger(n))return n<=0?isFinite(n)?1/0:NaN:n>171?1/0:product_product(1,n-1);if(n<.5)return Math.PI/(Math.sin(Math.PI*n)*gammaNumber(1-n));if(n>=171.35)return 1/0;if(n>85){var a,h=n*n,b=h*n,N=b*n,w=N*n;return Math.sqrt(2*Math.PI/n)*Math.pow(n/Math.E,n)*(1+1/(12*n)+1/(288*h)-139/(51840*b)-571/(2488320*N)+163879/(209018880*w)+5246819/(75246796800*w*n))}--n,a=ah[0];for(var _=1;_<ah.length;++_)a+=ah[_]/(n+_);var D=n+ad+.5;return Math.sqrt(2*Math.PI)*Math.pow(D,n+.5)*Math.exp(-D)*a}gammaNumber.signature="number";var ad=4.7421875,ah=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-.00009837447530487956,1580887032249125e-19,-.00021026444172410488,21743961811521265e-20,-.0001643181065367639,8441822398385275e-20,-.000026190838401581408,36899182659531625e-22],ag=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-.000005395239384953];function lgammaNumber(n){if(n<0)return NaN;if(0===n)return 1/0;if(!isFinite(n))return n;if(n<.5)return Math.log(Math.PI/Math.sin(Math.PI*n))-lgammaNumber(1-n);for(var a=(n-=1)+5+.5,h=1.000000000190015,b=6;b>=1;b--)h+=ag[b]/(n+b);return .9189385332046728+(n+.5)*Math.log(a)-a+Math.log(h)}lgammaNumber.signature="number";var ay="lgamma",av=factory_factory(ay,["Complex","typed"],n=>{var{Complex:a,typed:h}=n,b=[-.029550653594771242,.00641025641025641,-.0019175269175269176,8417508417508417e-19,-.0005952380952380953,7936507936507937e-19,-.002777777777777778,.08333333333333333];return h(ay,{number:lgammaNumber,Complex:function lgammaComplex(n){if(n.isNaN())return new a(NaN,NaN);if(0===n.im)return new a(lgammaNumber(n.re),0);if(n.re>=7||Math.abs(n.im)>=7)return lgammaStirling(n);if(n.re<=.1){var h,b=(!0^((h=n.im)>0||!(h<0)&&1/h==1/0)?-6.283185307179586:6.283185307179586)*Math.floor(.5*n.re+.25),N=n.mul(Math.PI).sin().log(),w=lgammaComplex(new a(1-n.re,-n.im));return new a(1.1447298858494002,b).sub(N).sub(w)}return n.im>=0?lgammaRecurrence(n):lgammaRecurrence(n.conjugate()).conjugate()},BigNumber:function(){throw Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function lgammaStirling(n){for(var h=n.sub(.5).mul(n.log()).sub(n).add(.9189385332046728),N=new a(1,0).div(n),w=N.div(n),_=-.029550653594771242,D=.00641025641025641,E=2*w.re,A=w.re*w.re+w.im*w.im,M=2;M<8;M++){var B=D;D=-A*_+b[M],_=E*_+B}var I=N.mul(w.mul(_).add(D));return h.add(I)}function lgammaRecurrence(n){var h=0,b=0,N=n;for(n=n.add(1);n.re<=7;){var w=(N=N.mul(n)).im<0?1:0;0!==w&&0===b&&h++,b=w,n=n.add(1)}return lgammaStirling(n).sub(N.log()).sub(new a(0,2*h*Math.PI*1))}});function promoteLogarithm(n,a,h,b){return function(N){if(N>0||h.predictable){if(N<=0)return NaN;var w=N.toString(16),_=w.substring(0,15);return n*(w.length-_.length)+a(Number("0x"+_))}return b(N.toNumber())}}var ax="log10",ab=log10Number(16),aN=factory_factory(ax,["typed","config","Complex"],n=>{var{typed:a,config:h,Complex:b}=n;function complexLog(n){return n.log().div(Math.LN10)}function complexLogNumber(n){return complexLog(new b(n,0))}return a(ax,{number:function(n){return n>=0||h.predictable?log10Number(n):complexLogNumber(n)},bigint:promoteLogarithm(ab,log10Number,h,complexLogNumber),Complex:complexLog,BigNumber:function(n){return!n.isNegative()||h.predictable?n.log():complexLogNumber(n.toNumber())},"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n))})}),aw="log2",a_=factory_factory(aw,["typed","config","Complex"],n=>{var{typed:a,config:h,Complex:b}=n;function complexLog2Number(n){return _log2Complex(new b(n,0))}return a(aw,{number:function(n){return n>=0||h.predictable?log2Number(n):complexLog2Number(n)},bigint:promoteLogarithm(4,log2Number,h,complexLog2Number),Complex:_log2Complex,BigNumber:function(n){return!n.isNegative()||h.predictable?n.log(2):complexLog2Number(n.toNumber())},"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n))});function _log2Complex(n){var a=Math.sqrt(n.re*n.re+n.im*n.im);return new b(Math.log2?Math.log2(a):Math.log(a)/Math.LN2,Math.atan2(n.im,n.re)/Math.LN2)}}),aD=factory_factory("multiplyScalar",["typed"],n=>{var{typed:a}=n;return a("multiplyScalar",{"number, number":multiplyNumber,"Complex, Complex":function(n,a){return n.mul(a)},"BigNumber, BigNumber":function(n,a){return n.times(a)},"bigint, bigint":function(n,a){return n*a},"Fraction, Fraction":function(n,a){return n.mul(a)},"number | Fraction | BigNumber | Complex, Unit":(n,a)=>a.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,a)=>n.multiply(a)})}),aE=factory_factory("not",["typed"],n=>{var{typed:a}=n;return a("not",{"null | undefined":()=>!0,number:notNumber,Complex:function(n){return 0===n.re&&0===n.im},BigNumber:function(n){return n.isZero()||n.isNaN()},bigint:n=>!n,Unit:a.referToSelf(n=>h=>a.find(n,h.valueType())(h.value)),"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n))})}),aA=factory_factory("number",["typed"],n=>{var{typed:a}=n,h=a("number",{"":function(){return 0},number:function(n){return n},string:function(n){if("NaN"===n)return NaN;var a,h,b=(h=(a=n).match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/))?{input:a,radix:({"0b":2,"0o":8,"0x":16})[h[1]],integerPart:h[2],fractionalPart:h[3]}:null;if(b)return function(n){for(var a=parseInt(n.integerPart,n.radix),h=0,b=0;b<n.fractionalPart.length;b++)h+=parseInt(n.fractionalPart[b],n.radix)/Math.pow(n.radix,b+1);var N=a+h;if(isNaN(N))throw SyntaxError('String "'+n.input+'" is not a valid number');return N}(b);var N=0,w=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);w&&(N=Number(w[2]),n=w[1]);var _=Number(n);if(isNaN(_))throw SyntaxError('String "'+n+'" is not a valid number');if(w){if(_>2**N-1)throw SyntaxError('String "'.concat(n,'" is out of range'));_>=2**(N-1)&&(_-=2**N)}return _},BigNumber:function(n){return n.toNumber()},bigint:function(n){return Number(n)},Fraction:function(n){return n.valueOf()},Unit:a.referToSelf(n=>a=>{var h=a.clone();return h.value=n(a.value),h}),null:function(n){return 0},"Unit, string | Unit":function(n,a){return n.toNumber(a)},"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n))});return h.fromJSON=function(n){return parseFloat(n.value)},h}),aC=factory_factory("oct",["typed","format"],n=>{var{typed:a,format:h}=n;return a("oct",{"number | BigNumber":function(n){return h(n,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(n,a){return h(n,{notation:"oct",wordSize:a})}})}),aS=h(6377),aM=aS(Date.now());function seededRNG_createRng(n){var a;return a=null===n?aM:aS(String(n)),function(){return a()}}var aF="pickRandom",aT=factory_factory(aF,["typed","config","?on"],n=>{var{typed:a,config:h,on:b}=n,N=seededRNG_createRng(h.randomSeed);return b&&b("config",function(n,a){n.randomSeed!==a.randomSeed&&(N=seededRNG_createRng(n.randomSeed))}),a(aF,{"Array | Matrix":function(n){return _pickRandom(n,{})},"Array | Matrix, Object":function(n,a){return _pickRandom(n,a)},"Array | Matrix, number":function(n,a){return _pickRandom(n,{number:a})},"Array | Matrix, Array | Matrix":function(n,a){return _pickRandom(n,{weights:a})},"Array | Matrix, Array | Matrix, number":function(n,a,h){return _pickRandom(n,{number:h,weights:a})},"Array | Matrix, number, Array | Matrix":function(n,a,h){return _pickRandom(n,{number:a,weights:h})}});function _pickRandom(n,a){var h,{number:b,weights:w,elementWise:_=!0}=a,D=void 0===b;D&&(b=1);var E=isMatrix(n)?n.create:isMatrix(w)?w.create:null;n=n.valueOf(),w&&(w=w.valueOf()),!0===_&&(n=flatten(n),w=flatten(w));var A=0;if(void 0!==w){if(w.length!==n.length)throw Error("Weights must have the same length as possibles");for(var M=0,B=w.length;M<B;M++){if(!isNumber(w[M])||w[M]<0)throw Error("Weights must be an array of positive numbers");A+=w[M]}}for(var I=n.length,z=[];z.length<b;){if(void 0===w)h=n[Math.floor(N()*I)];else for(var q=N()*A,j=0,L=n.length;j<L;j++)if((q-=w[j])<0){h=n[j];break}z.push(h)}return D?z[0]:E?E(z):z}});function randomMatrix(n,a){var h=[];if((n=n.slice(0)).length>1)for(var b=0,N=n.shift();b<N;b++)h.push(randomMatrix(n,a));else for(var w=0,_=n.shift();w<_;w++)h.push(a());return h}var aO="random",aB=factory_factory(aO,["typed","config","?on"],n=>{var{typed:a,config:h,on:b}=n,N=seededRNG_createRng(h.randomSeed);return b&&b("config",function(n,a){n.randomSeed!==a.randomSeed&&(N=seededRNG_createRng(n.randomSeed))}),a(aO,{"":()=>0+1*N(),number:n=>0+N()*(n-0),"number, number":(n,a)=>n+N()*(a-n),"Array | Matrix":n=>_randomMatrix(n,0,1),"Array | Matrix, number":(n,a)=>_randomMatrix(n,0,a),"Array | Matrix, number, number":(n,a,h)=>_randomMatrix(n,a,h)});function _randomMatrix(n,a,h){var b=randomMatrix(n.valueOf(),()=>a+N()*(h-a));return isMatrix(n)?n.create(b,"number"):b}}),aI=factory_factory("re",["typed"],n=>{var{typed:a}=n;return a("re",{"number | BigNumber | Fraction":n=>n,Complex:n=>n.re,"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n))})}),ak=factory_factory("sec",["typed","BigNumber"],n=>{var{typed:a,BigNumber:h}=n,b=iH({typed:a});return a("sec",{number:secNumber,Complex:n=>n.sec(),BigNumber:n=>new h(1).div(n.cos())},b)}),aP="sign",az=factory_factory(aP,["typed","BigNumber","Fraction","complex"],n=>{var{typed:a,BigNumber:h,complex:b,Fraction:N}=n;return a(aP,{number:signNumber,Complex:function(n){return 0===n.im?b(signNumber(n.re)):n.sign()},BigNumber:function(n){return new h(n.cmp(0))},bigint:function(n){return n>0n?1n:n<0n?-1n:0n},Fraction:function(n){return new N(0n===n.n?0:n.s)},"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n,!0)),Unit:a.referToSelf(n=>h=>{if(!h._isDerived()&&0!==h.units[0].unit.offset)throw TypeError("sign is ambiguous for units with offset");return a.find(n,h.valueType())(h.value)})})}),aR=factory_factory("sin",["typed"],n=>{var{typed:a}=n,h=iH({typed:a});return a("sin",{number:Math.sin,"Complex | BigNumber":n=>n.sin()},h)}),aq="size",aj=factory_factory(aq,["typed"],n=>{var{typed:a}=n;return a(aq,{Matrix:n=>n.size(),Array:arraySize,string:n=>[n.length],"number | Complex | BigNumber | Unit | boolean | null":n=>[]})}),aU=factory_factory("SparseMatrix",["typed","equalScalar","Matrix"],n=>{var{typed:a,equalScalar:h,Matrix:b}=n;function SparseMatrix(n,a){if(!(this instanceof SparseMatrix))throw SyntaxError("Constructor must be called with the new operator");if(a&&!isString(a))throw Error("Invalid datatype: "+a);if(isMatrix(n))"SparseMatrix"===n.type?(this._values=n._values?object_clone(n._values):void 0,this._index=object_clone(n._index),this._ptr=object_clone(n._ptr),this._size=object_clone(n._size),this._datatype=a||n._datatype):_createFromArray(this,n.valueOf(),a||n._datatype);else if(n&&_(n.index)&&_(n.ptr)&&_(n.size))this._values=n.values,this._index=n.index,this._ptr=n.ptr,this._size=n.size,this._datatype=a||n.datatype;else if(_(n))_createFromArray(this,n,a);else if(n)throw TypeError("Unsupported type of data ("+typeOf(n)+")");else this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=a}function _createFromArray(n,b,N){n._values=[],n._index=[],n._ptr=[],n._datatype=N;var w=b.length,D=0,E=h,A=0;if(isString(N)&&(E=a.find(h,[N,N])||h,A=a.convert(0,N)),w>0){var M=0;do{n._ptr.push(n._index.length);for(var B=0;B<w;B++){var I=b[B];if(_(I)){if(0===M&&D<I.length&&(D=I.length),M<I.length){var z=I[M];E(z,A)||(n._values.push(z),n._index.push(B))}}else 0===M&&D<1&&(D=1),E(I,A)||(n._values.push(I),n._index.push(B))}M++}while(M<D)}n._ptr.push(n._index.length),n._size=[w,D]}function _getValueIndex(n,a,h,b){if(h-a==0)return h;for(var N=a;N<h;N++)if(b[N]===n)return N;return a}function _insert(n,a,h,b,N,w,_){N.splice(n,0,b),w.splice(n,0,a);for(var D=h+1;D<_.length;D++)_[D]++}function _resize(n,b,N,w){var _,D,E,A=w||0,M=h,B=0;isString(n._datatype)&&(M=a.find(h,[n._datatype,n._datatype])||h,B=a.convert(0,n._datatype),A=a.convert(A,n._datatype));var I=!M(A,B),z=n._size[0],q=n._size[1];if(N>q){for(D=q;D<N;D++)if(n._ptr[D]=n._values.length,I)for(_=0;_<z;_++)n._values.push(A),n._index.push(_);n._ptr[N]=n._values.length}else N<q&&(n._ptr.splice(N+1,q-N),n._values.splice(n._ptr[N],n._values.length),n._index.splice(n._ptr[N],n._index.length));if(q=N,b>z){if(I){var j=0;for(D=0;D<q;D++){n._ptr[D]=n._ptr[D]+j,E=n._ptr[D+1]+j;var L=0;for(_=z;_<b;_++,L++)n._values.splice(E+L,0,A),n._index.splice(E+L,0,_),j++}n._ptr[q]=n._values.length}}else if(b<z){var H=0;for(D=0;D<q;D++){n._ptr[D]=n._ptr[D]-H;var $=n._ptr[D],V=n._ptr[D+1]-H;for(E=$;E<V;E++)(_=n._index[E])>b-1&&(n._values.splice(E,1),n._index.splice(E,1),H++)}n._ptr[D]=n._values.length}return n._size[0]=b,n._size[1]=N,n}function _toArray(n,a,h,b,N){var w,_,D=b[0],E=b[1],A=[];for(w=0;w<D;w++)for(_=0,A[w]=[];_<E;_++)A[w][_]=0;for(_=0;_<E;_++)for(var M=h[_],B=h[_+1],I=M;I<B;I++)A[w=a[I]][_]=n?N?object_clone(n[I]):n[I]:1;return A}return SparseMatrix.prototype=new b,SparseMatrix.prototype.createSparseMatrix=function(n,a){return new SparseMatrix(n,a)},Object.defineProperty(SparseMatrix,"name",{value:"SparseMatrix"}),SparseMatrix.prototype.constructor=SparseMatrix,SparseMatrix.prototype.type="SparseMatrix",SparseMatrix.prototype.isSparseMatrix=!0,SparseMatrix.prototype.getDataType=function(){return getArrayDataType(this._values,typeOf)},SparseMatrix.prototype.storage=function(){return"sparse"},SparseMatrix.prototype.datatype=function(){return this._datatype},SparseMatrix.prototype.create=function(n,a){return new SparseMatrix(n,a)},SparseMatrix.prototype.density=function(){var n=this._size[0],a=this._size[1];return 0!==n&&0!==a?this._index.length/(n*a):0},SparseMatrix.prototype.subset=function(n,a,h){if(!this._values)throw Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(n,a){if(!isIndex(a))throw TypeError("Invalid index");if(a.isScalar())return n.get(a.min());var h,b,N,w,_=a.size();if(_.length!==n._size.length)throw new DimensionError(_.length,n._size.length);var D=a.min(),E=a.max();for(h=0,b=n._size.length;h<b;h++)validateIndex(D[h],n._size[h]),validateIndex(E[h],n._size[h]);var A=n._values,M=n._index,B=n._ptr,I=a.dimension(0),z=a.dimension(1),q=[],j=[];function rowsCallback(n,a){j[n]=a[0],q[n]=!0}Number.isInteger(I)?rowsCallback(I,[0]):I.forEach(rowsCallback);var L=A?[]:void 0,H=[],$=[];function columnsCallback(n){for($.push(H.length),N=B[n],w=B[n+1];N<w;N++)!0===q[h=M[N]]&&(H.push(j[h]),L&&L.push(A[N]))}return Number.isInteger(z)?columnsCallback(z):z.forEach(columnsCallback),$.push(H.length),new SparseMatrix({values:L,index:H,ptr:$,size:_,datatype:n._datatype})}(this,n);case 2:case 3:return function(n,a,h,b){if(!a||!0!==a.isIndex)throw TypeError("Invalid index");var N,w=a.size(),_=a.isScalar();if(isMatrix(h)?(N=h.size(),h=h.toArray()):N=arraySize(h),_){if(0!==N.length)throw TypeError("Scalar expected");n.set(a.min(),h,b)}else{if(1!==w.length&&2!==w.length)throw new DimensionError(w.length,n._size.length,"<");if(N.length<w.length){for(var D=0,E=0;1===w[D]&&1===N[D];)D++;for(;1===w[D];)E++,D++;h=unsqueeze(h,w.length,E,N)}if(!deepStrictEqual(w,N))throw new DimensionError(w,N,">");if(1===w.length)_forEachIndex(a.dimension(0),(a,N)=>{validateIndex(a),n.set([a,0],h[N[0]],b)});else{var A=a.dimension(0),M=a.dimension(1);_forEachIndex(A,(a,N)=>{validateIndex(a),_forEachIndex(M,(w,_)=>{validateIndex(w),n.set([a,w],h[N[0]][_[0]],b)})})}}return n;function _forEachIndex(n,a){isNumber(n)?a(n,[0]):n.forEach(a)}}(this,n,a,h);default:throw SyntaxError("Wrong number of arguments")}},SparseMatrix.prototype.get=function(n){if(!_(n))throw TypeError("Array expected");if(n.length!==this._size.length)throw new DimensionError(n.length,this._size.length);if(!this._values)throw Error("Cannot invoke get on a Pattern only matrix");var a=n[0],h=n[1];validateIndex(a,this._size[0]),validateIndex(h,this._size[1]);var b=_getValueIndex(a,this._ptr[h],this._ptr[h+1],this._index);return b<this._ptr[h+1]&&this._index[b]===a?this._values[b]:0},SparseMatrix.prototype.set=function(n,b,N){if(!_(n))throw TypeError("Array expected");if(n.length!==this._size.length)throw new DimensionError(n.length,this._size.length);if(!this._values)throw Error("Cannot invoke set on a Pattern only matrix");var w=n[0],D=n[1],E=this._size[0],A=this._size[1],M=h,B=0;isString(this._datatype)&&(M=a.find(h,[this._datatype,this._datatype])||h,B=a.convert(0,this._datatype)),(w>E-1||D>A-1)&&(_resize(this,Math.max(w+1,E),Math.max(D+1,A),N),E=this._size[0],A=this._size[1]),validateIndex(w,E),validateIndex(D,A);var I=_getValueIndex(w,this._ptr[D],this._ptr[D+1],this._index);return I<this._ptr[D+1]&&this._index[I]===w?M(b,B)?function(n,a,h,b,N){h.splice(n,1),b.splice(n,1);for(var w=a+1;w<N.length;w++)N[w]--}(I,D,this._values,this._index,this._ptr):this._values[I]=b:M(b,B)||_insert(I,w,D,b,this._values,this._index,this._ptr),this},SparseMatrix.prototype.resize=function(n,a,h){if(!isCollection(n))throw TypeError("Array or Matrix expected");var b=n.valueOf().map(n=>Array.isArray(n)&&1===n.length?n[0]:n);if(2!==b.length)throw Error("Only two dimensions matrix are supported");return b.forEach(function(n){if(!isNumber(n)||!isInteger(n)||n<0)throw TypeError("Invalid size, must contain positive integers (size: "+string_format(b)+")")}),_resize(h?this.clone():this,b[0],b[1],a)},SparseMatrix.prototype.reshape=function(n,a){if(!_(n))throw TypeError("Array expected");if(2!==n.length)throw Error("Sparse matrices can only be reshaped in two dimensions");n.forEach(function(a){if(!isNumber(a)||!isInteger(a)||a<=-2||0===a)throw TypeError("Invalid size, must contain positive integers or -1 (size: "+string_format(n)+")")});var h=this._size[0]*this._size[1],b=(n=processSizesWildcard(n,h))[0]*n[1];if(h!==b)throw Error("Reshaping sparse matrix will result in the wrong number of elements");var N=a?this.clone():this;if(this._size[0]===n[0]&&this._size[1]===n[1])return N;for(var w=[],D=0;D<N._ptr.length;D++)for(var E=0;E<N._ptr[D+1]-N._ptr[D];E++)w.push(D);for(var A=N._values.slice(),M=N._index.slice(),B=0;B<N._index.length;B++){var I=M[B],z=w[B],q=I*N._size[1]+z;w[B]=q%n[1],M[B]=Math.floor(q/n[1])}N._values.length=0,N._index.length=0,N._ptr.length=n[1]+1,N._size=n.slice();for(var j=0;j<N._ptr.length;j++)N._ptr[j]=0;for(var L=0;L<A.length;L++){var H=M[L],$=w[L],V=A[L];_insert(_getValueIndex(H,N._ptr[$],N._ptr[$+1],N._index),H,$,V,N._values,N._index,N._ptr)}return N},SparseMatrix.prototype.clone=function(){return new SparseMatrix({values:this._values?object_clone(this._values):void 0,index:object_clone(this._index),ptr:object_clone(this._ptr),size:object_clone(this._size),datatype:this._datatype})},SparseMatrix.prototype.size=function(){return this._size.slice(0)},SparseMatrix.prototype.map=function(n,b){if(!this._values)throw Error("Cannot invoke map on a Pattern only matrix");var N=this,w=this._size[0],_=this._size[1],D=optimizeCallback(n,N,"map");return function(n,b,N,w,_,D,E){var A=[],M=[],B=[],I=h,z=0;isString(n._datatype)&&(I=a.find(h,[n._datatype,n._datatype])||h,z=a.convert(0,n._datatype));for(var invoke=function(n,a,h){var b=D(n,a,h);I(b,z)||(A.push(b),M.push(a))},q=w;q<=_;q++){B.push(A.length);var j=n._ptr[q],L=n._ptr[q+1];if(E)for(var H=j;H<L;H++){var $=n._index[H];$>=b&&$<=N&&invoke(n._values[H],$-b,q-w)}else{for(var V={},G=j;G<L;G++)V[n._index[G]]=n._values[G];for(var Z=b;Z<=N;Z++)invoke(Z in V?V[Z]:0,Z-b,q-w)}}return B.push(A.length),new SparseMatrix({values:A,index:M,ptr:B,size:[N-b+1,_-w+1]})}(this,0,w-1,0,_-1,function(n,a,h){return D.fn(n,[a,h],N)},b)},SparseMatrix.prototype.forEach=function(n,a){if(!this._values)throw Error("Cannot invoke forEach on a Pattern only matrix");for(var h=this._size[0],b=this._size[1],N=optimizeCallback(n,this,"forEach"),w=0;w<b;w++){var _=this._ptr[w],D=this._ptr[w+1];if(a)for(var E=_;E<D;E++){var A=this._index[E];N.fn(this._values[E],[A,w],this)}else{for(var M={},B=_;B<D;B++)M[this._index[B]]=this._values[B];for(var I=0;I<h;I++){var z=I in M?M[I]:0;N.fn(z,[I,w],this)}}}},SparseMatrix.prototype[Symbol.iterator]=function*(){if(!this._values)throw Error("Cannot iterate a Pattern only matrix");for(var n=this._size[1],a=0;a<n;a++)for(var h=this._ptr[a],b=this._ptr[a+1],N=h;N<b;N++){var w=this._index[N];yield{value:this._values[N],index:[w,a]}}},SparseMatrix.prototype.toArray=function(){return _toArray(this._values,this._index,this._ptr,this._size,!0)},SparseMatrix.prototype.valueOf=function(){return _toArray(this._values,this._index,this._ptr,this._size,!1)},SparseMatrix.prototype.format=function(n){for(var a=this._size[0],h=this._size[1],b=this.density(),N="Sparse Matrix ["+string_format(a,n)+" x "+string_format(h,n)+"] density: "+string_format(b,n)+"\n",w=0;w<h;w++)for(var _=this._ptr[w],D=this._ptr[w+1],E=_;E<D;E++)N+="\n    ("+string_format(this._index[E],n)+", "+string_format(w,n)+") ==> "+(this._values?string_format(this._values[E],n):"X");return N},SparseMatrix.prototype.toString=function(){return string_format(this.toArray())},SparseMatrix.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},SparseMatrix.prototype.diagonal=function(n){if(n){if(isBigNumber(n)&&(n=n.toNumber()),!isNumber(n)||!isInteger(n))throw TypeError("The parameter k must be an integer number")}else n=0;var a=n>0?n:0,h=n<0?-n:0,b=this._size[0],N=this._size[1],w=Math.min(b-h,N-a),_=[],D=[],E=[];E[0]=0;for(var A=a;A<N&&_.length<w;A++)for(var M=this._ptr[A],B=this._ptr[A+1],I=M;I<B;I++){var z=this._index[I];if(z===A-a+h){_.push(this._values[I]),D[_.length-1]=z-h;break}}return E.push(_.length),new SparseMatrix({values:_,index:D,ptr:E,size:[w,1]})},SparseMatrix.fromJSON=function(n){return new SparseMatrix(n)},SparseMatrix.diagonal=function(n,b,N,w,D){if(!_(n))throw TypeError("Array expected, size parameter");if(2!==n.length)throw Error("Only two dimensions matrix are supported");if(n=n.map(function(n){if(isBigNumber(n)&&(n=n.toNumber()),!isNumber(n)||!isInteger(n)||n<1)throw Error("Size values must be positive integers");return n}),N){if(isBigNumber(N)&&(N=N.toNumber()),!isNumber(N)||!isInteger(N))throw TypeError("The parameter k must be an integer number")}else N=0;var E,A=h,M=0;isString(D)&&(A=a.find(h,[D,D])||h,M=a.convert(0,D));var B=N>0?N:0,I=N<0?-N:0,z=n[0],q=n[1],j=Math.min(z-I,q-B);if(_(b)){if(b.length!==j)throw Error("Invalid value array length");E=function(n){return b[n]}}else if(isMatrix(b)){var L=b.size();if(1!==L.length||L[0]!==j)throw Error("Invalid matrix length");E=function(n){return b.get([n])}}else E=function(){return b};for(var H=[],$=[],V=[],G=0;G<q;G++){V.push(H.length);var Z=G-B;if(Z>=0&&Z<j){var W=E(Z);A(W,M)||($.push(Z+I),H.push(W))}}return V.push(H.length),new SparseMatrix({values:H,index:$,ptr:V,size:[z,q]})},SparseMatrix.prototype.swapRows=function(n,a){if(!isNumber(n)||!isInteger(n)||!isNumber(a)||!isInteger(a))throw Error("Row index must be positive integers");if(2!==this._size.length)throw Error("Only two dimensional matrix is supported");return validateIndex(n,this._size[0]),validateIndex(a,this._size[0]),SparseMatrix._swapRows(n,a,this._size[1],this._values,this._index,this._ptr),this},SparseMatrix._forEachRow=function(n,a,h,b,N){for(var w=b[n],_=b[n+1],D=w;D<_;D++)N(h[D],a[D])},SparseMatrix._swapRows=function(n,a,h,b,N,w){for(var _=0;_<h;_++){var D=w[_],E=w[_+1],A=_getValueIndex(n,D,E,N),M=_getValueIndex(a,D,E,N);if(A<E&&M<E&&N[A]===n&&N[M]===a){if(b){var B=b[A];b[A]=b[M],b[M]=B}continue}if(A<E&&N[A]===n&&(M>=E||N[M]!==a)){var I=b?b[A]:void 0;N.splice(M,0,a),b&&b.splice(M,0,I),N.splice(M<=A?A+1:A,1),b&&b.splice(M<=A?A+1:A,1);continue}if(M<E&&N[M]===a&&(A>=E||N[A]!==n)){var z=b?b[M]:void 0;N.splice(A,0,n),b&&b.splice(A,0,z),N.splice(A<=M?M+1:M,1),b&&b.splice(A<=M?M+1:M,1)}}},SparseMatrix},{isClass:!0}),aL="splitUnit",aH=factory_factory(aL,["typed"],n=>{var{typed:a}=n;return a(aL,{"Unit, Array":function(n,a){return n.splitUnit(a)}})}),a$="square",aV=factory_factory(a$,["typed"],n=>{var{typed:a}=n;return a(a$,{number:squareNumber,Complex:function(n){return n.mul(n)},BigNumber:function(n){return n.times(n)},bigint:function(n){return n*n},Fraction:function(n){return n.mul(n)},Unit:function(n){return n.pow(2)}})}),aG="string",aZ=factory_factory(aG,["typed"],n=>{var{typed:a}=n;return a(aG,{"":function(){return""},number:format,null:function(n){return"null"},boolean:function(n){return n+""},string:function(n){return n},"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n)),any:function(n){return String(n)}})}),aW="subtractScalar",aY=factory_factory(aW,["typed"],n=>{var{typed:a}=n;return a(aW,{"number, number":subtractNumber,"Complex, Complex":function(n,a){return n.sub(a)},"BigNumber, BigNumber":function(n,a){return n.minus(a)},"bigint, bigint":function(n,a){return n-a},"Fraction, Fraction":function(n,a){return n.sub(a)},"Unit, Unit":a.referToSelf(n=>(h,b)=>{if(null===h.value||void 0===h.value)throw Error("Parameter x contains a unit with undefined value");if(null===b.value||void 0===b.value)throw Error("Parameter y contains a unit with undefined value");if(!h.equalBase(b))throw Error("Units do not match");var N=h.clone();return N.value=a.find(n,[N.valueType(),b.valueType()])(N.value,b.value),N.fixPrefix=!1,N})})}),aX=factory_factory("tan",["typed"],n=>{var{typed:a}=n,h=iH({typed:a});return a("tan",{number:Math.tan,"Complex | BigNumber":n=>n.tan()},h)}),aJ="toBest",aQ=factory_factory(aJ,["typed"],n=>{var{typed:a}=n;return a(aJ,{Unit:n=>n.toBest(),"Unit, string":(n,a)=>n.toBest(a.split(",")),"Unit, string, Object":(n,a,h)=>n.toBest(a.split(","),h),"Unit, Array":(n,a)=>n.toBest(a),"Unit, Array, Object":(n,a,h)=>n.toBest(a,h)})}),aK="typeOf",a0=factory_factory(aK,["typed"],n=>{var{typed:a}=n;return a(aK,{any:typeOf})}),a1="acosh",a2=factory_factory(a1,["typed","config","Complex"],n=>{var{typed:a,config:h,Complex:b}=n;return a(a1,{number:function(n){return n>=1||h.predictable?j(n):n<=-1?new b(Math.log(Math.sqrt(n*n-1)-n),Math.PI):new b(n,0).acosh()},Complex:function(n){return n.acosh()},BigNumber:function(n){return n.acosh()}})}),a3="acsch",a4=factory_factory(a3,["typed","BigNumber"],n=>{var{typed:a,BigNumber:h}=n;return a(a3,{number:acschNumber,Complex:function(n){return n.acsch()},BigNumber:function(n){return new h(1).div(n).asinh()}})}),a5="asec",a8=factory_factory(a5,["typed","config","Complex","BigNumber"],n=>{var{typed:a,config:h,Complex:b,BigNumber:N}=n;return a(a5,{number:function(n){return n<=-1||n>=1||h.predictable?asecNumber(n):new b(n,0).asec()},Complex:function(n){return n.asec()},BigNumber:function(n){return new N(1).div(n).acos()}})}),a6=factory_factory("bignumber",["typed","BigNumber"],n=>{var{typed:a,BigNumber:h}=n;return a("bignumber",{"":function(){return new h(0)},number:function(n){return new h(n+"")},string:function(n){var a=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var b=a[2],N=h(a[1]),w=new h(2).pow(Number(b));if(N.gt(w.sub(1)))throw SyntaxError('String "'.concat(n,'" is out of range'));var _=new h(2).pow(Number(b)-1);return N.gte(_)?N.sub(w):N}return new h(n)},BigNumber:function(n){return n},bigint:function(n){return new h(n.toString())},Unit:a.referToSelf(n=>a=>{var h=a.clone();return h.value=n(a.value),h}),Fraction:function(n){return new h(String(n.n)).div(String(n.d)).times(String(n.s))},null:function(n){return new h(0)},"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n))})}),a7="combinationsWithRep",a9=factory_factory(a7,["typed"],n=>{var{typed:a}=n;return a(a7,{"number, number":function(n,a){if(!isInteger(n)||n<0||!isInteger(a)||a<0)throw TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw TypeError("k must be less than or equal to n + k - 1");return a<n-1?product_product(n,n+a-1)/product_product(1,a):product_product(a+1,n+a-1)/product_product(1,n-1)},"BigNumber, BigNumber":function(n,a){var h,b,N=new n.constructor(1),w=n.minus(N);if(!combinationsWithRep_isPositiveInteger(n)||!combinationsWithRep_isPositiveInteger(a))throw TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(N))throw TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(h=N,a.lt(w))for(b=N;b.lte(w);b=b.plus(N))h=h.times(a.plus(b)).dividedBy(b);else for(b=N;b.lte(a);b=b.plus(N))h=h.times(w.plus(b)).dividedBy(b);return h}})});function combinationsWithRep_isPositiveInteger(n){return n.isInteger()&&n.gte(0)}var oe="cosh",or=factory_factory(oe,["typed"],n=>{var{typed:a}=n;return a(oe,{number:$,"Complex | BigNumber":n=>n.cosh()})}),ot="csch",on=factory_factory(ot,["typed","BigNumber"],n=>{var{typed:a,BigNumber:h}=n;return a(ot,{number:cschNumber,Complex:n=>n.csch(),BigNumber:n=>new h(1).div(n.sinh())})}),oi=factory_factory("dot",["typed","addScalar","multiplyScalar","conj","size"],n=>{var{typed:a,addScalar:h,multiplyScalar:b,conj:N,size:w}=n;return a("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(n,_){var D=_validateDim(n,_),E=isMatrix(n)?n._data:n,A=isMatrix(n)?n._datatype||n.getDataType():void 0,M=isMatrix(_)?_._data:_,B=isMatrix(_)?_._datatype||_.getDataType():void 0,I=2===w(n).length,z=2===w(_).length,q=h,j=b;if(A&&B&&A===B&&"string"==typeof A&&"mixed"!==A&&(q=a.find(h,[A,A]),j=a.find(b,[A,A])),!I&&!z){for(var L=j(N(E[0]),M[0]),H=1;H<D;H++)L=q(L,j(N(E[H]),M[H]));return L}if(!I&&z){for(var $=j(N(E[0]),M[0][0]),V=1;V<D;V++)$=q($,j(N(E[V]),M[V][0]));return $}if(I&&!z){for(var G=j(N(E[0][0]),M[0]),Z=1;Z<D;Z++)G=q(G,j(N(E[Z][0]),M[Z]));return G}if(I&&z){for(var W=j(N(E[0][0]),M[0][0]),Y=1;Y<D;Y++)W=q(W,j(N(E[Y][0]),M[Y][0]));return W}},"SparseMatrix, SparseMatrix":function(n,a){_validateDim(n,a);for(var N=n._index,w=n._values,_=a._index,D=a._values,E=0,A=0,M=0;A<N.length&&M<_.length;){var B=N[A],I=_[M];if(B<I){A++;continue}if(B>I){M++;continue}B===I&&(E=h(E,b(w[A],D[M])),A++,M++)}return E}});function _validateDim(n,a){var h,b,N=w(n),_=w(a);if(1===N.length)h=N[0];else if(2===N.length&&1===N[1])h=N[0];else throw RangeError("Expected a column vector, instead got a matrix of size ("+N.join(", ")+")");if(1===_.length)b=_[0];else if(2===_.length&&1===_[1])b=_[0];else throw RangeError("Expected a column vector, instead got a matrix of size ("+_.join(", ")+")");if(h!==b)throw RangeError("Vectors must have equal length ("+h+" != "+b+")");if(0===h)throw RangeError("Cannot calculate the dot product of empty vectors");return h}}),oa="isNaN",oo=factory_factory(oa,["typed"],n=>{var{typed:a}=n;return a(oa,{number:isNaNNumber,BigNumber:function(n){return n.isNaN()},bigint:function(n){return!1},Fraction:function(n){return!1},Complex:function(n){return n.isNaN()},Unit:function(n){return Number.isNaN(n.value)},"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n))})}),os="isPrime",ou=factory_factory(os,["typed"],n=>{var{typed:a}=n;return a(os,{number:function(n){if(n<=3)return n>1;if(n%2==0||n%3==0)return!1;for(var a=5;a*a<=n;a+=6)if(n%a==0||n%(a+2)==0)return!1;return!0},bigint:function(n){if(n<=3n)return n>1n;if(n%2n===0n||n%3n===0n)return!1;for(var a=5n;a*a<=n;a+=6n)if(n%a===0n||n%(a+2n)===0n)return!1;return!0},BigNumber:function(n){if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(4294967296)){for(var a=n.toNumber(),h=5;h*h<=a;h+=6)if(a%h==0||a%(h+2)==0)return!1;return!0}n=new(n.constructor.clone({precision:2*n.toFixed(0).length}))(n);for(var b=0,N=n.sub(1);N.mod(2).eq(0);)N=N.div(2),b+=1;var w=null;if(n.lt("3317044064679887385961981"))w=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(a=>a<n);else{var _=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));w=[];for(var D=2;D<=_;D+=1)w.push(_)}for(var E=0;E<w.length;E+=1){var A=w[E],M=function(n,a,h){for(var b=1;!a.eq(0);)a.mod(2).eq(0)?(a=a.div(2),n=n.mul(n).mod(h)):(a=a.sub(1),b=n.mul(b).mod(h));return b}(n.sub(n).add(A),N,n);if(!M.eq(1)){for(var B=0,I=M;!I.eq(n.sub(1));B+=1,I=I.mul(I).mod(n))if(B===b-1)return!1}}return!0},"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n))})}),oc="matrix",ol=factory_factory(oc,["typed","Matrix","DenseMatrix","SparseMatrix"],n=>{var{typed:a,Matrix:h,DenseMatrix:b,SparseMatrix:N}=n;return a(oc,{"":function(){return _create([])},string:function(n){return _create([],n)},"string, string":function(n,a){return _create([],n,a)},Array:function(n){return _create(n)},Matrix:function(n){return _create(n,n.storage())},"Array | Matrix, string":_create,"Array | Matrix, string, string":_create});function _create(n,a,h){if("dense"===a||"default"===a||void 0===a)return new b(n,h);if("sparse"===a)return new N(n,h);throw TypeError("Unknown matrix type "+JSON.stringify(a)+".")}}),of="matrixFromFunction",om=factory_factory(of,["typed","matrix","isZero"],n=>{var{typed:a,matrix:h,isZero:b}=n;return a(of,{"Array | Matrix, function, string, string":function(n,a,h,b){return _create(n,a,h,b)},"Array | Matrix, function, string":function(n,a,h){return _create(n,a,h)},"Matrix, function":function(n,a){return _create(n,a,"dense")},"Array, function":function(n,a){return _create(n,a,"dense").toArray()},"Array | Matrix, string, function":function(n,a,h){return _create(n,h,a)},"Array | Matrix, string, string, function":function(n,a,h,b){return _create(n,b,a,h)}});function _create(n,a,N,w){var _;return(_=void 0!==w?h(N,w):h(N)).resize(n),_.forEach(function(n,h){var N=a(h);b(N)||_.set(h,N)}),_}}),op="multiply",od=factory_factory(op,["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],n=>{var{typed:a,matrix:h,addScalar:b,multiplyScalar:N,equalScalar:w,dot:_}=n,D=rb({typed:a,equalScalar:w}),E=rd({typed:a});function _validateMatrixDimensions(n,a){switch(n.length){case 1:switch(a.length){case 1:if(n[0]!==a[0])throw RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(n[0]!==a[0])throw RangeError("Dimension mismatch in multiplication. Vector length ("+n[0]+") must match Matrix rows ("+a[0]+")");break;default:throw Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+a.length+" dimensions)")}break;case 2:switch(a.length){case 1:if(n[1]!==a[0])throw RangeError("Dimension mismatch in multiplication. Matrix columns ("+n[1]+") must match Vector length ("+a[0]+")");break;case 2:if(n[1]!==a[0])throw RangeError("Dimension mismatch in multiplication. Matrix A columns ("+n[1]+") must match Matrix B rows ("+a[0]+")");break;default:throw Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+a.length+" dimensions)")}break;default:throw Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+n.length+" dimensions)")}}var A=a("_multiplyMatrixVector",{"DenseMatrix, any":function(n,h){var w,_=n._data,D=n._size,E=n._datatype||n.getDataType(),A=h._data,M=h._datatype||h.getDataType(),B=D[0],I=D[1],z=b,q=N;E&&M&&E===M&&"string"==typeof E&&"mixed"!==E&&(w=E,z=a.find(b,[w,w]),q=a.find(N,[w,w]));for(var j=[],L=0;L<B;L++){for(var H=_[L],$=q(H[0],A[0]),V=1;V<I;V++)$=z($,q(H[V],A[V]));j[L]=$}return n.createDenseMatrix({data:j,size:[B],datatype:E===n._datatype&&M===h._datatype?w:void 0})},"SparseMatrix, any":function(n,h){var _,D=n._values,E=n._index,A=n._ptr,M=n._datatype||void 0===n._data?n._datatype:n.getDataType();if(!D)throw Error("Cannot multiply Pattern only Matrix times Dense Matrix");var B=h._data,I=h._datatype||h.getDataType(),z=n._size[0],q=h._size[0],j=[],L=[],H=[],$=b,V=N,G=w,Z=0;M&&I&&M===I&&"string"==typeof M&&"mixed"!==M&&(_=M,$=a.find(b,[_,_]),V=a.find(N,[_,_]),G=a.find(w,[_,_]),Z=a.convert(0,_));var W=[],Y=[];H[0]=0;for(var X=0;X<q;X++){var J=B[X];if(!G(J,Z))for(var Q=A[X],K=A[X+1],ee=Q;ee<K;ee++){var er=E[ee];Y[er]?W[er]=$(W[er],V(J,D[ee])):(Y[er]=!0,L.push(er),W[er]=V(J,D[ee]))}}for(var et=L.length,en=0;en<et;en++){var ei=L[en];j[en]=W[ei]}return H[1]=L.length,n.createSparseMatrix({values:j,index:L,ptr:H,size:[z,1],datatype:M===n._datatype&&I===h._datatype?_:void 0})}}),M=a("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(n,h){var w,_=n._data,D=n._size,E=n._datatype||n.getDataType(),A=h._data,M=h._size,B=h._datatype||h.getDataType(),I=D[0],z=D[1],q=M[1],j=b,L=N;E&&B&&E===B&&"string"==typeof E&&"mixed"!==E&&"mixed"!==E&&(w=E,j=a.find(b,[w,w]),L=a.find(N,[w,w]));for(var H=[],$=0;$<I;$++){var V=_[$];H[$]=[];for(var G=0;G<q;G++){for(var Z=L(V[0],A[0][G]),W=1;W<z;W++)Z=j(Z,L(V[W],A[W][G]));H[$][G]=Z}}return n.createDenseMatrix({data:H,size:[I,q],datatype:E===n._datatype&&B===h._datatype?w:void 0})},"DenseMatrix, SparseMatrix":function(n,h){var _,D=n._data,E=n._size,A=n._datatype||n.getDataType(),M=h._values,B=h._index,I=h._ptr,z=h._size,q=h._datatype||void 0===h._data?h._datatype:h.getDataType();if(!M)throw Error("Cannot multiply Dense Matrix times Pattern only Matrix");var j=E[0],L=z[1],H=b,$=N,V=w,G=0;A&&q&&A===q&&"string"==typeof A&&"mixed"!==A&&(_=A,H=a.find(b,[_,_]),$=a.find(N,[_,_]),V=a.find(w,[_,_]),G=a.convert(0,_));for(var Z=[],W=[],Y=[],X=h.createSparseMatrix({values:Z,index:W,ptr:Y,size:[j,L],datatype:A===n._datatype&&q===h._datatype?_:void 0}),J=0;J<L;J++){Y[J]=W.length;var Q=I[J],K=I[J+1];if(K>Q)for(var ee=0,er=0;er<j;er++){for(var et=er+1,en=void 0,ei=Q;ei<K;ei++){var ea=B[ei];ee!==et?(en=$(D[er][ea],M[ei]),ee=et):en=H(en,$(D[er][ea],M[ei]))}ee!==et||V(en,G)||(W.push(er),Z.push(en))}}return Y[L]=W.length,X},"SparseMatrix, DenseMatrix":function(n,h){var _,D=n._values,E=n._index,A=n._ptr,M=n._datatype||void 0===n._data?n._datatype:n.getDataType();if(!D)throw Error("Cannot multiply Pattern only Matrix times Dense Matrix");var B=h._data,I=h._datatype||h.getDataType(),z=n._size[0],q=h._size[0],j=h._size[1],L=b,H=N,$=w,V=0;M&&I&&M===I&&"string"==typeof M&&"mixed"!==M&&(_=M,L=a.find(b,[_,_]),H=a.find(N,[_,_]),$=a.find(w,[_,_]),V=a.convert(0,_));for(var G=[],Z=[],W=[],Y=n.createSparseMatrix({values:G,index:Z,ptr:W,size:[z,j],datatype:M===n._datatype&&I===h._datatype?_:void 0}),X=[],J=[],Q=0;Q<j;Q++){W[Q]=Z.length;for(var K=Q+1,ee=0;ee<q;ee++){var er=B[ee][Q];if(!$(er,V))for(var et=A[ee],en=A[ee+1],ei=et;ei<en;ei++){var ea=E[ei];J[ea]!==K?(J[ea]=K,Z.push(ea),X[ea]=H(er,D[ei])):X[ea]=L(X[ea],H(er,D[ei]))}}for(var eo=W[Q],es=Z.length,eu=eo;eu<es;eu++){var ec=Z[eu];G[eu]=X[ec]}}return W[j]=Z.length,Y},"SparseMatrix, SparseMatrix":function(n,h){var w,_,D,E,A,M,B,I,z,q=n._values,j=n._index,L=n._ptr,H=n._datatype||void 0===n._data?n._datatype:n.getDataType(),$=h._values,V=h._index,G=h._ptr,Z=h._datatype||void 0===h._data?h._datatype:h.getDataType(),W=n._size[0],Y=h._size[1],X=q&&$,J=b,Q=N;H&&Z&&H===Z&&"string"==typeof H&&"mixed"!==H&&(w=H,J=a.find(b,[w,w]),Q=a.find(N,[w,w]));for(var K=X?[]:void 0,ee=[],er=[],et=n.createSparseMatrix({values:K,index:ee,ptr:er,size:[W,Y],datatype:H===n._datatype&&Z===h._datatype?w:void 0}),en=X?[]:void 0,ei=[],ea=0;ea<Y;ea++){er[ea]=ee.length;var eo=ea+1;for(M=G[ea],B=G[ea+1],A=M;A<B;A++)if(z=V[A],X)for(D=L[z],E=L[z+1],_=D;_<E;_++)ei[I=j[_]]!==eo?(ei[I]=eo,ee.push(I),en[I]=Q($[A],q[_])):en[I]=J(en[I],Q($[A],q[_]));else for(D=L[z],E=L[z+1],_=D;_<E;_++)ei[I=j[_]]!==eo&&(ei[I]=eo,ee.push(I));if(X)for(var es=er[ea],eu=ee.length,ec=es;ec<eu;ec++){var el=ee[ec];K[ec]=en[el]}}return er[Y]=ee.length,et}});return a(op,N,{"Array, Array":a.referTo("Matrix, Matrix",n=>(a,b)=>{_validateMatrixDimensions(arraySize(a),arraySize(b));var N=n(h(a),h(b));return isMatrix(N)?N.valueOf():N}),"Matrix, Matrix":function(n,h){var w=n.size(),D=h.size();return(_validateMatrixDimensions(w,D),1===w.length)?1===D.length?function(n,a,h){if(0===h)throw Error("Cannot multiply two empty vectors");return _(n,a)}(n,h,w[0]):function(n,h){if("dense"!==h.storage())throw Error("Support for SparseMatrix not implemented");return function(n,h){var w,_=n._data,D=n._size,E=n._datatype||n.getDataType(),A=h._data,M=h._size,B=h._datatype||h.getDataType(),I=D[0],z=M[1],q=b,j=N;E&&B&&E===B&&"string"==typeof E&&"mixed"!==E&&(w=E,q=a.find(b,[w,w]),j=a.find(N,[w,w]));for(var L=[],H=0;H<z;H++){for(var $=j(_[0],A[0][H]),V=1;V<I;V++)$=q($,j(_[V],A[V][H]));L[H]=$}return n.createDenseMatrix({data:L,size:[z],datatype:E===n._datatype&&B===h._datatype?w:void 0})}(n,h)}(n,h):1===D.length?A(n,h):M(n,h)},"Matrix, Array":a.referTo("Matrix,Matrix",n=>(a,b)=>n(a,h(b))),"Array, Matrix":a.referToSelf(n=>(a,b)=>n(h(a,b.storage()),b)),"SparseMatrix, any":function(n,a){return D(n,a,N,!1)},"DenseMatrix, any":function(n,a){return E(n,a,N,!1)},"any, SparseMatrix":function(n,a){return D(a,n,N,!0)},"any, DenseMatrix":function(n,a){return E(a,n,N,!0)},"Array, any":function(n,a){return E(h(n),a,N,!1).valueOf()},"any, Array":function(n,a){return E(h(a),n,N,!0).valueOf()},"any, any":N,"any, any, ...any":a.referToSelf(n=>(a,h,b)=>{for(var N=n(a,h),w=0;w<b.length;w++)N=n(N,b[w]);return N})})}),oh=factory_factory("ones",["typed","config","matrix","BigNumber"],n=>{var{typed:a,config:h,matrix:b,BigNumber:N}=n;return a("ones",{"":function(){return"Array"===h.matrix?_ones([]):_ones([],"default")},"...number | BigNumber | string":function(n){if("string"==typeof n[n.length-1]){var a=n.pop();return _ones(n,a)}return"Array"===h.matrix?_ones(n):_ones(n,"default")},Array:_ones,Matrix:function(n){var a=n.storage();return _ones(n.valueOf(),a)},"Array | Matrix, string":function(n,a){return _ones(n.valueOf(),a)}});function _ones(n,a){var h,w=(h=!1,n.forEach(function(n,a,b){isBigNumber(n)&&(h=!0,b[a]=n.toNumber())}),h)?new N(1):1;if(function(n){n.forEach(function(n){if("number"!=typeof n||!isInteger(n)||n<0)throw Error("Parameters in function ones must be positive integers")})}(n),a){var _=b(a);return n.length>0?_.resize(n,w):_}var D=[];return n.length>0?array_resize(D,n,w):D}}),og="randomInt",oy=factory_factory(og,["typed","config","log2","?on"],n=>{var{typed:a,config:h,log2:b,on:N}=n,w=seededRNG_createRng(h.randomSeed);return N&&N("config",function(n,a){n.randomSeed!==a.randomSeed&&(w=seededRNG_createRng(n.randomSeed))}),a(og,{"":()=>_randomInt(0,2),number:n=>_randomInt(0,n),"number, number":(n,a)=>_randomInt(n,a),bigint:n=>_randomBigint(0n,n),"bigint, bigint":_randomBigint,"Array | Matrix":n=>_randomIntMatrix(n,0,1),"Array | Matrix, number":(n,a)=>_randomIntMatrix(n,0,a),"Array | Matrix, number, number":(n,a,h)=>_randomIntMatrix(n,a,h)});function _randomIntMatrix(n,a,h){var b=randomMatrix(n.valueOf(),()=>_randomInt(a,h));return isMatrix(n)?n.create(b,"number"):b}function _randomInt(n,a){return Math.floor(n+w()*(a-n))}function _randomBigint(n,a){var h=a-n;if(h<=2n**30n)return n+BigInt(_randomInt(0,Number(h)));for(var N=b(h),_=h;_>=h;){_=0n;for(var D=0;D<N;++D)_=2n*_+(.5>w()?0n:1n)}return n+_}}),ov="reshape",ox=factory_factory(ov,["typed","isInteger","matrix"],n=>{var{typed:a,isInteger:h}=n;return a(ov,{"Matrix, Array":function(n,a){return n.reshape(a,!0)},"Array, Array":function(n,a){return a.forEach(function(n){if(!h(n))throw TypeError("Invalid size for dimension: "+n)}),reshape(n,a)}})}),ob="sech",oN=factory_factory(ob,["typed","BigNumber"],n=>{var{typed:a,BigNumber:h}=n;return a(ob,{number:sechNumber,Complex:n=>n.sech(),BigNumber:n=>new h(1).div(n.cosh())})}),ow="sinh",o_=factory_factory(ow,["typed"],n=>{var{typed:a}=n;return a(ow,{number:sinhNumber,"Complex | BigNumber":n=>n.sinh()})}),oD="sparse",oE=factory_factory(oD,["typed","SparseMatrix"],n=>{var{typed:a,SparseMatrix:h}=n;return a(oD,{"":function(){return new h([])},string:function(n){return new h([],n)},"Array | Matrix":function(n){return new h(n)},"Array | Matrix, string":function(n,a){return new h(n,a)}})}),oA=factory_factory("sqrt",["config","typed","Complex"],n=>{var{config:a,typed:h,Complex:b}=n;return h("sqrt",{number:_sqrtNumber,Complex:function(n){return n.sqrt()},BigNumber:function(n){return!n.isNegative()||a.predictable?n.sqrt():_sqrtNumber(n.toNumber())},Unit:function(n){return n.pow(.5)}});function _sqrtNumber(n){return isNaN(n)?NaN:n>=0||a.predictable?Math.sqrt(n):new b(n,0).sqrt()}}),oC="squeeze",oS=factory_factory(oC,["typed"],n=>{var{typed:a}=n;return a(oC,{Array:function(n){return squeeze(object_clone(n))},Matrix:function(n){var a=squeeze(n.toArray());return Array.isArray(a)?n.create(a,n.datatype()):a},any:function(n){return object_clone(n)}})}),oM=factory_factory("tanh",["typed"],n=>{var{typed:a}=n;return a("tanh",{number:G,"Complex | BigNumber":n=>n.tanh()})}),oF="transpose",oT=factory_factory(oF,["typed","matrix"],n=>{var{typed:a,matrix:h}=n;return a(oF,{Array:n=>transposeMatrix(h(n)).valueOf(),Matrix:transposeMatrix,any:object_clone});function transposeMatrix(n){var a,h=n.size();switch(h.length){case 1:a=n.clone();break;case 2:var b=h[0],N=h[1];if(0===N)throw RangeError("Cannot transpose a 2D matrix with no columns (size: "+string_format(h)+")");switch(n.storage()){case"dense":a=function(n,a,h){for(var b,N=n._data,w=[],_=0;_<h;_++){b=w[_]=[];for(var D=0;D<a;D++)b[D]=object_clone(N[D][_])}return n.createDenseMatrix({data:w,size:[h,a],datatype:n._datatype})}(n,b,N);break;case"sparse":a=function(n,a,h){for(var b,N,w,_=n._values,D=n._index,E=n._ptr,A=_?[]:void 0,M=[],B=[],I=[],z=0;z<a;z++)I[z]=0;for(b=0,N=D.length;b<N;b++)I[D[b]]++;for(var q=0,j=0;j<a;j++)B.push(q),q+=I[j],I[j]=B[j];for(B.push(q),w=0;w<h;w++)for(var L=E[w],H=E[w+1],$=L;$<H;$++){var V=I[D[$]]++;M[V]=w,_&&(A[V]=object_clone(_[$]))}return n.createSparseMatrix({values:A,index:M,ptr:B,size:[h,a],datatype:n._datatype})}(n,b,N)}break;default:throw RangeError("Matrix must be a vector or two dimensional (size: "+string_format(h)+")")}return a}}),oO="xgcd",oB=factory_factory(oO,["typed","config","matrix","BigNumber"],n=>{var{typed:a,config:h,matrix:b,BigNumber:N}=n;return a(oO,{"number, number":function(n,a){var N=xgcdNumber(n,a);return"Array"===h.matrix?N:b(N)},"BigNumber, BigNumber":function(n,a){var w,_,D,E,A=new N(0),M=new N(1),B=A,I=M,z=M,q=A;if(!n.isInt()||!a.isInt())throw Error("Parameters in function xgcd must be integer numbers");for(;!a.isZero();)_=n.div(a).floor(),D=n.mod(a),w=B,B=I.minus(_.times(B)),I=w,w=z,z=q.minus(_.times(z)),q=w,n=a,a=D;return E=n.lt(A)?[n.neg(),I.neg(),q.neg()]:[n,n.isZero()?0:I,q],"Array"===h.matrix?E:b(E)}})}),oI="zeros",oP=factory_factory(oI,["typed","config","matrix","BigNumber"],n=>{var{typed:a,config:h,matrix:b,BigNumber:N}=n;return a(oI,{"":function(){return"Array"===h.matrix?_zeros([]):_zeros([],"default")},"...number | BigNumber | string":function(n){if("string"==typeof n[n.length-1]){var a=n.pop();return _zeros(n,a)}return"Array"===h.matrix?_zeros(n):_zeros(n,"default")},Array:_zeros,Matrix:function(n){var a=n.storage();return _zeros(n.valueOf(),a)},"Array | Matrix, string":function(n,a){return _zeros(n.valueOf(),a)}});function _zeros(n,a){var h,w=(h=!1,n.forEach(function(n,a,b){isBigNumber(n)&&(h=!0,b[a]=n.toNumber())}),h)?new N(0):0;if(function(n){n.forEach(function(n){if("number"!=typeof n||!isInteger(n)||n<0)throw Error("Parameters in function zeros must be positive integers")})}(n),a){var _=b(a);return n.length>0?_.resize(n,w):_}var D=[];return n.length>0?array_resize(D,n,w):D}}),oz="acoth",oR=factory_factory(oz,["typed","config","Complex","BigNumber"],n=>{var{typed:a,config:h,Complex:b,BigNumber:N}=n;return a(oz,{number:function(n){return n>=1||n<=-1||h.predictable?acothNumber(n):new b(n,0).acoth()},Complex:function(n){return n.acoth()},BigNumber:function(n){return new N(1).div(n).atanh()}})}),oq="asin",oj=factory_factory(oq,["typed","config","Complex"],n=>{var{typed:a,config:h,Complex:b}=n;return a(oq,{number:function(n){return n>=-1&&n<=1||h.predictable?Math.asin(n):new b(n,0).asin()},Complex:function(n){return n.asin()},BigNumber:function(n){return n.asin()}})}),oU=factory_factory("bin",["typed","format"],n=>{var{typed:a,format:h}=n;return a("bin",{"number | BigNumber":function(n){return h(n,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(n,a){return h(n,{notation:"bin",wordSize:a})}})}),oL="coth",oH=factory_factory(oL,["typed","BigNumber"],n=>{var{typed:a,BigNumber:h}=n;return a(oL,{number:cothNumber,Complex:n=>n.coth(),BigNumber:n=>new h(1).div(n.tanh())})}),o$="ctranspose",oV=factory_factory(o$,["typed","transpose","conj"],n=>{var{typed:a,transpose:h,conj:b}=n;return a(o$,{any:function(n){return b(h(n))}})}),oG="diag",oZ=factory_factory(oG,["typed","matrix","DenseMatrix","SparseMatrix"],n=>{var{typed:a,matrix:h,DenseMatrix:b,SparseMatrix:N}=n;return a(oG,{Array:function(n){return _diag(n,0,arraySize(n),null)},"Array, number":function(n,a){return _diag(n,a,arraySize(n),null)},"Array, BigNumber":function(n,a){return _diag(n,a.toNumber(),arraySize(n),null)},"Array, string":function(n,a){return _diag(n,0,arraySize(n),a)},"Array, number, string":function(n,a,h){return _diag(n,a,arraySize(n),h)},"Array, BigNumber, string":function(n,a,h){return _diag(n,a.toNumber(),arraySize(n),h)},Matrix:function(n){return _diag(n,0,n.size(),n.storage())},"Matrix, number":function(n,a){return _diag(n,a,n.size(),n.storage())},"Matrix, BigNumber":function(n,a){return _diag(n,a.toNumber(),n.size(),n.storage())},"Matrix, string":function(n,a){return _diag(n,0,n.size(),a)},"Matrix, number, string":function(n,a,h){return _diag(n,a,n.size(),h)},"Matrix, BigNumber, string":function(n,a,h){return _diag(n,a.toNumber(),n.size(),h)}});function _diag(n,a,w,_){if(!isInteger(a))throw TypeError("Second parameter in function diag must be an integer");var D=a>0?a:0,E=a<0?-a:0;switch(w.length){case 1:return function(n,a,h,w,_,D){var E=[w+_,w+D];if(h&&"sparse"!==h&&"dense"!==h)throw TypeError("Unknown matrix type ".concat(h,'"'));var A="sparse"===h?N.diagonal(E,n,a):b.diagonal(E,n,a);return null!==h?A:A.valueOf()}(n,a,_,w[0],E,D);case 2:return function(n,a,b,N,w,_){if(isMatrix(n)){var D=n.diagonal(a);return null!==b?b!==D.storage()?h(D,b):D:D.valueOf()}for(var E=Math.min(N[0]-w,N[1]-_),A=[],M=0;M<E;M++)A[M]=n[M+w][M+_];return null!==b?h(A):A}(n,a,_,w,E,D)}throw RangeError("Matrix for function diag must be 2 dimensional")}}),oW=factory_factory("matAlgo09xS0Sf",["typed","equalScalar"],n=>{var{typed:a,equalScalar:h}=n;return function(n,b,N){var w,_,D,E,A,M,B=n._values,I=n._index,z=n._ptr,q=n._size,j=n._datatype||void 0===n._data?n._datatype:n.getDataType(),L=b._values,H=b._index,$=b._ptr,V=b._size,G=b._datatype||void 0===b._data?b._datatype:b.getDataType();if(q.length!==V.length)throw new DimensionError(q.length,V.length);if(q[0]!==V[0]||q[1]!==V[1])throw RangeError("Dimension mismatch. Matrix A ("+q+") must match Matrix B ("+V+")");var Z=q[0],W=q[1],Y=h,X=0,J=N;"string"==typeof j&&j===G&&"mixed"!==j&&(w=j,Y=a.find(h,[w,w]),X=a.convert(0,w),J=a.find(N,[w,w]));var Q=B&&L?[]:void 0,K=[],ee=[],er=Q?[]:void 0,et=[];for(D=0;D<W;D++){ee[D]=K.length;var en=D+1;if(er)for(A=$[D],M=$[D+1],E=A;E<M;E++)et[_=H[E]]=en,er[_]=L[E];for(A=z[D],M=z[D+1],E=A;E<M;E++)if(_=I[E],er){var ei=et[_]===en?er[_]:X,ea=J(B[E],ei);Y(ea,X)||(K.push(_),Q.push(ea))}else K.push(_)}return ee[W]=K.length,n.createSparseMatrix({values:Q,index:K,ptr:ee,size:[Z,W],datatype:j===n._datatype&&G===b._datatype?w:void 0})}}),oY="dotMultiply",oX=factory_factory(oY,["typed","matrix","equalScalar","multiplyScalar","concat"],n=>{var{typed:a,matrix:h,equalScalar:b,multiplyScalar:N,concat:w}=n,_=rx({typed:a,equalScalar:b}),D=oW({typed:a,equalScalar:b}),E=rb({typed:a,equalScalar:b}),A=rh({typed:a,matrix:h,concat:w});return a(oY,A({elop:N,SS:D,DS:_,Ss:E}))}),oJ=factory_factory("matAlgo07xSSf",["typed","SparseMatrix"],n=>{var{typed:a,SparseMatrix:h}=n;return function(n,b,N){var w,_=n._size,D=n._datatype||void 0===n._data?n._datatype:n.getDataType(),E=b._size,A=b._datatype||void 0===b._data?b._datatype:b.getDataType();if(_.length!==E.length)throw new DimensionError(_.length,E.length);if(_[0]!==E[0]||_[1]!==E[1])throw RangeError("Dimension mismatch. Matrix A ("+_+") must match Matrix B ("+E+")");var M=_[0],B=_[1],I=0,z=N;"string"==typeof D&&D===A&&"mixed"!==D&&(w=D,I=a.convert(0,w),z=a.find(N,[w,w]));for(var q=[],j=[],L=Array(B+1).fill(0),H=[],$=[],V=[],G=[],Z=0;Z<B;Z++){var W=Z+1,Y=0;_scatter(n,Z,V,H,W),_scatter(b,Z,G,$,W);for(var X=0;X<M;X++){var J=z(V[X]===W?H[X]:I,G[X]===W?$[X]:I);0!==J&&!1!==J&&(j.push(X),q.push(J),Y++)}L[Z+1]=L[Z]+Y}return new h({values:q,index:j,ptr:L,size:[M,B],datatype:D===n._datatype&&A===b._datatype?w:void 0})};function _scatter(n,a,h,b,N){for(var w=n._values,_=n._index,D=n._ptr,E=D[a],A=D[a+1];E<A;E++){var M=_[E];h[M]=N,b[M]=w[E]}}}),oQ="equal",oK=factory_factory(oQ,["typed","matrix","equalScalar","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:a,matrix:h,equalScalar:b,DenseMatrix:N,concat:w,SparseMatrix:_}=n,D=rl({typed:a}),E=oJ({typed:a,SparseMatrix:_}),A=rf({typed:a,DenseMatrix:N}),M=rh({typed:a,matrix:h,concat:w});return a(oQ,o0({typed:a,equalScalar:b}),M({elop:b,SS:E,DS:D,Ss:A}))}),o0=factory_factory(oQ,["typed","equalScalar"],n=>{var{typed:a,equalScalar:h}=n;return a(oQ,{"any, any":function(n,a){return null===n?null===a:null===a?null===n:void 0===n?void 0===a:void 0===a?void 0===n:h(n,a)}})}),o1=factory_factory("fraction",["typed","Fraction"],n=>{var{typed:a,Fraction:h}=n;return a("fraction",{number:function(n){if(!isFinite(n)||isNaN(n))throw Error(n+" cannot be represented as a fraction");return new h(n)},string:function(n){return new h(n)},"number, number":function(n,a){return new h(n,a)},"bigint, bigint":function(n,a){return new h(n,a)},null:function(n){return new h(0)},BigNumber:function(n){return new h(n.toString())},bigint:function(n){return new h(n.toString())},Fraction:function(n){return n},Unit:a.referToSelf(n=>a=>{var h=a.clone();return h.value=n(a.value),h}),Object:function(n){return new h(n)},"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n))})}),o2="identity",o3=factory_factory(o2,["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],n=>{var{typed:a,config:h,matrix:b,BigNumber:N,DenseMatrix:w,SparseMatrix:_}=n;return a(o2,{"":function(){return"Matrix"===h.matrix?b([]):[]},string:function(n){return b(n)},"number | BigNumber":function(n){return _identity(n,n,"Matrix"===h.matrix?"dense":void 0)},"number | BigNumber, string":function(n,a){return _identity(n,n,a)},"number | BigNumber, number | BigNumber":function(n,a){return _identity(n,a,"Matrix"===h.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(n,a,h){return _identity(n,a,h)},Array:function(n){return _identityVector(n)},"Array, string":function(n,a){return _identityVector(n,a)},Matrix:function(n){return _identityVector(n.valueOf(),n.storage())},"Matrix, string":function(n,a){return _identityVector(n.valueOf(),a)}});function _identityVector(n,a){switch(n.length){case 0:return a?b(a):[];case 1:return _identity(n[0],n[0],a);case 2:return _identity(n[0],n[1],a);default:throw Error("Vector containing two values expected")}}function _identity(n,a,h){var b=isBigNumber(n)||isBigNumber(a)?N:null;if(isBigNumber(n)&&(n=n.toNumber()),isBigNumber(a)&&(a=a.toNumber()),!isInteger(n)||n<1||!isInteger(a)||a<1)throw Error("Parameters in function identity must be positive integers");var D=b?new N(1):1,E=b?new b(0):0,A=[n,a];if(h){if("sparse"===h)return _.diagonal(A,D,0,E);if("dense"===h)return w.diagonal(A,D,0,E);throw TypeError('Unknown matrix type "'.concat(h,'"'))}for(var M=array_resize([],A,E),B=n<a?n:a,I=0;I<B;I++)M[I][I]=D;return M}}),o4="isNumeric",o5=factory_factory(o4,["typed"],n=>{var{typed:a}=n;return a(o4,{"number | BigNumber | bigint | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n))})}),o8="kron",o6=factory_factory(o8,["typed","matrix","multiplyScalar"],n=>{var{typed:a,matrix:h,multiplyScalar:b}=n;return a(o8,{"Matrix, Matrix":function(n,a){return h(_kron(n.toArray(),a.toArray()))},"Matrix, Array":function(n,a){return h(_kron(n.toArray(),a))},"Array, Matrix":function(n,a){return h(_kron(n,a.toArray()))},"Array, Array":_kron});function _kron(n,a){var h,N,w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(w<0){var _=arraySize(n).length,D=arraySize(a).length;for(w=Math.max(_,D);_++<w;)n=[n];for(;D++<w;)a=[a]}return 1===w?(h=n,N=a,h.flatMap(n=>N.map(a=>b(n,a)))):n.flatMap(n=>a.map(a=>_kron(n,a,w-1)))}}),o7="largerEq",o9=factory_factory(o7,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:a,config:h,matrix:b,DenseMatrix:N,concat:w,SparseMatrix:_}=n,D=rl({typed:a}),E=oJ({typed:a,SparseMatrix:_}),A=rf({typed:a,DenseMatrix:N}),M=rh({typed:a,matrix:b,concat:w}),B=iY({typed:a});return a(o7,sr({typed:a,config:h}),{"boolean, boolean":(n,a)=>n>=a,"BigNumber, BigNumber":function(n,a){return n.gte(a)||nearlyEqual_nearlyEqual(n,a,h.relTol,h.absTol)},"bigint, bigint":function(n,a){return n>=a},"Fraction, Fraction":(n,a)=>-1!==n.compare(a),"Complex, Complex":function(){throw TypeError("No ordering relation is defined for complex numbers")}},B,M({SS:E,DS:D,Ss:A}))}),sr=factory_factory(o7,["typed","config"],n=>{var{typed:a,config:h}=n;return a(o7,{"number, number":function(n,a){return n>=a||nearlyEqual(n,a,h.relTol,h.absTol)}})}),st=factory_factory("matAlgo08xS0Sid",["typed","equalScalar"],n=>{var{typed:a,equalScalar:h}=n;return function(n,b,N){var w,_,D,E,A,M=n._values,B=n._index,I=n._ptr,z=n._size,q=n._datatype||void 0===n._data?n._datatype:n.getDataType(),j=b._values,L=b._index,H=b._ptr,$=b._size,V=b._datatype||void 0===b._data?b._datatype:b.getDataType();if(z.length!==$.length)throw new DimensionError(z.length,$.length);if(z[0]!==$[0]||z[1]!==$[1])throw RangeError("Dimension mismatch. Matrix A ("+z+") must match Matrix B ("+$+")");if(!M||!j)throw Error("Cannot perform operation on Pattern Sparse Matrices");var G=z[0],Z=z[1],W=h,Y=0,X=N;"string"==typeof q&&q===V&&"mixed"!==q&&(w=q,W=a.find(h,[w,w]),Y=a.convert(0,w),X=a.find(N,[w,w]));for(var J=[],Q=[],K=[],ee=[],er=[],et=0;et<Z;et++){K[et]=Q.length;var en=et+1;for(D=I[et],E=I[et+1],_=D;_<E;_++)er[A=B[_]]=en,ee[A]=M[_],Q.push(A);for(D=H[et],E=H[et+1],_=D;_<E;_++)er[A=L[_]]===en&&(ee[A]=X(ee[A],j[_]));for(_=K[et];_<Q.length;){var ei=ee[A=Q[_]];W(ei,Y)?Q.splice(_,1):(J.push(ei),_++)}}return K[Z]=Q.length,n.createSparseMatrix({values:J,index:Q,ptr:K,size:[G,Z],datatype:q===n._datatype&&V===b._datatype?w:void 0})}}),sn=factory_factory("useMatrixForArrayScalar",["typed","matrix"],n=>{var{typed:a,matrix:h}=n;return{"Array, number":a.referTo("DenseMatrix, number",n=>(a,b)=>n(h(a),b).valueOf()),"Array, BigNumber":a.referTo("DenseMatrix, BigNumber",n=>(a,b)=>n(h(a),b).valueOf()),"number, Array":a.referTo("number, DenseMatrix",n=>(a,b)=>n(a,h(b)).valueOf()),"BigNumber, Array":a.referTo("BigNumber, DenseMatrix",n=>(a,b)=>n(a,h(b)).valueOf())}}),si="leftShift",sa=factory_factory(si,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:a,matrix:h,equalScalar:b,zeros:N,DenseMatrix:w,concat:_}=n,D=rQ({typed:a}),E=rx({typed:a,equalScalar:b}),A=st({typed:a,equalScalar:b}),M=rX({typed:a,DenseMatrix:w}),B=rb({typed:a,equalScalar:b}),I=rd({typed:a}),z=rh({typed:a,matrix:h,concat:_}),q=sn({typed:a,matrix:h});return a(si,{"number, number":leftShiftNumber,"BigNumber, BigNumber":leftShiftBigNumber,"bigint, bigint":(n,a)=>n<<a,"SparseMatrix, number | BigNumber":a.referToSelf(n=>(a,h)=>b(h,0)?a.clone():B(a,h,n,!1)),"DenseMatrix, number | BigNumber":a.referToSelf(n=>(a,h)=>b(h,0)?a.clone():I(a,h,n,!1)),"number | BigNumber, SparseMatrix":a.referToSelf(n=>(a,h)=>b(a,0)?N(h.size(),h.storage()):M(h,a,n,!0)),"number | BigNumber, DenseMatrix":a.referToSelf(n=>(a,h)=>b(a,0)?N(h.size(),h.storage()):I(h,a,n,!0))},q,z({SS:A,DS:D,SD:E}))}),so="matrixFromRows",ss=factory_factory(so,["typed","matrix","flatten","size"],n=>{var{typed:a,matrix:h,flatten:b,size:N}=n;return a(so,{"...Array":function(n){return _createArray(n)},"...Matrix":function(n){return h(_createArray(n.map(n=>n.toArray())))}});function _createArray(n){if(0===n.length)throw TypeError("At least one row is needed to construct a matrix.");var a=checkVectorTypeAndReturnLength(n[0]),h=[];for(var N of n){var w=checkVectorTypeAndReturnLength(N);if(w!==a)throw TypeError("The vectors had different length: "+(0|a)+" ≠ "+(0|w));h.push(b(N))}return h}function checkVectorTypeAndReturnLength(n){var a=N(n);if(1===a.length)return a[0];if(2===a.length){if(1===a[0])return a[1];if(1===a[1])return a[0];throw TypeError("At least one of the arguments is not a vector.")}throw TypeError("Only one- or two-dimensional vectors are supported.")}}),su="mode",sc=factory_factory(su,["typed","isNaN","isNumeric"],n=>{var{typed:a,isNaN:h,isNumeric:b}=n;return a(su,{"Array | Matrix":_mode,"...":function(n){return _mode(n)}});function _mode(n){if(0===(n=flatten(n.valueOf())).length)throw Error("Cannot calculate mode of an empty array");for(var a={},N=[],w=0,_=0;_<n.length;_++){var D=n[_];if(b(D)&&h(D))throw Error("Cannot calculate mode of an array containing NaN values");D in a||(a[D]=0),a[D]++,a[D]===w?N.push(D):a[D]>w&&(w=a[D],N=[D])}return N}}),sl="nthRoot",sf=factory_factory(sl,["typed","matrix","equalScalar","BigNumber","concat"],n=>{var{typed:a,matrix:h,equalScalar:b,BigNumber:N,concat:w}=n,_=rQ({typed:a}),D=rx({typed:a,equalScalar:b}),E=rN({typed:a,equalScalar:b}),A=rb({typed:a,equalScalar:b}),M=rh({typed:a,matrix:h,concat:w});function complexErr(){throw Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return a(sl,{number:arithmetic_nthRootNumber,"number, number":arithmetic_nthRootNumber,BigNumber:n=>_bigNthRoot(n,new N(2)),"BigNumber, BigNumber":_bigNthRoot,Complex:complexErr,"Complex, number":complexErr,Array:a.referTo("DenseMatrix,number",n=>a=>n(h(a),2).valueOf()),DenseMatrix:a.referTo("DenseMatrix,number",n=>a=>n(a,2)),SparseMatrix:a.referTo("SparseMatrix,number",n=>a=>n(a,2)),"SparseMatrix, SparseMatrix":a.referToSelf(n=>(a,h)=>{if(1===h.density())return E(a,h,n);throw Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":a.referToSelf(n=>(a,h)=>{if(1===h.density())return _(a,h,n,!1);throw Error("Root must be non-zero")}),"Array, SparseMatrix":a.referTo("DenseMatrix,SparseMatrix",n=>(a,b)=>n(h(a),b)),"number | BigNumber, SparseMatrix":a.referToSelf(n=>(a,h)=>{if(1===h.density())return A(h,a,n,!0);throw Error("Root must be non-zero")})},M({scalar:"number | BigNumber",SD:D,Ss:A,sS:!1}));function _bigNthRoot(n,a){var h=N.precision,b=N.clone({precision:h+2}),w=new N(0),_=new b(1),D=a.isNegative();if(D&&(a=a.neg()),a.isZero())throw Error("Root must be non-zero");if(n.isNegative()&&!a.abs().mod(2).equals(1))throw Error("Root must be odd when a is negative.");if(n.isZero())return D?new b(1/0):0;if(!n.isFinite())return D?w:n;var E=n.abs().pow(_.div(a));return E=n.isNeg()?E.neg():E,new N((D?_.div(E):E).toPrecision(h))}}),sm=factory_factory("numeric",["number","?bignumber","?fraction"],n=>{var{number:a,bignumber:h,fraction:b}=n,N={string:!0,number:!0,BigNumber:!0,Fraction:!0},w={number:n=>a(n),BigNumber:h?n=>h(n):noBignumber,bigint:n=>BigInt(n),Fraction:b?n=>b(n):noFraction};return function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number",h=arguments.length>2?arguments[2]:void 0;if(void 0!==h)throw SyntaxError("numeric() takes one or two arguments");var b=typeOf(n);if(!(b in N))throw TypeError("Cannot convert "+n+' of type "'+b+'"; valid input types are '+Object.keys(N).join(", "));if(!(a in w))throw TypeError("Cannot convert "+n+' to type "'+a+'"; valid output types are '+Object.keys(w).join(", "));return a===b?n:w[a](n)}}),sp="prod",sd=factory_factory(sp,["typed","config","multiplyScalar","numeric"],n=>{var{typed:a,config:h,multiplyScalar:b,numeric:N}=n;return a(sp,{"Array | Matrix":_prod,"Array | Matrix, number | BigNumber":function(n,a){throw Error("prod(A, dim) is not yet supported")},"...":function(n){return _prod(n)}});function _prod(n){var a;if(collection_deepForEach(n,function(n){try{a=void 0===a?n:b(a,n)}catch(a){throw improveErrorMessage(a,"prod",n)}}),"string"==typeof a&&(a=N(a,safeNumberType(a,h))),void 0===a)throw Error("Cannot calculate prod of an empty array");return a}});function ArgumentsError(n,a,h,b){if(!(this instanceof ArgumentsError))throw SyntaxError("Constructor must be called with the new operator");this.fn=n,this.count=a,this.min=h,this.max=b,this.message="Wrong number of arguments in function "+n+" ("+a+" provided, "+h+(null!=b?"-"+b:"")+" expected)",this.stack=Error().stack}ArgumentsError.prototype=Error(),ArgumentsError.prototype.constructor=Error,ArgumentsError.prototype.name="ArgumentsError",ArgumentsError.prototype.isArgumentsError=!0;var sh=factory_factory("resize",["config","matrix"],n=>{var{config:a,matrix:h}=n;return function(n,b,N){if(2!=arguments.length&&3!=arguments.length)throw new ArgumentsError("resize",arguments.length,2,3);if(isMatrix(b)&&(b=b.valueOf()),isBigNumber(b[0])&&(b=b.map(function(n){return isBigNumber(n)?n.toNumber():n})),isMatrix(n))return n.resize(b,N,!0);if("string"==typeof n)return function(n,a,h){if(void 0!==h){if("string"!=typeof h||1!==h.length)throw TypeError("Single character expected as defaultValue")}else h=" ";if(1!==a.length)throw new DimensionError(a.length,1);var b=a[0];if("number"!=typeof b||!isInteger(b))throw TypeError("Invalid size, must contain positive integers (size: "+string_format(a)+")");if(n.length>b)return n.substring(0,b);if(!(n.length<b))return n;for(var N=n,w=0,_=b-n.length;w<_;w++)N+=h;return N}(n,b,N);var w=!Array.isArray(n)&&"Array"!==a.matrix;if(0===b.length){for(;Array.isArray(n);)n=n[0];return object_clone(n)}Array.isArray(n)||(n=[n]);var _=array_resize(n=object_clone(n),b,N);return w?h(_):_}}),sg="rightArithShift",sy=factory_factory(sg,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:a,matrix:h,equalScalar:b,zeros:N,DenseMatrix:w,concat:_}=n,D=rQ({typed:a}),E=rx({typed:a,equalScalar:b}),A=st({typed:a,equalScalar:b}),M=rX({typed:a,DenseMatrix:w}),B=rb({typed:a,equalScalar:b}),I=rd({typed:a}),z=rh({typed:a,matrix:h,concat:_}),q=sn({typed:a,matrix:h});return a(sg,{"number, number":rightArithShiftNumber,"BigNumber, BigNumber":rightArithShiftBigNumber,"bigint, bigint":(n,a)=>n>>a,"SparseMatrix, number | BigNumber":a.referToSelf(n=>(a,h)=>b(h,0)?a.clone():B(a,h,n,!1)),"DenseMatrix, number | BigNumber":a.referToSelf(n=>(a,h)=>b(h,0)?a.clone():I(a,h,n,!1)),"number | BigNumber, SparseMatrix":a.referToSelf(n=>(a,h)=>b(a,0)?N(h.size(),h.storage()):M(h,a,n,!0)),"number | BigNumber, DenseMatrix":a.referToSelf(n=>(a,h)=>b(a,0)?N(h.size(),h.storage()):I(h,a,n,!0))},q,z({SS:A,DS:D,SD:E}))}),sv="Number of decimals in function round must be an integer",sx="round",sb=factory_factory(sx,["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],n=>{var{typed:a,config:h,matrix:b,equalScalar:N,zeros:w,BigNumber:_,DenseMatrix:D}=n,E=rb({typed:a,equalScalar:N}),A=rf({typed:a,DenseMatrix:D}),M=rd({typed:a});function toExponent(n){return Math.abs(splitNumber(n).exponent)}return a(sx,{number:function(n){var a=roundNumber(n,toExponent(h.relTol));return roundNumber(nearlyEqual(n,a,h.relTol,h.absTol)?a:n)},"number, number":function(n,a){var b=toExponent(h.relTol);if(a>=b)return roundNumber(n,a);var N=roundNumber(n,b);return roundNumber(nearlyEqual(n,N,h.relTol,h.absTol)?N:n,a)},"number, BigNumber":function(n,a){if(!a.isInteger())throw TypeError(sv);return new _(n).toDecimalPlaces(a.toNumber())},Complex:function(n){return n.round()},"Complex, number":function(n,a){if(a%1)throw TypeError(sv);return n.round(a)},"Complex, BigNumber":function(n,a){if(!a.isInteger())throw TypeError(sv);var h=a.toNumber();return n.round(h)},BigNumber:function(n){var a=new _(n).toDecimalPlaces(toExponent(h.relTol));return(nearlyEqual_nearlyEqual(n,a,h.relTol,h.absTol)?a:n).toDecimalPlaces(0)},"BigNumber, BigNumber":function(n,a){if(!a.isInteger())throw TypeError(sv);var b=toExponent(h.relTol);if(a>=b)return n.toDecimalPlaces(a.toNumber());var N=n.toDecimalPlaces(b);return(nearlyEqual_nearlyEqual(n,N,h.relTol,h.absTol)?N:n).toDecimalPlaces(a.toNumber())},bigint:n=>n,"bigint, number":(n,a)=>n,"bigint, BigNumber":(n,a)=>n,Fraction:function(n){return n.round()},"Fraction, number":function(n,a){if(a%1)throw TypeError(sv);return n.round(a)},"Fraction, BigNumber":function(n,a){if(!a.isInteger())throw TypeError(sv);return n.round(a.toNumber())},"Unit, number, Unit":a.referToSelf(n=>function(a,h,b){var N=a.toNumeric(b);return b.multiply(n(N,h))}),"Unit, BigNumber, Unit":a.referToSelf(n=>(a,h,b)=>n(a,h.toNumber(),b)),"Array | Matrix, number | BigNumber, Unit":a.referToSelf(n=>(a,h,b)=>collection_deepMap(a,a=>n(a,h,b),!0)),"Array | Matrix | Unit, Unit":a.referToSelf(n=>(a,h)=>n(a,0,h)),"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n,!0)),"SparseMatrix, number | BigNumber":a.referToSelf(n=>(a,h)=>E(a,h,n,!1)),"DenseMatrix, number | BigNumber":a.referToSelf(n=>(a,h)=>M(a,h,n,!1)),"Array, number | BigNumber":a.referToSelf(n=>(a,h)=>M(b(a),h,n,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":a.referToSelf(n=>(a,h)=>N(a,0)?w(h.size(),h.storage()):A(h,a,n,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":a.referToSelf(n=>(a,h)=>N(a,0)?w(h.size(),h.storage()):M(h,a,n,!0)),"number | Complex | BigNumber | Fraction, Array":a.referToSelf(n=>(a,h)=>M(b(h),a,n,!0).valueOf())})}),sN="smaller",sw=factory_factory(sN,["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:a,config:h,bignumber:b,matrix:N,DenseMatrix:w,concat:_,SparseMatrix:D}=n,E=rl({typed:a}),A=oJ({typed:a,SparseMatrix:D}),M=rf({typed:a,DenseMatrix:w}),B=rh({typed:a,matrix:N,concat:_}),I=iY({typed:a});function bignumSmaller(n,a){return n.lt(a)&&!nearlyEqual_nearlyEqual(n,a,h.relTol,h.absTol)}return a(sN,s_({typed:a,config:h}),{"boolean, boolean":(n,a)=>n<a,"BigNumber, BigNumber":bignumSmaller,"bigint, bigint":(n,a)=>n<a,"Fraction, Fraction":(n,a)=>-1===n.compare(a),"Fraction, BigNumber":function(n,a){return bignumSmaller(b(n),a)},"BigNumber, Fraction":function(n,a){return bignumSmaller(n,b(a))},"Complex, Complex":function(n,a){throw TypeError("No ordering relation is defined for complex numbers")}},I,B({SS:A,DS:E,Ss:M}))}),s_=factory_factory(sN,["typed","config"],n=>{var{typed:a,config:h}=n;return a(sN,{"number, number":function(n,a){return n<a&&!nearlyEqual(n,a,h.relTol,h.absTol)}})}),sD=factory_factory("to",["typed","matrix","concat"],n=>{var{typed:a,matrix:h,concat:b}=n,N=rh({typed:a,matrix:h,concat:b});return a("to",{"Unit, Unit | string":(n,a)=>n.to(a)},N({Ds:!0}))}),sE="unaryMinus",sA=factory_factory(sE,["typed"],n=>{var{typed:a}=n;return a(sE,{number:unaryMinusNumber,"Complex | BigNumber | Fraction":n=>n.neg(),bigint:n=>-n,Unit:a.referToSelf(n=>h=>{var b=h.clone();return b.value=a.find(n,b.valueType())(h.value),b}),"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n,!0))})}),sC="unequal",sS=factory_factory(sC,["typed","config","equalScalar","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:a,config:h,equalScalar:b,matrix:N,DenseMatrix:w,concat:_,SparseMatrix:D}=n,E=rl({typed:a}),A=oJ({typed:a,SparseMatrix:D}),M=rf({typed:a,DenseMatrix:w}),B=rh({typed:a,matrix:N,concat:_});return a(sC,sM({typed:a,equalScalar:b}),B({elop:function(n,a){return!b(n,a)},SS:A,DS:E,Ss:M}))}),sM=factory_factory(sC,["typed","equalScalar"],n=>{var{typed:a,equalScalar:h}=n;return a(sC,{"any, any":function(n,a){return null===n?null!==a:null===a?null!==n:void 0===n?void 0!==a:void 0===a?void 0!==n:!h(n,a)}})}),sF=factory_factory("xor",["typed","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:a,matrix:h,DenseMatrix:b,concat:N,SparseMatrix:w}=n,_=rl({typed:a}),D=oJ({typed:a,SparseMatrix:w}),E=rf({typed:a,DenseMatrix:b}),A=rh({typed:a,matrix:h,concat:N});return a("xor",{"number, number":xorNumber,"Complex, Complex":function(n,a){return(0!==n.re||0!==n.im)!=(0!==a.re||0!==a.im)},"bigint, bigint":xorNumber,"BigNumber, BigNumber":function(n,a){return(!n.isZero()&&!n.isNaN())!=(!a.isZero()&&!a.isNaN())},"Unit, Unit":a.referToSelf(n=>(a,h)=>n(a.value||0,h.value||0))},A({SS:D,DS:_,Ss:E}))}),sT=factory_factory("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],n=>{var{typed:a,matrix:h,addScalar:b,equalScalar:N,DenseMatrix:w,SparseMatrix:_,concat:D}=n,E=rQ({typed:a}),A=rJ({typed:a,equalScalar:N}),M=rX({typed:a,DenseMatrix:w}),B=rh({typed:a,matrix:h,concat:D});return a("add",{"any, any":b,"any, any, ...any":a.referToSelf(n=>(a,h,b)=>{for(var N=n(a,h),w=0;w<b.length;w++)N=n(N,b[w]);return N})},B({elop:b,DS:E,SS:A,Ss:M}))}),sO="atan2",sB=factory_factory(sO,["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],n=>{var{typed:a,matrix:h,equalScalar:b,BigNumber:N,DenseMatrix:w,concat:_}=n,D=rx({typed:a,equalScalar:b}),E=rl({typed:a}),A=oW({typed:a,equalScalar:b}),M=rb({typed:a,equalScalar:b}),B=rf({typed:a,DenseMatrix:w}),I=rh({typed:a,matrix:h,concat:_});return a(sO,{"number, number":Math.atan2,"BigNumber, BigNumber":(n,a)=>N.atan2(n,a)},I({scalar:"number | BigNumber",SS:A,DS:E,SD:D,Ss:M,sS:B}))}),sI="bitXor",sk=factory_factory(sI,["typed","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:a,matrix:h,DenseMatrix:b,concat:N,SparseMatrix:w}=n,_=rl({typed:a}),D=oJ({typed:a,SparseMatrix:w}),E=rf({typed:a,DenseMatrix:b}),A=rh({typed:a,matrix:h,concat:N});return a(sI,{"number, number":bitXorNumber,"BigNumber, BigNumber":bitXor,"bigint, bigint":(n,a)=>n^a},A({SS:D,DS:_,Ss:E}))}),sP="cbrt",sz=factory_factory(sP,["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],n=>{var{config:a,typed:h,isNegative:b,unaryMinus:N,matrix:w,Complex:_,BigNumber:D,Fraction:E}=n;return h(sP,{number:cbrtNumber,Complex:_cbrtComplex,"Complex, boolean":_cbrtComplex,BigNumber:function(n){return n.cbrt()},Unit:function(n){if(n.value&&isComplex(n.value)){var a=n.clone();return a.value=1,(a=a.pow(1/3)).value=_cbrtComplex(n.value),a}var h,w=b(n.value);w&&(n.value=N(n.value)),h=isBigNumber(n.value)?new D(1).div(3):isFraction(n.value)?new E(1,3):1/3;var _=n.pow(h);return w&&(_.value=N(_.value)),_}});function _cbrtComplex(n,h){var b=n.arg()/3,N=n.abs(),D=new _(cbrtNumber(N),0).mul(new _(0,b).exp());if(!h)return D;var E=[D,new _(cbrtNumber(N),0).mul(new _(0,b+2*Math.PI/3).exp()),new _(cbrtNumber(N),0).mul(new _(0,b-2*Math.PI/3).exp())];return"Array"===a.matrix?E:w(E)}}),sR="compare",sq=factory_factory(sR,["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],n=>{var{typed:a,config:h,equalScalar:b,matrix:N,BigNumber:w,Fraction:_,DenseMatrix:D,concat:E}=n,A=rl({typed:a}),M=rm({typed:a,equalScalar:b}),B=rf({typed:a,DenseMatrix:D}),I=rh({typed:a,matrix:N,concat:E}),z=iY({typed:a});return a(sR,sj({typed:a,config:h}),{"boolean, boolean":function(n,a){return n===a?0:n>a?1:-1},"BigNumber, BigNumber":function(n,a){return new w(nearlyEqual_nearlyEqual(n,a,h.relTol,h.absTol)?0:n.cmp(a))},"bigint, bigint":function(n,a){return n===a?0n:n>a?1n:-1n},"Fraction, Fraction":function(n,a){return new _(n.compare(a))},"Complex, Complex":function(){throw TypeError("No ordering relation is defined for complex numbers")}},z,I({SS:M,DS:A,Ss:B}))}),sj=factory_factory(sR,["typed","config"],n=>{var{typed:a,config:h}=n;return a(sR,{"number, number":function(n,a){return nearlyEqual(n,a,h.relTol,h.absTol)?0:n>a?1:-1}})}),sU="compareText";compareText.signature="any, any";var sL=factory_factory(sU,["typed","matrix","concat"],n=>{var{typed:a,matrix:h,concat:b}=n,N=rh({typed:a,matrix:h,concat:b});return a(sU,compareText,N({elop:compareText,Ds:!0}))}),sH="count",s$=factory_factory(sH,["typed","size","prod"],n=>{var{typed:a,size:h,prod:b}=n;return a(sH,{string:function(n){return n.length},"Matrix | Array":function(n){return b(h(n))}})}),sV="deepEqual",sG=factory_factory(sV,["typed","equal"],n=>{var{typed:a,equal:h}=n;return a(sV,{"any, any":function(n,a){return function _deepEqual(n,a){if(Array.isArray(n)){if(!Array.isArray(a))return!1;var b=n.length;if(b!==a.length)return!1;for(var N=0;N<b;N++)if(!_deepEqual(n[N],a[N]))return!1;return!0}return!Array.isArray(a)&&h(n,a)}(n.valueOf(),a.valueOf())}})}),sZ="divideScalar",sW=factory_factory(sZ,["typed","numeric"],n=>{var{typed:a,numeric:h}=n;return a(sZ,{"number, number":function(n,a){return n/a},"Complex, Complex":function(n,a){return n.div(a)},"BigNumber, BigNumber":function(n,a){return n.div(a)},"bigint, bigint":function(n,a){return n/a},"Fraction, Fraction":function(n,a){return n.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,a)=>n.divide(a),"number | Fraction | Complex | BigNumber, Unit":(n,a)=>a.divideInto(n)})}),sY="equalText",sX=factory_factory(sY,["typed","compareText","isZero"],n=>{var{typed:a,compareText:h,isZero:b}=n;return a(sY,{"any, any":function(n,a){return b(h(n,a))}})}),sJ="floor",sQ=new tL(10),sK=factory_factory(sJ,["typed","config","round"],n=>{var{typed:a,config:h,round:b}=n;function _floorNumber(n){var a=Math.floor(n),N=b(n);return a===N?a:nearlyEqual(n,N,h.relTol,h.absTol)&&!nearlyEqual(n,a,h.relTol,h.absTol)?N:a}return a(sJ,{number:_floorNumber,"number, number":function(n,a){if(!isInteger(a))throw RangeError("number of decimals in function floor must be an integer");if(a<0||a>15)throw RangeError("number of decimals in floor number must be in range 0 - 15");var h=10**a;return _floorNumber(n*h)/h}})}),s0=factory_factory(sJ,["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],n=>{var{typed:a,config:h,round:b,matrix:N,equalScalar:w,zeros:_,DenseMatrix:D}=n,E=rb({typed:a,equalScalar:w}),A=rf({typed:a,DenseMatrix:D}),M=rd({typed:a}),B=sK({typed:a,config:h,round:b});function _bigFloor(n){var bne=(n,a)=>nearlyEqual_nearlyEqual(n,a,h.relTol,h.absTol),a=n.floor(),N=b(n);return a.eq(N)?a:bne(n,N)&&!bne(n,a)?N:a}return a("floor",{number:B.signatures.number,"number,number":B.signatures["number,number"],Complex:function(n){return n.floor()},"Complex, number":function(n,a){return n.floor(a)},"Complex, BigNumber":function(n,a){return n.floor(a.toNumber())},BigNumber:_bigFloor,"BigNumber, BigNumber":function(n,a){var h=sQ.pow(a);return _bigFloor(n.mul(h)).div(h)},bigint:n=>n,"bigint, number":(n,a)=>n,"bigint, BigNumber":(n,a)=>n,Fraction:function(n){return n.floor()},"Fraction, number":function(n,a){return n.floor(a)},"Fraction, BigNumber":function(n,a){return n.floor(a.toNumber())},"Unit, number, Unit":a.referToSelf(n=>function(a,h,b){var N=a.toNumeric(b);return b.multiply(n(N,h))}),"Unit, BigNumber, Unit":a.referToSelf(n=>(a,h,b)=>n(a,h.toNumber(),b)),"Array | Matrix, number | BigNumber, Unit":a.referToSelf(n=>(a,h,b)=>collection_deepMap(a,a=>n(a,h,b),!0)),"Array | Matrix | Unit, Unit":a.referToSelf(n=>(a,h)=>n(a,0,h)),"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n,!0)),"Array, number | BigNumber":a.referToSelf(n=>(a,h)=>collection_deepMap(a,a=>n(a,h),!0)),"SparseMatrix, number | BigNumber":a.referToSelf(n=>(a,h)=>E(a,h,n,!1)),"DenseMatrix, number | BigNumber":a.referToSelf(n=>(a,h)=>M(a,h,n,!1)),"number | Complex | Fraction | BigNumber, Array":a.referToSelf(n=>(a,h)=>M(N(h),a,n,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":a.referToSelf(n=>(a,h)=>w(a,0)?_(h.size(),h.storage()):"dense"===h.storage()?M(h,a,n,!0):A(h,a,n,!0))})}),s1=factory_factory("mod",["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:a,config:h,round:b,matrix:N,equalScalar:w,zeros:_,DenseMatrix:D,concat:E}=n,A=s0({typed:a,config:h,round:b,matrix:N,equalScalar:w,zeros:_,DenseMatrix:D}),M=rx({typed:a,equalScalar:w}),B=rl({typed:a}),I=rm({typed:a,equalScalar:w}),z=rb({typed:a,equalScalar:w}),q=rf({typed:a,DenseMatrix:D}),j=rh({typed:a,matrix:N,concat:E});return a("mod",{"number, number":function(n,a){return 0===a?n:n-a*A(n/a)},"BigNumber, BigNumber":function(n,a){return a.isZero()?n:n.sub(a.mul(A(n.div(a))))},"bigint, bigint":function(n,a){if(0n===a)return n;if(n<0){var h=n%a;return 0n===h?h:h+a}return n%a},"Fraction, Fraction":function(n,a){return a.equals(0)?n:n.sub(a.mul(A(n.div(a))))}},j({SS:I,DS:B,SD:M,Ss:z,sS:q}))}),s2="number | BigNumber | Fraction | Matrix | Array",s3="".concat(s2,", ").concat(s2,", ...").concat(s2);function is1d(n){return!n.some(n=>Array.isArray(n))}var s4=factory_factory("gcd",["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],n=>{var{typed:a,matrix:h,config:b,round:N,equalScalar:w,zeros:_,BigNumber:D,DenseMatrix:E,concat:A}=n,M=s1({typed:a,config:b,round:N,matrix:h,equalScalar:w,zeros:_,DenseMatrix:E,concat:A}),B=rQ({typed:a}),I=rJ({typed:a,equalScalar:w}),z=rX({typed:a,DenseMatrix:E}),q=rh({typed:a,matrix:h,concat:A});return a("gcd",{"number, number":function(n,a){var h;if(!isInteger(n)||!isInteger(a))throw Error("Parameters in function gcd must be integer numbers");for(;0!==a;)h=M(n,a),n=a,a=h;return n<0?-n:n},"BigNumber, BigNumber":function(n,a){if(!n.isInt()||!a.isInt())throw Error("Parameters in function gcd must be integer numbers");for(var h=new D(0);!a.isZero();){var b=M(n,a);n=a,a=b}return n.lt(h)?n.neg():n},"Fraction, Fraction":(n,a)=>n.gcd(a)},q({SS:I,DS:B,Ss:z}),{[s3]:a.referToSelf(n=>(a,h,b)=>{for(var N=n(a,h),w=0;w<b.length;w++)N=n(N,b[w]);return N}),Array:a.referToSelf(n=>a=>{if(1===a.length&&Array.isArray(a[0])&&is1d(a[0]))return n(...a[0]);if(is1d(a))return n(...a);throw new ArgumentsError("gcd() supports only 1d matrices!")}),Matrix:a.referToSelf(n=>a=>n(a.toArray()))})}),s5="hasNumericValue",s8=factory_factory(s5,["typed","isNumeric"],n=>{var{typed:a,isNumeric:h}=n;return a(s5,{boolean:()=>!0,string:function(n){return n.trim().length>0&&!isNaN(Number(n))},any:function(n){return h(n)}})}),s6="hypot",s7=factory_factory(s6,["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],n=>{var{typed:a,abs:h,addScalar:b,divideScalar:N,multiplyScalar:w,sqrt:_,smaller:D,isPositive:E}=n;return a(s6,{"... number | BigNumber":_hypot,Array:_hypot,Matrix:n=>_hypot(flatten(n.toArray(),!0))});function _hypot(n){for(var a=0,A=0,M=0;M<n.length;M++){if(isComplex(n[M]))throw TypeError("Unexpected type of argument to hypot");var B=h(n[M]);D(A,B)?(a=b(a=w(a,w(N(A,B),N(A,B))),1),A=B):a=b(a,E(B)?w(N(B,A),N(B,A)):B)}return w(A,_(a))}}),s9=factory_factory("ImmutableDenseMatrix",["smaller","DenseMatrix"],n=>{var{smaller:a,DenseMatrix:h}=n;function ImmutableDenseMatrix(n,a){if(!(this instanceof ImmutableDenseMatrix))throw SyntaxError("Constructor must be called with the new operator");if(a&&!isString(a))throw Error("Invalid datatype: "+a);if(isMatrix(n)||_(n)){var b=new h(n,a);this._data=b._data,this._size=b._size,this._datatype=b._datatype,this._min=null,this._max=null}else if(n&&_(n.data)&&_(n.size))this._data=n.data,this._size=n.size,this._datatype=n.datatype,this._min=void 0!==n.min?n.min:null,this._max=void 0!==n.max?n.max:null;else if(n)throw TypeError("Unsupported type of data ("+typeOf(n)+")");else this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}return ImmutableDenseMatrix.prototype=new h,ImmutableDenseMatrix.prototype.type="ImmutableDenseMatrix",ImmutableDenseMatrix.prototype.isImmutableDenseMatrix=!0,ImmutableDenseMatrix.prototype.subset=function(n){switch(arguments.length){case 1:var a=h.prototype.subset.call(this,n);if(isMatrix(a))return new ImmutableDenseMatrix({data:a._data,size:a._size,datatype:a._datatype});return a;case 2:case 3:throw Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw SyntaxError("Wrong number of arguments")}},ImmutableDenseMatrix.prototype.set=function(){throw Error("Cannot invoke set on an Immutable Matrix instance")},ImmutableDenseMatrix.prototype.resize=function(){throw Error("Cannot invoke resize on an Immutable Matrix instance")},ImmutableDenseMatrix.prototype.reshape=function(){throw Error("Cannot invoke reshape on an Immutable Matrix instance")},ImmutableDenseMatrix.prototype.clone=function(){return new ImmutableDenseMatrix({data:object_clone(this._data),size:object_clone(this._size),datatype:this._datatype})},ImmutableDenseMatrix.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},ImmutableDenseMatrix.fromJSON=function(n){return new ImmutableDenseMatrix(n)},ImmutableDenseMatrix.prototype.swapRows=function(){throw Error("Cannot invoke swapRows on an Immutable Matrix instance")},ImmutableDenseMatrix.prototype.min=function(){if(null===this._min){var n=null;this.forEach(function(h){(null===n||a(h,n))&&(n=h)}),this._min=null!==n?n:void 0}return this._min},ImmutableDenseMatrix.prototype.max=function(){if(null===this._max){var n=null;this.forEach(function(h){(null===n||a(n,h))&&(n=h)}),this._max=null!==n?n:void 0}return this._max},ImmutableDenseMatrix},{isClass:!0}),ue=factory_factory("Index",["ImmutableDenseMatrix","getMatrixDataType"],n=>{var{ImmutableDenseMatrix:a,getMatrixDataType:h}=n;function Index(){if(!(this instanceof Index))throw SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var n=0,a=arguments.length;n<a;n++){var b=n<0||arguments.length<=n?void 0:arguments[n],N=_(b),w=isMatrix(b),D=typeof b,E=null;if(isRange(b))this._dimensions.push(b),this._isScalar=!1;else if(N||w){var A=void 0;this._isScalar=!1,"boolean"===h(b)?(N&&(A=_createImmutableMatrix(_booleansArrayToNumbersForIndex(b).valueOf())),w&&(A=_createImmutableMatrix(_booleansArrayToNumbersForIndex(b._data).valueOf())),E=b.valueOf().length):A=_createImmutableMatrix(b.valueOf()),this._dimensions.push(A)}else if("number"===D)this._dimensions.push(b);else if("bigint"===D)this._dimensions.push(Number(b));else if("string"===D)this._dimensions.push(b);else throw TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");this._sourceSize.push(E)}}function _createImmutableMatrix(n){for(var h=0,b=n.length;h<b;h++)if(!isNumber(n[h])||!isInteger(n[h]))throw TypeError("Index parameters must be positive integer numbers");var N=new a;return N._data=n,N._size=[n.length],N}return Index.prototype.type="Index",Index.prototype.isIndex=!0,Index.prototype.clone=function(){var n=new Index;return n._dimensions=object_clone(this._dimensions),n._isScalar=this._isScalar,n._sourceSize=this._sourceSize,n},Index.create=function(n){var a=new Index;return Index.apply(a,n),a},Index.prototype.size=function(){for(var n=[],a=0,h=this._dimensions.length;a<h;a++){var b=this._dimensions[a];n[a]=isString(b)||isNumber(b)?1:b.size()[0]}return n},Index.prototype.max=function(){for(var n=[],a=0,h=this._dimensions.length;a<h;a++){var b=this._dimensions[a];n[a]=isString(b)||isNumber(b)?b:b.max()}return n},Index.prototype.min=function(){for(var n=[],a=0,h=this._dimensions.length;a<h;a++){var b=this._dimensions[a];n[a]=isString(b)||isNumber(b)?b:b.min()}return n},Index.prototype.forEach=function(n){for(var a=0,h=this._dimensions.length;a<h;a++)n(this._dimensions[a],a,this)},Index.prototype.dimension=function(n){var a;return isNumber(n)&&null!==(a=this._dimensions[n])&&void 0!==a?a:null},Index.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&isString(this._dimensions[0])},Index.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},Index.prototype.isScalar=function(){return this._isScalar},Index.prototype.toArray=function(){for(var n=[],a=0,h=this._dimensions.length;a<h;a++){var b=this._dimensions[a];n.push(isString(b)||isNumber(b)?b:b.toArray())}return n},Index.prototype.valueOf=Index.prototype.toArray,Index.prototype.toString=function(){for(var n=[],a=0,h=this._dimensions.length;a<h;a++){var b=this._dimensions[a];isString(b)?n.push(JSON.stringify(b)):n.push(b.toString())}return"["+n.join(", ")+"]"},Index.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},Index.fromJSON=function(n){return Index.create(n.dimensions)},Index},{isClass:!0});function _booleansArrayToNumbersForIndex(n){var a=[];return n.forEach((n,h)=>{n&&a.push(h)}),a}var ur="larger",ut=factory_factory(ur,["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:a,config:h,bignumber:b,matrix:N,DenseMatrix:w,concat:_,SparseMatrix:D}=n,E=rl({typed:a}),A=oJ({typed:a,SparseMatrix:D}),M=rf({typed:a,DenseMatrix:w}),B=rh({typed:a,matrix:N,concat:_}),I=iY({typed:a});function bignumLarger(n,a){return n.gt(a)&&!nearlyEqual_nearlyEqual(n,a,h.relTol,h.absTol)}return a(ur,un({typed:a,config:h}),{"boolean, boolean":(n,a)=>n>a,"BigNumber, BigNumber":bignumLarger,"bigint, bigint":(n,a)=>n>a,"Fraction, Fraction":(n,a)=>1===n.compare(a),"Fraction, BigNumber":function(n,a){return bignumLarger(b(n),a)},"BigNumber, Fraction":function(n,a){return bignumLarger(n,b(a))},"Complex, Complex":function(){throw TypeError("No ordering relation is defined for complex numbers")}},I,B({SS:A,DS:E,Ss:M}))}),un=factory_factory(ur,["typed","config"],n=>{var{typed:a,config:h}=n;return a(ur,{"number, number":function(n,a){return n>a&&!nearlyEqual(n,a,h.relTol,h.absTol)}})}),ui=Math.log(16),ua=factory_factory("log",["config","typed","typeOf","divideScalar","Complex"],n=>{var{typed:a,typeOf:h,config:b,divideScalar:N,Complex:w}=n;function complexLog(n){return n.log()}function complexLogNumber(n){return complexLog(new w(n,0))}return a("log",{number:function(n){return n>=0||b.predictable?logNumber(n):complexLogNumber(n)},bigint:promoteLogarithm(ui,logNumber,b,complexLogNumber),Complex:complexLog,BigNumber:function(n){return!n.isNegative()||b.predictable?n.ln():complexLogNumber(n.toNumber())},"any, any":a.referToSelf(n=>(a,b)=>{if("Fraction"===h(a)&&"Fraction"===h(b)){var w=a.log(b);if(null!==w)return w}return N(n(a),n(b))})})});function createSolveValidation(n){var{DenseMatrix:a}=n;return function(n,h,b){var N=n.size();if(2!==N.length)throw RangeError("Matrix must be two dimensional (size: "+string_format(N)+")");var w=N[0];if(w!==N[1])throw RangeError("Matrix must be square (size: "+string_format(N)+")");var D=[];if(isMatrix(h)){var E=h.size(),A=h._data;if(1===E.length){if(E[0]!==w)throw RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var M=0;M<w;M++)D[M]=[A[M]];return new a({data:D,size:[w,1],datatype:h._datatype})}if(2===E.length){if(E[0]!==w||1!==E[1])throw RangeError("Dimension mismatch. Matrix columns must match vector length.");if(isDenseMatrix(h)){if(b){D=[];for(var B=0;B<w;B++)D[B]=[A[B][0]];return new a({data:D,size:[w,1],datatype:h._datatype})}return h}if(isSparseMatrix(h)){for(var I=0;I<w;I++)D[I]=[0];for(var z=h._values,q=h._index,j=h._ptr,L=j[1],H=j[0];H<L;H++)D[q[H]][0]=z[H];return new a({data:D,size:[w,1],datatype:h._datatype})}}throw RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(_(h)){var $=arraySize(h);if(1===$.length){if($[0]!==w)throw RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var V=0;V<w;V++)D[V]=[h[V]];return new a({data:D,size:[w,1]})}if(2===$.length){if($[0]!==w||1!==$[1])throw RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var G=0;G<w;G++)D[G]=[h[G][0]];return new a({data:D,size:[w,1]})}throw RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var uo="lsolve",us=factory_factory(uo,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:a,matrix:h,divideScalar:b,multiplyScalar:N,subtractScalar:w,equalScalar:_,DenseMatrix:D}=n,E=createSolveValidation({DenseMatrix:D});return a(uo,{"SparseMatrix, Array | Matrix":function(n,a){return function(n,a){for(var h=(a=E(n,a,!0))._data,A=n._size[0],M=n._size[1],B=n._values,I=n._index,z=n._ptr,q=[],j=0;j<M;j++){var L=h[j][0]||0;if(_(L,0))q[j]=[0];else{for(var H=0,$=[],V=[],G=z[j],Z=z[j+1],W=G;W<Z;W++){var Y=I[W];Y===j?H=B[W]:Y>j&&($.push(B[W]),V.push(Y))}if(_(H,0))throw Error("Linear system cannot be solved since matrix is singular");for(var X=b(L,H),J=0,Q=V.length;J<Q;J++){var K=V[J];h[K]=[w(h[K][0]||0,N(X,$[J]))]}q[j]=[X]}}return new D({data:q,size:[A,1]})}(n,a)},"DenseMatrix, Array | Matrix":function(n,a){return _denseForwardSubstitution(n,a)},"Array, Array | Matrix":function(n,a){return _denseForwardSubstitution(h(n),a).valueOf()}});function _denseForwardSubstitution(n,a){for(var h=(a=E(n,a,!0))._data,A=n._size[0],M=n._size[1],B=[],I=n._data,z=0;z<M;z++){var q=h[z][0]||0,j=void 0;if(_(q,0))j=0;else{var L=I[z][z];if(_(L,0))throw Error("Linear system cannot be solved since matrix is singular");j=b(q,L);for(var H=z+1;H<A;H++)h[H]=[w(h[H][0]||0,N(j,I[H][z]))]}B[z]=[j]}return new D({data:B,size:[A,1]})}}),uu="matrixFromColumns",uc=factory_factory(uu,["typed","matrix","flatten","size"],n=>{var{typed:a,matrix:h,flatten:b,size:N}=n;return a(uu,{"...Array":function(n){return _createArray(n)},"...Matrix":function(n){return h(_createArray(n.map(n=>n.toArray())))}});function _createArray(n){if(0===n.length)throw TypeError("At least one column is needed to construct a matrix.");for(var a=checkVectorTypeAndReturnLength(n[0]),h=[],N=0;N<a;N++)h[N]=[];for(var w of n){var _=checkVectorTypeAndReturnLength(w);if(_!==a)throw TypeError("The vectors had different length: "+(0|a)+" ≠ "+(0|_));for(var D=b(w),E=0;E<a;E++)h[E].push(D[E])}return h}function checkVectorTypeAndReturnLength(n){var a=N(n);if(1===a.length)return a[0];if(2===a.length){if(1===a[0])return a[1];if(1===a[1])return a[0];throw TypeError("At least one of the arguments is not a vector.")}throw TypeError("Only one- or two-dimensional vectors are supported.")}}),ul="nthRoots",uf=factory_factory(ul,["config","typed","divideScalar","Complex"],n=>{var{typed:a,config:h,divideScalar:b,Complex:N}=n,w=[function(n){return new N(n,0)},function(n){return new N(0,n)},function(n){return new N(-n,0)},function(n){return new N(0,-n)}];function _nthComplexRoots(n,a){if(a<0)throw Error("Root must be greater than zero");if(0===a)throw Error("Root must be non-zero");if(a%1!=0)throw Error("Root must be an integer");if(0===n||0===n.abs())return[new N(0,0)];var h,b="number"==typeof n;(b||0===n.re||0===n.im)&&(h=b?2*+(n<0):0===n.im?2*+(n.re<0):2*+(n.im<0)+1);for(var _=n.arg(),D=n.abs(),E=[],A=Math.pow(D,1/a),M=0;M<a;M++){var B=(h+4*M)/a;if(B===Math.round(B)){E.push(w[B%4](A));continue}E.push(new N({r:A,phi:(_+2*Math.PI*M)/a}))}return E}return a(ul,{Complex:function(n){return _nthComplexRoots(n,2)},"Complex, number":_nthComplexRoots})}),um="partitionSelect",up=factory_factory(um,["typed","isNumeric","isNaN","compare"],n=>{var{typed:a,isNumeric:h,isNaN:b,compare:N}=n,desc=(n,a)=>-N(n,a);return a(um,{"Array | Matrix, number":function(n,a){return _partitionSelect(n,a,N)},"Array | Matrix, number, string":function(n,a,h){if("asc"===h)return _partitionSelect(n,a,N);if("desc"===h)return _partitionSelect(n,a,desc);throw Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":_partitionSelect});function _partitionSelect(n,a,h){if(!isInteger(a)||a<0)throw Error("k must be a non-negative integer");if(isMatrix(n)){if(n.size().length>1)throw Error("Only one dimensional matrices supported");return quickSelect(n.valueOf(),a,h)}if(Array.isArray(n))return quickSelect(n,a,h)}function quickSelect(n,a,N){if(a>=n.length)throw Error("k out of bounds");for(var w=0;w<n.length;w++)if(h(n[w])&&b(n[w]))return n[w];for(var _=0,D=n.length-1;_<D;){for(var E=_,A=D,M=n[Math.floor(Math.random()*(D-_+1))+_];E<A;)if(N(n[E],M)>=0){var B=n[A];n[A]=n[E],n[E]=B,--A}else++E;N(n[E],M)>0&&--E,a<=E?D=E:_=E+1}return n[a]}}),ud=factory_factory("qr",["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],n=>{var{typed:a,matrix:h,zeros:b,identity:N,isZero:w,equal:_,sign:D,sqrt:E,conj:A,unaryMinus:M,addScalar:B,divideScalar:I,multiplyScalar:z,subtractScalar:q,complex:j}=n;return _extends(a("qr",{DenseMatrix:function(n){return _denseQR(n)},SparseMatrix:function(n){return function(n){throw Error("qr not implemented for sparse matrices yet")}(0)},Array:function(n){var a=_denseQR(h(n));return{Q:a.Q.valueOf(),R:a.R.valueOf()}}}),{_denseQRimpl});function _denseQRimpl(n){var a,h,j,L=n._size[0],H=n._size[1],$=N([L],"dense"),V=$._data,G=n.clone(),Z=G._data,W=b([L],"");for(j=0;j<Math.min(H,L);++j){var Y=Z[j][j],X=M(_(Y,0)?1:D(Y)),J=A(X),Q=0;for(a=j;a<L;a++)Q=B(Q,z(Z[a][j],A(Z[a][j])));var K=z(X,E(Q));if(!w(K)){var ee=q(Y,K);for(W[j]=1,a=j+1;a<L;a++)W[a]=I(Z[a][j],ee);var er=M(A(I(ee,K))),et=void 0;for(h=j;h<H;h++){for(et=0,a=j;a<L;a++)et=B(et,z(A(W[a]),Z[a][h]));for(et=z(et,er),a=j;a<L;a++)Z[a][h]=z(q(Z[a][h],z(W[a],et)),J)}for(a=0;a<L;a++){for(et=0,h=j;h<L;h++)et=B(et,z(V[a][h],W[h]));for(et=z(et,er),h=j;h<L;++h)V[a][h]=I(q(V[a][h],z(et,A(W[h]))),J)}}}return{Q:$,R:G,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function _denseQR(n){var a=_denseQRimpl(n),h=a.R._data;if(n._data.length>0)for(var b="Complex"===h[0][0].type?j(0):0,N=0;N<h.length;++N)for(var w=0;w<N&&w<(h[0]||[]).length;++w)h[N][w]=b;return a}}),uh="rightLogShift",ug=factory_factory(uh,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:a,matrix:h,equalScalar:b,zeros:N,DenseMatrix:w,concat:_}=n,D=rQ({typed:a}),E=rx({typed:a,equalScalar:b}),A=st({typed:a,equalScalar:b}),M=rX({typed:a,DenseMatrix:w}),B=rb({typed:a,equalScalar:b}),I=rd({typed:a}),z=rh({typed:a,matrix:h,concat:_}),q=sn({typed:a,matrix:h});return a(uh,{"number, number":rightLogShiftNumber,"SparseMatrix, number | BigNumber":a.referToSelf(n=>(a,h)=>b(h,0)?a.clone():B(a,h,n,!1)),"DenseMatrix, number | BigNumber":a.referToSelf(n=>(a,h)=>b(h,0)?a.clone():I(a,h,n,!1)),"number | BigNumber, SparseMatrix":a.referToSelf(n=>(a,h)=>b(a,0)?N(h.size(),h.storage()):M(h,a,n,!0)),"number | BigNumber, DenseMatrix":a.referToSelf(n=>(a,h)=>b(a,0)?N(h.size(),h.storage()):I(h,a,n,!0))},q,z({SS:A,DS:D,SD:E}))}),uy="smallerEq",uv=factory_factory(uy,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:a,config:h,matrix:b,DenseMatrix:N,concat:w,SparseMatrix:_}=n,D=rl({typed:a}),E=oJ({typed:a,SparseMatrix:_}),A=rf({typed:a,DenseMatrix:N}),M=rh({typed:a,matrix:b,concat:w}),B=iY({typed:a});return a(uy,ux({typed:a,config:h}),{"boolean, boolean":(n,a)=>n<=a,"BigNumber, BigNumber":function(n,a){return n.lte(a)||nearlyEqual_nearlyEqual(n,a,h.relTol,h.absTol)},"bigint, bigint":(n,a)=>n<=a,"Fraction, Fraction":(n,a)=>1!==n.compare(a),"Complex, Complex":function(){throw TypeError("No ordering relation is defined for complex numbers")}},B,M({SS:E,DS:D,Ss:A}))}),ux=factory_factory(uy,["typed","config"],n=>{var{typed:a,config:h}=n;return a(uy,{"number, number":function(n,a){return n<=a||nearlyEqual(n,a,h.relTol,h.absTol)}})}),ub="subtract",uN=factory_factory(ub,["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],n=>{var{typed:a,matrix:h,equalScalar:b,subtractScalar:N,unaryMinus:w,DenseMatrix:_,concat:D}=n,E=rQ({typed:a}),A=rl({typed:a}),M=rm({typed:a,equalScalar:b}),B=rX({typed:a,DenseMatrix:_}),I=rf({typed:a,DenseMatrix:_}),z=rh({typed:a,matrix:h,concat:D});return a(ub,{"any, any":N},z({elop:N,SS:M,DS:E,SD:A,Ss:I,sS:B}))}),uw=factory_factory("trace",["typed","matrix","add"],n=>{var{typed:a,matrix:h,add:b}=n;return a("trace",{Array:function(n){return _denseTrace(h(n))},SparseMatrix:function(n){var a=n._values,h=n._index,N=n._ptr,w=n._size,_=w[0],D=w[1];if(_===D){var E=0;if(a.length>0)for(var A=0;A<D;A++)for(var M=N[A],B=N[A+1],I=M;I<B;I++){var z=h[I];if(z===A){E=b(E,a[I]);break}if(z>A)break}return E}throw RangeError("Matrix must be square (size: "+string_format(w)+")")},DenseMatrix:_denseTrace,any:object_clone});function _denseTrace(n){var a=n._size,h=n._data;switch(a.length){case 1:if(1===a[0])return object_clone(h[0]);throw RangeError("Matrix must be square (size: "+string_format(a)+")");case 2:var N=a[0];if(N===a[1]){for(var w=0,_=0;_<N;_++)w=b(w,h[_][_]);return w}throw RangeError("Matrix must be square (size: "+string_format(a)+")");default:throw RangeError("Matrix must be two dimensional (size: "+string_format(a)+")")}}}),u_="usolve",uD=factory_factory(u_,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:a,matrix:h,divideScalar:b,multiplyScalar:N,subtractScalar:w,equalScalar:_,DenseMatrix:D}=n,E=createSolveValidation({DenseMatrix:D});return a(u_,{"SparseMatrix, Array | Matrix":function(n,a){return function(n,a){for(var h=(a=E(n,a,!0))._data,A=n._size[0],M=n._size[1],B=n._values,I=n._index,z=n._ptr,q=[],j=M-1;j>=0;j--){var L=h[j][0]||0;if(_(L,0))q[j]=[0];else{for(var H=0,$=[],V=[],G=z[j],Z=z[j+1],W=Z-1;W>=G;W--){var Y=I[W];Y===j?H=B[W]:Y<j&&($.push(B[W]),V.push(Y))}if(_(H,0))throw Error("Linear system cannot be solved since matrix is singular");for(var X=b(L,H),J=0,Q=V.length;J<Q;J++){var K=V[J];h[K]=[w(h[K][0],N(X,$[J]))]}q[j]=[X]}}return new D({data:q,size:[A,1]})}(n,a)},"DenseMatrix, Array | Matrix":function(n,a){return _denseBackwardSubstitution(n,a)},"Array, Array | Matrix":function(n,a){return _denseBackwardSubstitution(h(n),a).valueOf()}});function _denseBackwardSubstitution(n,a){for(var h=(a=E(n,a,!0))._data,A=n._size[0],M=n._size[1],B=[],I=n._data,z=M-1;z>=0;z--){var q=h[z][0]||0,j=void 0;if(_(q,0))j=0;else{var L=I[z][z];if(_(L,0))throw Error("Linear system cannot be solved since matrix is singular");j=b(q,L);for(var H=z-1;H>=0;H--)h[H]=[w(h[H][0]||0,N(j,I[H][z]))]}B[z]=[j]}return new D({data:B,size:[A,1]})}}),uE="zpk2tf",uA=factory_factory(uE,["typed","add","multiply","Complex","number"],n=>{var{typed:a,add:h,multiply:b,Complex:N,number:w}=n;return a(uE,{"Array,Array,number":function(n,a,h){return _zpk2tf(n,a,h)},"Array,Array":function(n,a){return _zpk2tf(n,a,1)},"Matrix,Matrix,number":function(n,a,h){return _zpk2tf(n.valueOf(),a.valueOf(),h)},"Matrix,Matrix":function(n,a){return _zpk2tf(n.valueOf(),a.valueOf(),1)}});function _zpk2tf(n,a,h){n.some(n=>"BigNumber"===n.type)&&(n=n.map(n=>w(n))),a.some(n=>"BigNumber"===n.type)&&(a=a.map(n=>w(n)));for(var _=[N(1,0)],D=[N(1,0)],E=0;E<n.length;E++){var A=n[E];"number"==typeof A&&(A=N(A,0)),_=_multiply(_,[N(1,0),N(-A.re,-A.im)])}for(var M=0;M<a.length;M++){var B=a[M];"number"==typeof B&&(B=N(B,0)),D=_multiply(D,[N(1,0),N(-B.re,-B.im)])}for(var I=0;I<_.length;I++)_[I]=b(_[I],h);return[_,D]}function _multiply(n,a){for(var w=[],_=0;_<n.length+a.length-1;_++){w[_]=N(0,0);for(var D=0;D<n.length;D++)_-D>=0&&_-D<a.length&&(w[_]=h(w[_],b(n[D],a[_-D])))}return w}}),uC="catalan",uS=factory_factory(uC,["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],n=>{var{typed:a,addScalar:h,divideScalar:b,multiplyScalar:N,combinations:w,isNegative:_,isInteger:D}=n;return a(uC,{"number | BigNumber":function(n){if(!D(n)||_(n))throw TypeError("Non-negative integer value expected in function catalan");return b(w(N(n,2),n),h(n,1))}})}),uM=h(3228),uF="compareNatural",uT=factory_factory(uF,["typed","compare"],n=>{var{typed:a,compare:h}=n,b=h.signatures["boolean,boolean"];return a(uF,{"any, any":function _compareNatural(n,a){var N,w=typeOf(n),_=typeOf(a);if(("number"===w||"BigNumber"===w||"Fraction"===w)&&("number"===_||"BigNumber"===_||"Fraction"===_))return"0"!==(N=h(n,a)).toString()?N>0?1:-1:uM(w,_);var D=["Array","DenseMatrix","SparseMatrix"];if(D.includes(w)||D.includes(_))return 0!==(N=function compareMatricesAndArrays(n,a,h){return isSparseMatrix(a)&&isSparseMatrix(h)?compareArrays(n,a.toJSON().values,h.toJSON().values):isSparseMatrix(a)?compareMatricesAndArrays(n,a.toArray(),h):isSparseMatrix(h)?compareMatricesAndArrays(n,a,h.toArray()):isDenseMatrix(a)?compareMatricesAndArrays(n,a.toJSON().data,h):isDenseMatrix(h)?compareMatricesAndArrays(n,a,h.toJSON().data):Array.isArray(a)?Array.isArray(h)?compareArrays(n,a,h):compareMatricesAndArrays(n,a,[h]):compareMatricesAndArrays(n,[a],h)}(_compareNatural,n,a))?N:uM(w,_);if(w!==_)return uM(w,_);if("Complex"===w)return n.re>a.re?1:n.re<a.re?-1:n.im>a.im?1:n.im<a.im?-1:0;if("Unit"===w)return n.equalBase(a)?_compareNatural(n.value,a.value):compareArrays(_compareNatural,n.formatUnits(),a.formatUnits());if("boolean"===w)return b(n,a);if("string"===w)return uM(n,a);if("Object"===w)return function(n,a,h){var b=Object.keys(a),N=Object.keys(h);b.sort(uM),N.sort(uM);var w=compareArrays(n,b,N);if(0!==w)return w;for(var _=0;_<b.length;_++){var D=n(a[b[_]],h[N[_]]);if(0!==D)return D}return 0}(_compareNatural,n,a);if("null"===w||"undefined"===w)return 0;throw TypeError('Unsupported type of value "'+w+'"')}});function compareArrays(n,a,h){for(var b=0,N=Math.min(a.length,h.length);b<N;b++){var w=n(a[b],h[b]);if(0!==w)return w}return a.length>h.length?1:a.length<h.length?-1:0}}),uO="composition",uB=factory_factory(uO,["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],n=>{var{typed:a,addScalar:h,combinations:b,isPositive:N,isNegative:w,isInteger:_,larger:D}=n;return a(uO,{"number | BigNumber, number | BigNumber":function(n,a){if(_(n)&&N(n)&&_(a)&&N(a)){if(D(a,n))throw TypeError("k must be less than or equal to n in function composition")}else throw TypeError("Positive integer value expected in function composition");return b(h(n,-1),h(a,-1))}})}),uI="cross",uk=factory_factory(uI,["typed","matrix","subtract","multiply"],n=>{var{typed:a,matrix:h,subtract:b,multiply:N}=n;return a(uI,{"Matrix, Matrix":function(n,a){return h(_cross(n.toArray(),a.toArray()))},"Matrix, Array":function(n,a){return h(_cross(n.toArray(),a))},"Array, Matrix":function(n,a){return h(_cross(n,a.toArray()))},"Array, Array":_cross});function _cross(n,a){var h=Math.max(arraySize(n).length,arraySize(a).length);n=squeeze(n),a=squeeze(a);var w=arraySize(n),_=arraySize(a);if(1!==w.length||1!==_.length||3!==w[0]||3!==_[0])throw RangeError("Vectors with length 3 expected (Size A = ["+w.join(", ")+"], B = ["+_.join(", ")+"])");var D=[b(N(n[1],a[2]),N(n[2],a[1])),b(N(n[2],a[0]),N(n[0],a[2])),b(N(n[0],a[1]),N(n[1],a[0]))];return h>1?[D]:D}}),uP=factory_factory("det",["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],n=>{var{typed:a,matrix:h,subtractScalar:b,multiply:N,divideScalar:w,isZero:_,unaryMinus:D}=n;return a("det",{any:function(n){return object_clone(n)},"Array | Matrix":function(n){var a;switch((a=isMatrix(n)?n.size():Array.isArray(n)?(n=h(n)).size():[]).length){case 0:return object_clone(n);case 1:if(1===a[0])return object_clone(n.valueOf()[0]);if(0===a[0])return 1;throw RangeError("Matrix must be square (size: "+string_format(a)+")");case 2:var E=a[0],A=a[1];if(E===A)return function(n,a,h){if(1===a)return object_clone(n[0][0]);if(2===a)return b(N(n[0][0],n[1][1]),N(n[1][0],n[0][1]));for(var E=!1,A=Array(a).fill(0).map((n,a)=>a),M=0;M<a;M++){var B=A[M];if(_(n[B][M])){var I=void 0;for(I=M+1;I<a;I++)if(!_(n[A[I]][M])){B=A[I],A[I]=A[M],A[M]=B,E=!E;break}if(I===a)return n[B][M]}for(var z=n[B][M],q=0===M?1:n[A[M-1]][M-1],j=M+1;j<a;j++)for(var L=A[j],H=M+1;H<a;H++)n[L][H]=w(b(N(n[L][H],z),N(n[L][M],n[B][H])),q)}var $=n[A[a-1]][a-1];return E?D($):$}(n.clone().valueOf(),E,0);if(0===A)return 1;throw RangeError("Matrix must be square (size: "+string_format(a)+")");default:throw RangeError("Matrix must be two dimensional (size: "+string_format(a)+")")}}})}),uz="distance",uR=factory_factory(uz,["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],n=>{var{typed:a,addScalar:h,subtractScalar:b,multiplyScalar:N,divideScalar:w,deepEqual:_,sqrt:D,abs:E}=n;return a(uz,{"Array, Array, Array":function(n,a,h){if(2===n.length&&2===a.length&&2===h.length){if(!_2d(n))throw TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!_2d(a))throw TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!_2d(h))throw TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(_(a,h))throw TypeError("LinePoint1 should not be same with LinePoint2");var w=b(h[1],a[1]),D=b(a[0],h[0]),E=b(N(h[0],a[1]),N(a[0],h[1]));return _distancePointLine2D(n[0],n[1],w,D,E)}throw TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(n,a,h){if(2===Object.keys(n).length&&2===Object.keys(a).length&&2===Object.keys(h).length){if(!_2d(n))throw TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!_2d(a))throw TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!_2d(h))throw TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(_(_objectToArray(a),_objectToArray(h)))throw TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in n&&"pointY"in n&&"lineOnePtX"in a&&"lineOnePtY"in a&&"lineTwoPtX"in h&&"lineTwoPtY"in h){var w=b(h.lineTwoPtY,a.lineOnePtY),D=b(a.lineOnePtX,h.lineTwoPtX),E=b(N(h.lineTwoPtX,a.lineOnePtY),N(a.lineOnePtX,h.lineTwoPtY));return _distancePointLine2D(n.pointX,n.pointY,w,D,E)}throw TypeError("Key names do not match")}throw TypeError("Invalid Arguments: Try again")},"Array, Array":function(n,a){if(2===n.length&&3===a.length){if(!_2d(n))throw TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!_3d(a))throw TypeError("Array with 3 numbers or BigNumbers expected for second argument");return _distancePointLine2D(n[0],n[1],a[0],a[1],a[2])}if(3===n.length&&6===a.length){if(!_3d(n))throw TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_parametricLine(a))throw TypeError("Array with 6 numbers or BigNumbers expected for second argument");return _distancePointLine3D(n[0],n[1],n[2],a[0],a[1],a[2],a[3],a[4],a[5])}if(n.length===a.length&&n.length>0){if(!_containsOnlyNumbers(n)||!_containsOnlyNumbers(a))throw TypeError("All values of an array should be numbers or BigNumbers");return _euclideanDistance(n,a)}throw TypeError("Invalid Arguments: Try again")},"Object, Object":function(n,a){if(2===Object.keys(n).length&&3===Object.keys(a).length){if(!_2d(n))throw TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!_3d(a))throw TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in n&&"pointY"in n&&"xCoeffLine"in a&&"yCoeffLine"in a&&"constant"in a)return _distancePointLine2D(n.pointX,n.pointY,a.xCoeffLine,a.yCoeffLine,a.constant);throw TypeError("Key names do not match")}if(3===Object.keys(n).length&&6===Object.keys(a).length){if(!_3d(n))throw TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!_parametricLine(a))throw TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in n&&"pointY"in n&&"x0"in a&&"y0"in a&&"z0"in a&&"a"in a&&"b"in a&&"c"in a)return _distancePointLine3D(n.pointX,n.pointY,n.pointZ,a.x0,a.y0,a.z0,a.a,a.b,a.c);throw TypeError("Key names do not match")}if(2===Object.keys(n).length&&2===Object.keys(a).length){if(!_2d(n))throw TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!_2d(a))throw TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in n&&"pointOneY"in n&&"pointTwoX"in a&&"pointTwoY"in a)return _euclideanDistance([n.pointOneX,n.pointOneY],[a.pointTwoX,a.pointTwoY]);throw TypeError("Key names do not match")}if(3===Object.keys(n).length&&3===Object.keys(a).length){if(!_3d(n))throw TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!_3d(a))throw TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in n&&"pointOneY"in n&&"pointOneZ"in n&&"pointTwoX"in a&&"pointTwoY"in a&&"pointTwoZ"in a)return _euclideanDistance([n.pointOneX,n.pointOneY,n.pointOneZ],[a.pointTwoX,a.pointTwoY,a.pointTwoZ]);throw TypeError("Key names do not match")}throw TypeError("Invalid Arguments: Try again")},Array:function(n){if(!function(n){if(2===n[0].length&&_isNumber(n[0][0])&&_isNumber(n[0][1])){if(n.some(n=>2!==n.length||!_isNumber(n[0])||!_isNumber(n[1])))return!1}else if(!(3===n[0].length&&_isNumber(n[0][0])&&_isNumber(n[0][1])&&_isNumber(n[0][2])))return!1;else if(n.some(n=>3!==n.length||!_isNumber(n[0])||!_isNumber(n[1])||!_isNumber(n[2])))return!1;return!0}(n))throw TypeError("Incorrect array format entered for pairwise distance calculation");return function(n){for(var a=[],h=[],b=[],N=0;N<n.length-1;N++)for(var w=N+1;w<n.length;w++)2===n[0].length?(h=[n[N][0],n[N][1]],b=[n[w][0],n[w][1]]):3===n[0].length&&(h=[n[N][0],n[N][1],n[N][2]],b=[n[w][0],n[w][1],n[w][2]]),a.push(_euclideanDistance(h,b));return a}(n)}});function _isNumber(n){return"number"==typeof n||isBigNumber(n)}function _2d(n){return n.constructor!==Array&&(n=_objectToArray(n)),_isNumber(n[0])&&_isNumber(n[1])}function _3d(n){return n.constructor!==Array&&(n=_objectToArray(n)),_isNumber(n[0])&&_isNumber(n[1])&&_isNumber(n[2])}function _containsOnlyNumbers(n){return Array.isArray(n)||(n=_objectToArray(n)),n.every(_isNumber)}function _parametricLine(n){return n.constructor!==Array&&(n=_objectToArray(n)),_isNumber(n[0])&&_isNumber(n[1])&&_isNumber(n[2])&&_isNumber(n[3])&&_isNumber(n[4])&&_isNumber(n[5])}function _objectToArray(n){for(var a=Object.keys(n),h=[],b=0;b<a.length;b++)h.push(n[a[b]]);return h}function _distancePointLine2D(n,a,b,_,A){return w(E(h(h(N(b,n),N(_,a)),A)),D(h(N(b,b),N(_,_))))}function _distancePointLine3D(n,a,_,E,A,M,B,I,z){var q=[b(N(b(A,a),z),N(b(M,_),I)),b(N(b(M,_),B),N(b(E,n),z)),b(N(b(E,n),I),N(b(A,a),B))];return w(q=D(h(h(N(q[0],q[0]),N(q[1],q[1])),N(q[2],q[2]))),D(h(h(N(B,B),N(I,I)),N(z,z))))}function _euclideanDistance(n,a){for(var w=n.length,_=0,E=0,A=0;A<w;A++)_=h(N(E=b(n[A],a[A]),E),_);return D(_)}}),uq="dotDivide",uj=factory_factory(uq,["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:a,matrix:h,equalScalar:b,divideScalar:N,DenseMatrix:w,concat:_,SparseMatrix:D}=n,E=rx({typed:a,equalScalar:b}),A=rl({typed:a}),M=oJ({typed:a,SparseMatrix:D}),B=rb({typed:a,equalScalar:b}),I=rf({typed:a,DenseMatrix:w}),z=rh({typed:a,matrix:h,concat:_});return a(uq,z({elop:N,SS:M,DS:A,SD:E,Ss:B,sS:I}))}),uU=factory_factory("FibonacciHeap",["smaller","larger"],n=>{var{smaller:a,larger:h}=n,b=1/Math.log((1+Math.sqrt(5))/2);function FibonacciHeap(){if(!(this instanceof FibonacciHeap))throw SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function _cut(n,a,h){a.left.right=a.right,a.right.left=a.left,h.degree--,h.child===a&&(h.child=a.right),0===h.degree&&(h.child=null),a.left=n,a.right=n.right,n.right=a,a.right.left=a,a.parent=null,a.mark=!1}FibonacciHeap.prototype.type="FibonacciHeap",FibonacciHeap.prototype.isFibonacciHeap=!0,FibonacciHeap.prototype.insert=function(n,h){var b={key:n,value:h,degree:0};if(this._minimum){var N=this._minimum;b.left=N,b.right=N.right,N.right=b,b.right.left=b,a(n,N.key)&&(this._minimum=b)}else b.left=b,b.right=b,this._minimum=b;return this._size++,b},FibonacciHeap.prototype.size=function(){return this._size},FibonacciHeap.prototype.clear=function(){this._minimum=null,this._size=0},FibonacciHeap.prototype.isEmpty=function(){return 0===this._size},FibonacciHeap.prototype.extractMinimum=function(){var n=this._minimum;if(null===n)return n;for(var N=this._minimum,w=n.degree,_=n.child;w>0;){var D=_.right;_.left.right=_.right,_.right.left=_.left,_.left=N,_.right=N.right,N.right=_,_.right.left=_,_.parent=null,_=D,w--}return n.left.right=n.right,n.right.left=n.left,N=n===n.right?null:function(n,N){var w,_=Math.floor(Math.log(N)*b)+1,D=Array(_),E=0,A=n;if(A)for(E++,A=A.right;A!==n;)E++,A=A.right;for(;E>0;){for(var M=A.degree,B=A.right;w=D[M];){if(h(A.key,w.key)){var I=w;w=A,A=I}_linkNodes(w,A),D[M]=null,M++}D[M]=A,A=B,E--}n=null;for(var z=0;z<_;z++)(w=D[z])&&(n?(w.left.right=w.right,w.right.left=w.left,w.left=n,w.right=n.right,n.right=w,w.right.left=w,a(w.key,n.key)&&(n=w)):n=w);return n}(N=n.right,this._size),this._size--,this._minimum=N,n},FibonacciHeap.prototype.remove=function(n){var h,b;this._minimum=(h=this._minimum,n.key=-1,(b=n.parent)&&a(n.key,b.key)&&(_cut(h,n,b),function _cascadingCut(n,a){var h=a.parent;h&&(a.mark?(_cut(n,a,h),_cascadingCut(h)):a.mark=!0)}(h,b)),a(n.key,h.key)&&(h=n),h),this.extractMinimum()};var _linkNodes=function(n,a){n.left.right=n.right,n.right.left=n.left,n.parent=a,a.child?(n.left=a.child,n.right=a.child.right,a.child.right=n,n.right.left=n):(a.child=n,n.right=n,n.left=n),a.degree++,n.mark=!1};return FibonacciHeap},{isClass:!0}),uL="index",uH=factory_factory(uL,["typed","Index"],n=>{var{typed:a,Index:h}=n;return a(uL,{"...number | string | BigNumber | Range | Array | Matrix":function(n){var a=n.map(function(n){return isBigNumber(n)?n.toNumber():_(n)||isMatrix(n)?n.map(function(n){return isBigNumber(n)?n.toNumber():n}):n}),b=new h;return h.apply(b,a),b}})}),u$=factory_factory("intersect",["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],n=>{var{typed:a,config:h,abs:b,add:N,addScalar:w,matrix:_,multiply:D,multiplyScalar:E,divideScalar:A,subtract:M,smaller:B,equalScalar:I,flatten:z,isZero:q,isNumeric:j}=n;return a("intersect",{"Array, Array, Array":_AAA,"Array, Array, Array, Array":_AAAA,"Matrix, Matrix, Matrix":function(n,a,h){var b=_AAA(n.valueOf(),a.valueOf(),h.valueOf());return null===b?null:_(b)},"Matrix, Matrix, Matrix, Matrix":function(n,a,h,b){var N=_AAAA(n.valueOf(),a.valueOf(),h.valueOf(),b.valueOf());return null===N?null:_(N)}});function _AAA(n,a,h){var b,N,_,D,B,I,z,q,L,H,$,V,G,Z,W,Y,X,J;if(n=_coerceArr(n),a=_coerceArr(a),h=_coerceArr(h),!_3d(n))throw TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_3d(a))throw TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!(4===(b=h).length&&j(b[0])&&j(b[1])&&j(b[2])&&j(b[3])))throw TypeError("Array with 4 numbers expected as third argument");return N=n[0],_=n[1],D=n[2],B=a[0],I=a[1],z=a[2],q=h[0],L=h[1],H=h[2],$=h[3],V=E(N,q),G=E(B,q),Z=E(_,L),W=E(I,L),Y=E(D,H),X=E(z,H),J=A(M(M(M($,V),Z),Y),M(M(M(w(w(G,W),X),V),Z),Y)),[w(N,E(J,M(B,N))),w(_,E(J,M(I,_))),w(D,E(J,M(z,D)))]}function _AAAA(n,a,_,z){if(n=_coerceArr(n),a=_coerceArr(a),_=_coerceArr(_),z=_coerceArr(z),2===n.length){if(!_2d(n))throw TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!_2d(a))throw TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!_2d(_))throw TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!_2d(z))throw TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function(n,a,_,I){var z=M(n,a),j=M(_,I),L=M(E(z[0],j[1]),E(j[0],z[1]));if(q(L)||B(b(L),h.relTol))return null;var H=E(j[0],n[1]),$=E(j[1],n[0]),V=E(j[0],_[1]),G=E(j[1],_[0]);return N(D(z,A(w(M(M(H,$),V),G),L)),n)}(n,a,_,z)}if(3===n.length){if(!_3d(n))throw TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_3d(a))throw TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!_3d(_))throw TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!_3d(z))throw TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return function(n,a,h,b,N,_,D,B,z,j,L,H){var $=_intersect3dHelper(n,D,j,D,a,B,L,B,h,z,H,z),V=_intersect3dHelper(j,D,b,n,L,B,N,a,H,z,_,h),G=_intersect3dHelper(n,D,b,n,a,B,N,a,h,z,_,h),Z=_intersect3dHelper(j,D,j,D,L,B,L,B,H,z,H,z),W=_intersect3dHelper(b,n,b,n,N,a,N,a,_,h,_,h),Y=M(E($,V),E(G,Z)),X=M(E(W,Z),E(V,V));if(q(X))return null;var J=A(Y,X),Q=A(w($,E(J,V)),Z),K=w(n,E(J,M(b,n))),ee=w(a,E(J,M(N,a))),er=w(h,E(J,M(_,h))),et=w(D,E(Q,M(j,D))),en=w(B,E(Q,M(L,B))),ei=w(z,E(Q,M(H,z)));return I(K,et)&&I(ee,en)&&I(er,ei)?[K,ee,er]:null}(n[0],n[1],n[2],a[0],a[1],a[2],_[0],_[1],_[2],z[0],z[1],z[2])}throw TypeError("Arrays with two or thee dimensional points expected")}function _coerceArr(n){return 1===n.length?n[0]:n.length>1&&Array.isArray(n[0])&&n.every(n=>Array.isArray(n)&&1===n.length)?z(n):n}function _2d(n){return 2===n.length&&j(n[0])&&j(n[1])}function _3d(n){return 3===n.length&&j(n[0])&&j(n[1])&&j(n[2])}function _intersect3dHelper(n,a,h,b,N,_,D,A,B,I,z,q){var j=E(M(n,a),M(h,b)),L=E(M(N,_),M(D,A)),H=E(M(B,I),M(z,q));return w(w(j,L),H)}}),uV="invmod",uG=factory_factory(uV,["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],n=>{var{typed:a,config:h,BigNumber:b,xgcd:N,equal:w,smaller:_,mod:D,add:E,isInteger:A}=n;return a(uV,{"number, number":invmod,"BigNumber, BigNumber":invmod});function invmod(n,a){if(!A(n)||!A(a))throw Error("Parameters in function invmod must be integer numbers");if(n=D(n,a),w(a,0))throw Error("Divisor must be non zero");var h=N(n,a),[M,B]=h=h.valueOf();return w(M,b(1))?(_(B=D(B,a),b(0))&&(B=E(B,a)),B):NaN}}),uZ=factory_factory("lcm",["typed","matrix","equalScalar","concat"],n=>{var{typed:a,matrix:h,equalScalar:b,concat:N}=n,w=rx({typed:a,equalScalar:b}),_=rN({typed:a,equalScalar:b}),D=rb({typed:a,equalScalar:b}),E=rh({typed:a,matrix:h,concat:N}),A="number | BigNumber | Fraction | Matrix | Array",M={};return M["".concat(A,", ").concat(A,", ...").concat(A)]=a.referToSelf(n=>(a,h,b)=>{for(var N=n(a,h),w=0;w<b.length;w++)N=n(N,b[w]);return N}),a("lcm",{"number, number":lcmNumber,"BigNumber, BigNumber":function(n,a){if(!n.isInt()||!a.isInt())throw Error("Parameters in function lcm must be integer numbers");if(n.isZero())return n;if(a.isZero())return a;for(var h=n.times(a);!a.isZero();){var b=a;a=n.mod(b),n=b}return h.div(n).abs()},"Fraction, Fraction":(n,a)=>n.lcm(a)},E({SS:_,DS:w,Ss:D}),M)}),uW="log1p",uY=factory_factory(uW,["typed","config","divideScalar","log","Complex"],n=>{var{typed:a,config:h,divideScalar:b,log:N,Complex:w}=n;return a(uW,{number:function(n){return n>=-1||h.predictable?I(n):_log1pComplex(new w(n,0))},Complex:_log1pComplex,BigNumber:function(n){var a=n.plus(1);return!a.isNegative()||h.predictable?a.ln():_log1pComplex(new w(n.toNumber(),0))},"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n)),"any, any":a.referToSelf(n=>(a,h)=>b(n(a),N(h)))});function _log1pComplex(n){var a=n.re+1;return new w(Math.log(Math.sqrt(a*a+n.im*n.im)),Math.atan2(n.im,a))}}),uX="lsolveAll",uJ=factory_factory(uX,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:a,matrix:h,divideScalar:b,multiplyScalar:N,subtractScalar:w,equalScalar:_,DenseMatrix:D}=n,E=createSolveValidation({DenseMatrix:D});return a(uX,{"SparseMatrix, Array | Matrix":function(n,a){return function(n,a){for(var h=[E(n,a,!0)._data.map(n=>n[0])],A=n._size[0],M=n._size[1],B=n._values,I=n._index,z=n._ptr,q=0;q<M;q++)for(var j=h.length,L=0;L<j;L++){for(var H=h[L],$=[],V=[],G=z[q],Z=z[q+1],W=0,Y=G;Y<Z;Y++){var X=I[Y];X===q?W=B[Y]:X>q&&($.push(B[Y]),V.push(X))}if(_(W,0)){if(_(H[q],0)){if(0===L){var J=[...H];J[q]=1;for(var Q=0,K=V.length;Q<K;Q++){var ee=V[Q];J[ee]=w(J[ee],$[Q])}h.push(J)}}else{if(0===L)return[];h.splice(L,1),L-=1,j-=1}}else{H[q]=b(H[q],W);for(var er=0,et=V.length;er<et;er++){var en=V[er];H[en]=w(H[en],N(H[q],$[er]))}}}return h.map(n=>new D({data:n.map(n=>[n]),size:[A,1]}))}(n,a)},"DenseMatrix, Array | Matrix":function(n,a){return _denseForwardSubstitution(n,a)},"Array, Array | Matrix":function(n,a){return _denseForwardSubstitution(h(n),a).map(n=>n.valueOf())}});function _denseForwardSubstitution(n,a){for(var h=[E(n,a,!0)._data.map(n=>n[0])],A=n._data,M=n._size[0],B=n._size[1],I=0;I<B;I++)for(var z=h.length,q=0;q<z;q++){var j=h[q];if(_(A[I][I],0)){if(_(j[I],0)){if(0===q){var L=[...j];L[I]=1;for(var H=I+1;H<B;H++)L[H]=w(L[H],A[H][I]);h.push(L)}}else{if(0===q)return[];h.splice(q,1),q-=1,z-=1}}else{j[I]=b(j[I],A[I][I]);for(var $=I+1;$<B;$++)j[$]=w(j[$],N(j[I],A[$][I]))}}return h.map(n=>new D({data:n.map(n=>[n]),size:[M,1]}))}}),uQ="setCartesian",uK=factory_factory(uQ,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:a,size:h,subset:b,compareNatural:N,Index:w,DenseMatrix:_}=n;return a(uQ,{"Array | Matrix, Array | Matrix":function(n,a){var D=[];if(0!==b(h(n),new w(0))&&0!==b(h(a),new w(0))){var E=flatten(Array.isArray(n)?n:n.toArray()).sort(N),A=flatten(Array.isArray(a)?a:a.toArray()).sort(N);D=[];for(var M=0;M<E.length;M++)for(var B=0;B<A.length;B++)D.push([E[M],A[B]])}return Array.isArray(n)&&Array.isArray(a)?D:new _(D)}})}),u0="setDistinct",u1=factory_factory(u0,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:a,size:h,subset:b,compareNatural:N,Index:w,DenseMatrix:_}=n;return a(u0,{"Array | Matrix":function(n){var a;if(0===b(h(n),new w(0)))a=[];else{var D=flatten(Array.isArray(n)?n:n.toArray()).sort(N);(a=[]).push(D[0]);for(var E=1;E<D.length;E++)0!==N(D[E],D[E-1])&&a.push(D[E])}return Array.isArray(n)?a:new _(a)}})}),u2="setIsSubset",u3=factory_factory(u2,["typed","size","subset","compareNatural","Index"],n=>{var{typed:a,size:h,subset:b,compareNatural:N,Index:w}=n;return a(u2,{"Array | Matrix, Array | Matrix":function(n,a){if(0===b(h(n),new w(0)))return!0;if(0===b(h(a),new w(0)))return!1;for(var _,D=identify(flatten(Array.isArray(n)?n:n.toArray()).sort(N)),E=identify(flatten(Array.isArray(a)?a:a.toArray()).sort(N)),A=0;A<D.length;A++){_=!1;for(var M=0;M<E.length;M++)if(0===N(D[A].value,E[M].value)&&D[A].identifier===E[M].identifier){_=!0;break}if(!1===_)return!1}return!0}})}),u4="setPowerset",u5=factory_factory(u4,["typed","size","subset","compareNatural","Index"],n=>{var{typed:a,size:h,subset:b,compareNatural:N,Index:w}=n;return a(u4,{"Array | Matrix":function(n){if(0===b(h(n),new w(0)))return[];for(var a=flatten(Array.isArray(n)?n:n.toArray()).sort(N),_=[],D=0;D.toString(2).length<=a.length;)_.push(function(n,a){for(var h=[],b=0;b<a.length;b++)"1"===a[b]&&h.push(n[b]);return h}(a,D.toString(2).split("").reverse())),D++;return function(n){for(var a=[],h=n.length-1;h>0;h--)for(var b=0;b<h;b++)n[b].length>n[b+1].length&&(a=n[b],n[b]=n[b+1],n[b+1]=a);return n}(_)}})});function csTdfs(n,a,h,b,N,w,_){var D=0;for(h[_]=n;D>=0;){var E=h[_+D],A=h[b+E];-1===A?(D--,w[a++]=E):(h[b+E]=h[N+A],h[_+ ++D]=A)}return a}var u8=factory_factory("csAmd",["add","multiply","transpose"],n=>{var{add:a,multiply:h,transpose:b}=n;return function(n,N){if(!N||n<=0||n>3)return null;var w,_,D,E,A,M,B,I,z,q,j,L,H,$,V,G,Z=N._size,W=Z[0],Y=Z[1],X=0,J=Math.max(16,10*Math.sqrt(Y));J=Math.min(Y-2,J);var Q=function(n,N,w,_,D){var E=b(N);if(1===n&&_===w)return a(N,E);if(2===n){for(var A=E._index,M=E._ptr,B=0,I=0;I<w;I++){var z=M[I];if(M[I]=B,!(M[I+1]-z>D))for(var q=M[I+1];z<q;z++)A[B++]=A[z]}M[w]=B,N=b(E)}return h(E,N)}(n,N,W,Y,J);!function(n,a,h){for(var b=n._values,N=n._index,w=n._ptr,_=n._size[1],D=0,E=0;E<_;E++){var A=w[E];for(w[E]=D;A<w[E+1];A++)a(N[A],E,b?b[A]:1,null)&&(N[D]=N[A],b&&(b[D]=b[A]),D++)}w[_]=D,N.splice(D,N.length-D),b&&b.splice(D,b.length-D)}(Q,_diag,0);for(var K=Q._index,ee=Q._ptr,er=ee[Y],et=[],en=[],ei=Y+1,ea=2*(Y+1),eo=3*(Y+1),es=4*(Y+1),eu=5*(Y+1),ec=6*(Y+1),el=7*(Y+1),ef=function(n,a,h,b,N,w,_,D,E,A,M,B){for(var I=0;I<n;I++)h[b+I]=a[I+1]-a[I];h[b+n]=0;for(var z=0;z<=n;z++)h[N+z]=-1,w[z]=-1,h[_+z]=-1,h[D+z]=-1,h[E+z]=1,h[A+z]=1,h[M+z]=0,h[B+z]=h[b+z];var q=_wclear(0,0,h,A,n);return h[M+n]=-2,a[n]=-1,h[A+n]=0,q}(Y,ee,en,0,eo,et,ea,el,ei,ec,es,eu),em=function(n,a,h,b,N,w,_,D,E,A,M){for(var B=0,I=0;I<n;I++){var z=h[b+I];if(0===z)h[N+I]=-2,B++,a[I]=-1,h[w+I]=0;else if(z>_)h[D+I]=0,h[N+I]=-1,B++,a[I]=-n-2,h[D+n]++;else{var q=h[E+z];-1!==q&&(A[q]=I),h[M+I]=h[E+z],h[E+z]=I}}return B}(Y,ee,en,eu,es,ec,J,ei,eo,et,ea),ep=0;em<Y;){for(D=-1;ep<Y&&-1===(D=en[eo+ep]);ep++);-1!==en[ea+D]&&(et[en[ea+D]]=-1),en[eo+ep]=en[ea+D];var ed=en[es+D],eh=en[ei+D];em+=eh;var eg=0;en[ei+D]=-eh;var ey=ee[D],ev=0===ed?ey:er,ex=ev;for(E=1;E<=ed+1;E++){for(E>ed?(M=D,B=ey,I=en[0+D]-ed):(B=ee[M=K[ey++]],I=en[0+M]),A=1;A<=I;A++)(z=en[ei+(w=K[B++])])<=0||(eg+=z,en[ei+w]=-z,K[ex++]=w,-1!==en[ea+w]&&(et[en[ea+w]]=et[w]),-1!==et[w]?en[ea+et[w]]=en[ea+w]:en[eo+en[eu+w]]=en[ea+w]);M!==D&&(ee[M]=-D-2,en[ec+M]=0)}for(0!==ed&&(er=ex),en[eu+D]=eg,ee[D]=ev,en[0+D]=ex-ev,en[es+D]=-2,ef=_wclear(ef,X,en,ec,Y),q=ev;q<ex;q++)if(!((j=en[es+(w=K[q])])<=0)){var eb=ef-(z=-en[ei+w]);for(ey=ee[w],L=ee[w]+j-1;ey<=L;ey++)en[ec+(M=K[ey])]>=ef?en[ec+M]-=z:0!==en[ec+M]&&(en[ec+M]=en[eu+M]+eb)}for(q=ev;q<ex;q++){for(V=0,H=(L=ee[w=K[q]])+en[es+w]-1,$=L,G=0,ey=L;ey<=H;ey++)if(0!==en[ec+(M=K[ey])]){var eN=en[ec+M]-ef;eN>0?(G+=eN,K[$++]=M,V+=M):(ee[M]=-D-2,en[ec+M]=0)}en[es+w]=$-L+1;var ew=$,e_=L+en[0+w];for(ey=H+1;ey<e_;ey++){var eD=en[ei+(_=K[ey])];eD<=0||(G+=eD,K[$++]=_,V+=_)}0===G?(ee[w]=-D-2,eg-=z=-en[ei+w],eh+=z,em+=z,en[ei+w]=0,en[es+w]=-1):(en[eu+w]=Math.min(en[eu+w],G),K[$]=K[ew],K[ew]=K[L],K[L]=D,en[0+w]=$-L+1,V=(V<0?-V:V)%Y,en[ea+w]=en[el+V],en[el+V]=w,et[w]=V)}for(en[eu+D]=eg,ef=_wclear(ef+(X=Math.max(X,eg)),X,en,ec,Y),q=ev;q<ex;q++)if(!(en[ei+(w=K[q])]>=0))for(w=en[el+(V=et[w])],en[el+V]=-1;-1!==w&&-1!==en[ea+w];w=en[ea+w],ef++){for(I=en[0+w],j=en[es+w],ey=ee[w]+1;ey<=ee[w]+I-1;ey++)en[ec+K[ey]]=ef;var eE=w;for(_=en[ea+w];-1!==_;){var eA=en[0+_]===I&&en[es+_]===j;for(ey=ee[_]+1;eA&&ey<=ee[_]+I-1;ey++)en[ec+K[ey]]!==ef&&(eA=0);eA?(ee[_]=-w-2,en[ei+w]+=en[ei+_],en[ei+_]=0,en[es+_]=-1,_=en[ea+_],en[ea+eE]=_):(eE=_,_=en[ea+_])}}for(ey=ev,q=ev;q<ex;q++)(z=-en[ei+(w=K[q])])<=0||(en[ei+w]=z,G=Math.min(G=en[eu+w]+eg-z,Y-em-z),-1!==en[eo+G]&&(et[en[eo+G]]=w),en[ea+w]=en[eo+G],et[w]=-1,en[eo+G]=w,ep=Math.min(ep,G),en[eu+w]=G,K[ey++]=w);en[ei+D]=eh,0==(en[0+D]=ey-ev)&&(ee[D]=-1,en[ec+D]=0),0!==ed&&(er=ey)}for(w=0;w<Y;w++)ee[w]=-ee[w]-2;for(_=0;_<=Y;_++)en[eo+_]=-1;for(_=Y;_>=0;_--)en[ei+_]>0||(en[ea+_]=en[eo+ee[_]],en[eo+ee[_]]=_);for(M=Y;M>=0;M--)en[ei+M]<=0||-1===ee[M]||(en[ea+M]=en[eo+ee[M]],en[eo+ee[M]]=M);for(D=0,w=0;w<=Y;w++)-1===ee[w]&&(D=csTdfs(w,D,en,eo,ea,et,ec));return et.splice(et.length-1,1),et};function _wclear(n,a,h,b,N){if(n<2||n+a<0){for(var w=0;w<N;w++)0!==h[b+w]&&(h[b+w]=1);n=2}return n}function _diag(n,a){return n!==a}}),u6=factory_factory("csCounts",["transpose"],n=>{var{transpose:a}=n;return function(n,h,b,N){if(!n||!h||!b)return null;var w,_,D,E,A,M,B,I=n._size,z=I[0],q=I[1],j=4*q+(N?q+z+1:0),L=[],H=2*q,$=3*q,V=4*q,G=5*q+1;for(D=0;D<j;D++)L[D]=-1;var Z=[],W=a(n),Y=W._index,X=W._ptr;for(D=0;D<q;D++)for(Z[_=b[D]]=-1===L[$+_]?1:0;-1!==_&&-1===L[$+_];_=h[_])L[$+_]=D;if(N){for(D=0;D<q;D++)L[b[D]]=D;for(w=0;w<z;w++){for(D=q,M=X[w],B=X[w+1],A=M;A<B;A++)D=Math.min(D,L[Y[A]]);L[G+w]=L[V+D],L[V+D]=w}}for(w=0;w<q;w++)L[0+w]=w;for(D=0;D<q;D++){for(-1!==h[_=b[D]]&&Z[h[_]]--,E=N?L[V+D]:_;-1!==E;E=N?L[G+E]:-1)for(A=X[E];A<X[E+1];A++){var J=function(n,a,h,b,N,w,_){var D,E,A,M=0;if(n<=a||h[b+a]<=h[N+n])return -1;h[N+n]=h[b+a];var B=h[w+n];if(h[w+n]=a,-1===B)M=1,A=n;else{for(M=2,A=B;A!==h[_+A];A=h[_+A]);for(D=B;D!==A;D=E)E=h[_+D],h[_+D]=A}return{jleaf:M,q:A}}(w=Y[A],_,L,$,q,H,0);J.jleaf>=1&&Z[_]++,2===J.jleaf&&Z[J.q]--}-1!==h[_]&&(L[0+_]=h[_])}for(_=0;_<q;_++)-1!==h[_]&&(Z[h[_]]+=Z[_]);return Z}}),u7=factory_factory("csSqr",["add","multiply","transpose"],n=>{var{add:a,multiply:h,transpose:b}=n,N=u8({add:a,multiply:h,transpose:b}),w=u6({transpose:b});return function(n,a,h){var b,_=a._ptr,D=a._size[1],E={};if(E.q=N(n,a),n&&!E.q)return null;if(h){var A=n?function(n,a,h,b){n._values;for(var N=n._index,w=n._ptr,_=n._size,D=n._datatype,E=_[0],A=_[1],M=[],B=[],I=0,z=0;z<A;z++){B[z]=I;for(var q=h?h[z]:z,j=w[q],L=w[q+1],H=j;H<L;H++){var $=a?a[N[H]]:N[H];M[I]=$,I++}}return B[A]=I,n.createSparseMatrix({values:null,index:M,ptr:B,size:[E,A],datatype:D})}(a,null,E.q,0):a;E.parent=function(n,a){if(!n)return null;var h,b,N=n._index,w=n._ptr,_=n._size,D=_[0],E=_[1],A=[],M=[];if(a)for(h=0;h<D;h++)M[E+h]=-1;for(var B=0;B<E;B++){A[B]=-1,M[0+B]=-1;for(var I=w[B],z=w[B+1],q=I;q<z;q++){var j=N[q];for(h=a?M[E+j]:j;-1!==h&&h<B;h=b)b=M[0+h],M[0+h]=B,-1===b&&(A[h]=B);a&&(M[E+j]=B)}}return A}(A,1);var M=function(n,a){if(!n)return null;var h,b=0,N=[],w=[],_=2*a;for(h=0;h<a;h++)w[0+h]=-1;for(h=a-1;h>=0;h--)-1!==n[h]&&(w[a+h]=w[0+n[h]],w[0+n[h]]=h);for(h=0;h<a;h++)-1===n[h]&&(b=csTdfs(h,b,w,0,a,N,_));return N}(E.parent,D);if(E.cp=w(A,E.parent,M,1),A&&E.parent&&E.cp&&function(n,a){var h,b,N,w,_,D=n._ptr,E=n._index,A=n._size,M=A[0],B=A[1];a.pinv=[],a.leftmost=[];var I=a.parent,z=a.pinv,q=a.leftmost,j=[],L=M+B,H=M+2*B;for(b=0;b<B;b++)j[M+b]=-1,j[L+b]=-1,j[H+b]=0;for(h=0;h<M;h++)q[h]=-1;for(b=B-1;b>=0;b--)for(w=D[b],_=D[b+1],N=w;N<_;N++)q[E[N]]=b;for(h=M-1;h>=0;h--)z[h]=-1,-1!==(b=q[h])&&(0==j[H+b]++&&(j[L+b]=h),j[0+h]=j[M+b],j[M+b]=h);for(b=0,a.lnz=0,a.m2=M;b<B;b++)if(h=j[M+b],a.lnz++,h<0&&(h=a.m2++),z[h]=b,!(--H[b]<=0)){a.lnz+=j[H+b];var $=I[b];-1!==$&&(0===j[H+$]&&(j[L+$]=j[L+b]),j[0+j[L+b]]=j[M+$],j[M+$]=j[0+h],j[H+$]+=j[H+b])}for(h=0;h<M;h++)z[h]<0&&(z[h]=b++);return!0}(A,E))for(E.unz=0,b=0;b<D;b++)E.unz+=E.cp[b]}else E.unz=4*_[D]+D,E.lnz=E.unz;return E}}),u9=factory_factory("csSpsolve",["divideScalar","multiply","subtract"],n=>{var{divideScalar:a,multiply:h,subtract:b}=n;return function(n,N,w,_,D,E,A){var M,B,I,z,q=n._values,j=n._index,L=n._ptr,H=n._size[1],$=N._values,V=N._index,G=N._ptr,Z=function(n,a,h,b,N){var w,_,D,E,A=n._ptr,M=n._size,B=a._index,I=a._ptr,z=M[1],q=z;for(D=I[h],E=I[h+1],_=D;_<E;_++){var j=B[_];A[j]<0||(q=function(n,a,h,b,N){var w,_,D,E=a._index,A=a._ptr,M=a._size[1],B=0;for(b[0]=n;B>=0;){n=b[B];var I,z,q,j=N?N[n]:n;!(A[n]<0)&&(A[I=n]=-A[I]-2,b[M+B]=j<0?0:(z=A[j])<0?-z-2:z);var L=1;for(_=b[M+B],D=j<0?0:(q=A[j+1])<0?-q-2:q;_<D;_++)if(!(A[w=E[_]]<0)){b[M+B]=_,b[++B]=w,L=0;break}L&&(B--,b[--h]=n)}return h}(j,n,q,b,N))}for(_=q;_<z;_++)A[w=b[_]]=-A[w]-2;return q}(n,N,w,_,E);for(M=Z;M<H;M++)D[_[M]]=0;for(B=G[w],I=G[w+1],M=B;M<I;M++)D[V[M]]=$[M];for(var W=Z;W<H;W++){var Y=_[W],X=E?E[Y]:Y;if(!(X<0))for(B=L[X],I=L[X+1],D[Y]=a(D[Y],q[A?B:I-1]),M=A?B+1:B,z=A?I:I-1;M<z;M++){var J=j[M];D[J]=b(D[J],h(q[M],D[Y]))}}return Z}}),ce=factory_factory("csLu",["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],n=>{var{abs:a,divideScalar:h,multiply:b,subtract:N,larger:w,largerEq:_,SparseMatrix:D}=n,E=u9({divideScalar:h,multiply:b,subtract:N});return function(n,N,A){if(!n)return null;var M,B,I,z=n._size[1],q=100,j=100;N&&(M=N.q,q=N.lnz||q,j=N.unz||j);var L=[],H=[],$=[],V=new D({values:L,index:H,ptr:$,size:[z,z]}),G=[],Z=[],W=[],Y=new D({values:G,index:Z,ptr:W,size:[z,z]}),X=[],J=[],Q=[];for(B=0;B<z;B++)J[B]=0,X[B]=-1,$[B+1]=0;q=0,j=0;for(var K=0;K<z;K++){$[K]=q,W[K]=j;var ee=M?M[K]:K,er=E(V,n,ee,Q,J,X,1),et=-1,en=-1;for(I=er;I<z;I++)if(X[B=Q[I]]<0){var ei=a(J[B]);w(ei,en)&&(en=ei,et=B)}else Z[j]=X[B],G[j++]=J[B];if(-1===et||en<=0)return null;X[ee]<0&&_(a(J[ee]),b(en,A))&&(et=ee);var ea=J[et];for(Z[j]=K,G[j++]=ea,X[et]=K,H[q]=et,L[q++]=1,I=er;I<z;I++)X[B=Q[I]]<0&&(H[q]=B,L[q++]=h(J[B],ea)),J[B]=0}for(I=0,$[z]=q,W[z]=j;I<q;I++)H[I]=X[H[I]];return L.splice(q,L.length-q),H.splice(q,H.length-q),G.splice(j,G.length-j),Z.splice(j,Z.length-j),{L:V,U:Y,pinv:X}}}),cr=factory_factory("slu",["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],n=>{var{typed:a,abs:h,add:b,multiply:N,transpose:w,divideScalar:_,subtract:D,larger:E,largerEq:A,SparseMatrix:M}=n,B=u7({add:b,multiply:N,transpose:w}),I=ce({abs:h,divideScalar:_,multiply:N,subtract:D,larger:E,largerEq:A,SparseMatrix:M});return a("slu",{"SparseMatrix, number, number":function(n,a,h){if(!isInteger(a)||a<0||a>3)throw Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(h<0||h>1)throw Error("Partial pivoting threshold must be a number from 0 to 1");var b=B(a,n,!1),N=I(n,b,h);return{L:N.L,U:N.U,p:N.pinv,q:b.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}),ct="sort",cn=factory_factory(ct,["typed","matrix","compare","compareNatural"],n=>{var{typed:a,matrix:h,compare:b,compareNatural:N}=n,compareDesc=(n,a)=>-b(n,a);return a(ct,{Array:function(n){return _arrayIsVector(n),n.sort(b)},Matrix:function(n){return _matrixIsVector(n),h(n.toArray().sort(b),n.storage())},"Array, function":function(n,a){return _arrayIsVector(n),n.sort(a)},"Matrix, function":function(n,a){return _matrixIsVector(n),h(n.toArray().sort(a),n.storage())},"Array, string":function(n,a){return _arrayIsVector(n),n.sort(_comparator(a))},"Matrix, string":function(n,a){return _matrixIsVector(n),h(n.toArray().sort(_comparator(a)),n.storage())}});function _comparator(n){if("asc"===n)return b;if("desc"===n)return compareDesc;if("natural"===n)return N;throw Error('String "asc", "desc", or "natural" expected')}function _arrayIsVector(n){if(1!==arraySize(n).length)throw Error("One dimensional array expected")}function _matrixIsVector(n){if(1!==n.size().length)throw Error("One dimensional matrix expected")}}),ci="unaryPlus",ca=factory_factory(ci,["typed","config","numeric"],n=>{var{typed:a,config:h,numeric:b}=n;return a(ci,{number:unaryPlusNumber,Complex:function(n){return n},BigNumber:function(n){return n},bigint:function(n){return n},Fraction:function(n){return n},Unit:function(n){return n.clone()},"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n,!0)),boolean:function(n){return b(n?1:0,h.number)},string:function(n){return b(n,safeNumberType(n,h))}})}),co="usolveAll",cs=factory_factory(co,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:a,matrix:h,divideScalar:b,multiplyScalar:N,subtractScalar:w,equalScalar:_,DenseMatrix:D}=n,E=createSolveValidation({DenseMatrix:D});return a(co,{"SparseMatrix, Array | Matrix":function(n,a){return function(n,a){for(var h=[E(n,a,!0)._data.map(n=>n[0])],A=n._size[0],M=n._size[1],B=n._values,I=n._index,z=n._ptr,q=M-1;q>=0;q--)for(var j=h.length,L=0;L<j;L++){for(var H=h[L],$=[],V=[],G=z[q],Z=z[q+1],W=0,Y=Z-1;Y>=G;Y--){var X=I[Y];X===q?W=B[Y]:X<q&&($.push(B[Y]),V.push(X))}if(_(W,0)){if(_(H[q],0)){if(0===L){var J=[...H];J[q]=1;for(var Q=0,K=V.length;Q<K;Q++){var ee=V[Q];J[ee]=w(J[ee],$[Q])}h.push(J)}}else{if(0===L)return[];h.splice(L,1),L-=1,j-=1}}else{H[q]=b(H[q],W);for(var er=0,et=V.length;er<et;er++){var en=V[er];H[en]=w(H[en],N(H[q],$[er]))}}}return h.map(n=>new D({data:n.map(n=>[n]),size:[A,1]}))}(n,a)},"DenseMatrix, Array | Matrix":function(n,a){return _denseBackwardSubstitution(n,a)},"Array, Array | Matrix":function(n,a){return _denseBackwardSubstitution(h(n),a).map(n=>n.valueOf())}});function _denseBackwardSubstitution(n,a){for(var h=[E(n,a,!0)._data.map(n=>n[0])],A=n._data,M=n._size[0],B=n._size[1],I=B-1;I>=0;I--)for(var z=h.length,q=0;q<z;q++){var j=h[q];if(_(A[I][I],0)){if(_(j[I],0)){if(0===q){var L=[...j];L[I]=1;for(var H=I-1;H>=0;H--)L[H]=w(L[H],A[H][I]);h.push(L)}}else{if(0===q)return[];h.splice(q,1),q-=1,z-=1}}else{j[I]=b(j[I],A[I][I]);for(var $=I-1;$>=0;$--)j[$]=w(j[$],N(j[I],A[$][I]))}}return h.map(n=>new D({data:n.map(n=>[n]),size:[M,1]}))}}),cu="ceil",cc=new tL(10),cl=factory_factory(cu,["typed","config","round"],n=>{var{typed:a,config:h,round:b}=n;function _ceilNumber(n){var a=Math.ceil(n),N=b(n);return a===N?a:nearlyEqual(n,N,h.relTol,h.absTol)&&!nearlyEqual(n,a,h.relTol,h.absTol)?N:a}return a(cu,{number:_ceilNumber,"number, number":function(n,a){if(!isInteger(a))throw RangeError("number of decimals in function ceil must be an integer");if(a<0||a>15)throw RangeError("number of decimals in ceil number must be in range 0-15");var h=10**a;return _ceilNumber(n*h)/h}})}),cf=factory_factory(cu,["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],n=>{var{typed:a,config:h,round:b,matrix:N,equalScalar:w,zeros:_,DenseMatrix:D}=n,E=rb({typed:a,equalScalar:w}),A=rf({typed:a,DenseMatrix:D}),M=rd({typed:a}),B=cl({typed:a,config:h,round:b});function _bigCeil(n){var bne=(n,a)=>nearlyEqual_nearlyEqual(n,a,h.relTol,h.absTol),a=n.ceil(),N=b(n);return a.eq(N)?a:bne(n,N)&&!bne(n,a)?N:a}return a("ceil",{number:B.signatures.number,"number,number":B.signatures["number,number"],Complex:function(n){return n.ceil()},"Complex, number":function(n,a){return n.ceil(a)},"Complex, BigNumber":function(n,a){return n.ceil(a.toNumber())},BigNumber:_bigCeil,"BigNumber, BigNumber":function(n,a){var h=cc.pow(a);return _bigCeil(n.mul(h)).div(h)},bigint:n=>n,"bigint, number":(n,a)=>n,"bigint, BigNumber":(n,a)=>n,Fraction:function(n){return n.ceil()},"Fraction, number":function(n,a){return n.ceil(a)},"Fraction, BigNumber":function(n,a){return n.ceil(a.toNumber())},"Unit, number, Unit":a.referToSelf(n=>function(a,h,b){var N=a.toNumeric(b);return b.multiply(n(N,h))}),"Unit, BigNumber, Unit":a.referToSelf(n=>(a,h,b)=>n(a,h.toNumber(),b)),"Array | Matrix, number | BigNumber, Unit":a.referToSelf(n=>(a,h,b)=>collection_deepMap(a,a=>n(a,h,b),!0)),"Array | Matrix | Unit, Unit":a.referToSelf(n=>(a,h)=>n(a,0,h)),"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n,!0)),"Array, number | BigNumber":a.referToSelf(n=>(a,h)=>collection_deepMap(a,a=>n(a,h),!0)),"SparseMatrix, number | BigNumber":a.referToSelf(n=>(a,h)=>E(a,h,n,!1)),"DenseMatrix, number | BigNumber":a.referToSelf(n=>(a,h)=>M(a,h,n,!1)),"number | Complex | Fraction | BigNumber, Array":a.referToSelf(n=>(a,h)=>M(N(h),a,n,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":a.referToSelf(n=>(a,h)=>w(a,0)?_(h.size(),h.storage()):"dense"===h.storage()?M(h,a,n,!0):A(h,a,n,!0))})}),cm=factory_factory("fix",["typed","ceil","floor"],n=>{var{typed:a,ceil:h,floor:b}=n;return a("fix",{number:function(n){return n>0?b(n):h(n)},"number, number":function(n,a){return n>0?b(n,a):h(n,a)}})}),cp=factory_factory("fix",["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],n=>{var{typed:a,Complex:h,matrix:b,ceil:N,floor:w,equalScalar:_,zeros:D,DenseMatrix:E}=n,A=rf({typed:a,DenseMatrix:E}),M=rd({typed:a}),B=cm({typed:a,ceil:N,floor:w});return a("fix",{number:B.signatures.number,"number, number | BigNumber":B.signatures["number,number"],Complex:function(n){return new h(n.re>0?Math.floor(n.re):Math.ceil(n.re),n.im>0?Math.floor(n.im):Math.ceil(n.im))},"Complex, number":function(n,a){return new h(n.re>0?w(n.re,a):N(n.re,a),n.im>0?w(n.im,a):N(n.im,a))},"Complex, BigNumber":function(n,a){var b=a.toNumber();return new h(n.re>0?w(n.re,b):N(n.re,b),n.im>0?w(n.im,b):N(n.im,b))},BigNumber:function(n){return n.isNegative()?N(n):w(n)},"BigNumber, number | BigNumber":function(n,a){return n.isNegative()?N(n,a):w(n,a)},bigint:n=>n,"bigint, number":(n,a)=>n,"bigint, BigNumber":(n,a)=>n,Fraction:function(n){return n.s<0n?n.ceil():n.floor()},"Fraction, number | BigNumber":function(n,a){return n.s<0n?N(n,a):w(n,a)},"Unit, number, Unit":a.referToSelf(n=>function(a,h,b){var N=a.toNumeric(b);return b.multiply(n(N,h))}),"Unit, BigNumber, Unit":a.referToSelf(n=>(a,h,b)=>n(a,h.toNumber(),b)),"Array | Matrix, number | BigNumber, Unit":a.referToSelf(n=>(a,h,b)=>collection_deepMap(a,a=>n(a,h,b),!0)),"Array | Matrix | Unit, Unit":a.referToSelf(n=>(a,h)=>n(a,0,h)),"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n,!0)),"Array | Matrix, number | BigNumber":a.referToSelf(n=>(a,h)=>collection_deepMap(a,a=>n(a,h),!0)),"number | Complex | Fraction | BigNumber, Array":a.referToSelf(n=>(a,h)=>M(b(h),a,n,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":a.referToSelf(n=>(a,h)=>_(a,0)?D(h.size(),h.storage()):"dense"===h.storage()?M(h,a,n,!0):A(h,a,n,!0))})}),cd="setDifference",ch=factory_factory(cd,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:a,size:h,subset:b,compareNatural:N,Index:w,DenseMatrix:_}=n;return a(cd,{"Array | Matrix, Array | Matrix":function(n,a){var D;if(0===b(h(n),new w(0)))D=[];else{if(0===b(h(a),new w(0)))return flatten(n.toArray());var E,A=identify(flatten(Array.isArray(n)?n:n.toArray()).sort(N)),M=identify(flatten(Array.isArray(a)?a:a.toArray()).sort(N));D=[];for(var B=0;B<A.length;B++){E=!1;for(var I=0;I<M.length;I++)if(0===N(A[B].value,M[I].value)&&A[B].identifier===M[I].identifier){E=!0;break}E||D.push(A[B])}}return Array.isArray(n)&&Array.isArray(a)?generalize(D):new _(generalize(D))}})}),cg="setMultiplicity",cy=factory_factory(cg,["typed","size","subset","compareNatural","Index"],n=>{var{typed:a,size:h,subset:b,compareNatural:N,Index:w}=n;return a(cg,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(n,a){if(0===b(h(a),new w(0)))return 0;for(var _=flatten(Array.isArray(a)?a:a.toArray()),D=0,E=0;E<_.length;E++)0===N(_[E],n)&&D++;return D}})}),cv="setSymDifference",cx=factory_factory(cv,["typed","size","concat","subset","setDifference","Index"],n=>{var{typed:a,size:h,concat:b,subset:N,setDifference:w,Index:_}=n;return a(cv,{"Array | Matrix, Array | Matrix":function(n,a){if(0===N(h(n),new _(0)))return flatten(a);if(0===N(h(a),new _(0)))return flatten(n);var D=flatten(n),E=flatten(a);return b(w(D,E),w(E,D))}})}),cb=factory_factory("Spa",["addScalar","equalScalar","FibonacciHeap"],n=>{var{addScalar:a,equalScalar:h,FibonacciHeap:b}=n;function Spa(){if(!(this instanceof Spa))throw SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new b}return Spa.prototype.type="Spa",Spa.prototype.isSpa=!0,Spa.prototype.set=function(n,a){if(this._values[n])this._values[n].value=a;else{var h=this._heap.insert(n,a);this._values[n]=h}},Spa.prototype.get=function(n){var a=this._values[n];return a?a.value:0},Spa.prototype.accumulate=function(n,h){var b=this._values[n];b?b.value=a(b.value,h):(b=this._heap.insert(n,h),this._values[n]=b)},Spa.prototype.forEach=function(n,a,b){var N=this._heap,w=this._values,_=[],D=N.extractMinimum();for(D&&_.push(D);D&&D.key<=a;)D.key>=n&&!h(D.value,0)&&b(D.key,D.value,this),(D=N.extractMinimum())&&_.push(D);for(var E=0;E<_.length;E++){var A=_[E];w[(D=N.insert(A.key,A.value)).key]=D}},Spa.prototype.swap=function(n,a){var h=this._values[n],b=this._values[a];if(!h&&b)h=this._heap.insert(n,b.value),this._heap.remove(b),this._values[n]=h,this._values[a]=void 0;else if(h&&!b)b=this._heap.insert(a,h.value),this._heap.remove(h),this._values[a]=b,this._values[n]=void 0;else if(h&&b){var N=h.value;h.value=b.value,b.value=N}},Spa},{isClass:!0}),cN=factory_factory("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],n=>{var{typed:a,matrix:h,divideScalar:b,addScalar:N,multiply:w,unaryMinus:_,det:D,identity:E,abs:A}=n;return a("inv",{"Array | Matrix":function(n){var a=isMatrix(n)?n.size():arraySize(n);switch(a.length){case 1:if(1===a[0]){if(isMatrix(n))return h([b(1,n.valueOf()[0])]);return[b(1,n[0])]}throw RangeError("Matrix must be square (size: "+string_format(a)+")");case 2:var N=a[0],w=a[1];if(N===w){if(isMatrix(n))return h(_inv(n.valueOf(),N,w),n.storage());return _inv(n,N,w)}throw RangeError("Matrix must be square (size: "+string_format(a)+")");default:throw RangeError("Matrix must be two dimensional (size: "+string_format(a)+")")}},any:function(n){return b(1,n)}});function _inv(n,a,h){if(1===a){if(0===(z=n[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[b(1,z)]]}if(2===a){var M,B,I,z,q,j=D(n);if(0===j)throw Error("Cannot calculate inverse, determinant is zero");return[[b(n[1][1],j),b(_(n[0][1]),j)],[b(_(n[1][0]),j),b(n[0][0],j)]]}var L=n.concat();for(M=0;M<a;M++)L[M]=L[M].concat();for(var H=E(a).valueOf(),$=0;$<h;$++){var V=A(L[$][$]),G=$;for(M=$+1;M<a;)A(L[M][$])>V&&(V=A(L[M][$]),G=M),M++;if(0===V)throw Error("Cannot calculate inverse, determinant is zero");(M=G)!==$&&(q=L[$],L[$]=L[M],L[M]=q,q=H[$],H[$]=H[M],H[M]=q);var Z=L[$],W=H[$];for(M=0;M<a;M++){var Y=L[M],X=H[M];if(M!==$){if(0!==Y[$]){for(I=b(_(Y[$]),Z[$]),B=$;B<h;B++)Y[B]=N(Y[B],w(I,Z[B]));for(B=0;B<h;B++)X[B]=N(X[B],w(I,W[B]))}}else{for(I=Z[$],B=$;B<h;B++)Y[B]=b(Y[B],I);for(B=0;B<h;B++)X[B]=b(X[B],I)}}}return H}}),cw=factory_factory("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],n=>{var{typed:a,matrix:h,abs:b,addScalar:N,divideScalar:w,multiplyScalar:_,subtractScalar:D,larger:E,equalScalar:A,unaryMinus:M,DenseMatrix:B,SparseMatrix:I,Spa:z}=n;return a("lup",{DenseMatrix:function(n){return _denseLUP(n)},SparseMatrix:function(n){return function(n){var a,h,N,D=n._size[0],B=n._size[1],q=Math.min(D,B),j=n._values,L=n._index,H=n._ptr,$=[],V=[],G=[],Z=[D,q],W=[],Y=[],X=[],J=[q,B],Q=[],K=[];for(a=0;a<D;a++)Q[a]=a,K[a]=a;var swapIndeces=function(n,a){var h=K[n],b=K[a];Q[h]=a,Q[b]=n,K[n]=b,K[a]=h};for(h=0;h<B;h++)!function(){var n=new z;h<D&&(G.push($.length),$.push(1),V.push(h)),X.push(W.length);var B=H[h],q=H[h+1];for(N=B;N<q;N++)a=L[N],n.set(Q[a],j[N]);h>0&&n.forEach(0,h-1,function(a,h){I._forEachRow(a,$,V,G,function(b,N){b>a&&n.accumulate(b,M(_(N,h)))})});var K=h,ee=n.get(h),er=b(ee);n.forEach(h+1,D-1,function(n,a){var h=b(a);E(h,er)&&(K=n,er=h,ee=a)}),h!==K&&(I._swapRows(h,K,Z[1],$,V,G),I._swapRows(h,K,J[1],W,Y,X),n.swap(h,K),swapIndeces(h,K)),n.forEach(0,D-1,function(n,a){n<=h?(W.push(a),Y.push(n)):A(a=w(a,ee),0)||($.push(a),V.push(n))})}();return X.push(W.length),G.push($.length),{L:new I({values:$,index:V,ptr:G,size:Z}),U:new I({values:W,index:Y,ptr:X,size:J}),p:Q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(n)},Array:function(n){var a=_denseLUP(h(n));return{L:a.L.valueOf(),U:a.U.valueOf(),p:a.p}}});function _denseLUP(n){var a,h,M,I=n._size[0],z=n._size[1],q=Math.min(I,z),j=object_clone(n._data),L=[],H=[I,q],$=[],V=[q,z],G=[];for(a=0;a<I;a++)G[a]=a;for(h=0;h<z;h++){if(h>0)for(a=0;a<I;a++){var Z=Math.min(a,h),W=0;for(M=0;M<Z;M++)W=N(W,_(j[a][M],j[M][h]));j[a][h]=D(j[a][h],W)}var Y=h,X=0,J=0;for(a=h;a<I;a++){var Q=j[a][h],K=b(Q);E(K,X)&&(Y=a,X=K,J=Q)}if(h!==Y&&(G[h]=[G[Y],G[Y]=G[h]][0],B._swapRows(h,Y,j)),h<I)for(a=h+1;a<I;a++)A(j[a][h],0)||(j[a][h]=w(j[a][h],J))}for(h=0;h<z;h++)for(a=0;a<I;a++){if(0===h&&(a<z&&($[a]=[]),L[a]=[]),a<h){a<z&&($[a][h]=j[a][h]),h<I&&(L[a][h]=0);continue}if(a===h){a<z&&($[a][h]=j[a][h]),h<I&&(L[a][h]=1);continue}a<z&&($[a][h]=0),h<I&&(L[a][h]=j[a][h])}var ee=new B({data:L,size:H}),er=new B({data:$,size:V}),et=[];for(a=0,q=G.length;a<q;a++)et[G[a]]=a;return{L:ee,U:er,p:et,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}),c_="pinv",cD=factory_factory(c_,["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],n=>{var{typed:a,matrix:h,inv:b,deepEqual:N,equal:w,dotDivide:_,dot:D,ctranspose:E,divideScalar:A,multiply:M,add:B,Complex:I}=n;return a(c_,{"Array | Matrix":function(n){var a=isMatrix(n)?n.size():arraySize(n);switch(a.length){case 1:if(_isZeros(n))return E(n);if(1===a[0])return b(n);return _(E(n),D(n,n));case 2:if(_isZeros(n))return E(n);var N=a[0],w=a[1];if(N===w)try{return b(n)}catch(n){if(n instanceof Error&&n.message.match(/Cannot calculate inverse, determinant is zero/));else throw n}if(isMatrix(n))return h(_pinv(n.valueOf(),N,w),n.storage());return _pinv(n,N,w);default:throw RangeError("Matrix must be two dimensional (size: "+string_format(a)+")")}},any:function(n){return w(n,0)?object_clone(n):A(1,n)}});function _pinv(n,a,h){var N,{C:w,F:A}=(N=function(n,a,h){for(var b=object_clone(n),N=0,w=0;w<a&&!(h<=N);w++){for(var D=w;_isZero(b[D][N]);)if(a===++D&&(D=w,h===++N))return b;[b[D],b[w]]=[b[w],b[D]];for(var E=b[w][N],A=0;A<h;A++)b[w][A]=_(b[w][A],E);for(var I=0;I<a;I++)if(I!==w){E=b[I][N];for(var z=0;z<h;z++)b[I][z]=B(b[I][z],M(-1,M(E,b[w][z])))}N++}return b}(n,a,h),{C:n.map((n,h)=>n.filter((n,h)=>h<a&&!_isZero(D(N[h],N[h])))),F:N.filter((n,a)=>!_isZero(D(N[a],N[a])))}),I=M(b(M(E(w),w)),E(w)),z=M(E(A),b(M(A,E(A))));return M(z,I)}function _isZero(n){return w(B(n,I(1,1)),B(0,I(1,1)))}function _isZeros(n){return N(B(n,I(1,1)),B(M(n,0),I(1,1)))}}),cE=factory_factory("pow",["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],n=>{var{typed:a,config:h,identity:b,multiply:N,matrix:w,inv:_,number:D,fraction:E,Complex:A}=n;return a("pow",{"number, number":_pow,"Complex, Complex":function(n,a){return n.pow(a)},"BigNumber, BigNumber":function(n,a){return a.isInteger()||n>=0||h.predictable?n.pow(a):new A(n.toNumber(),0).pow(a.toNumber(),0)},"bigint, bigint":(n,a)=>n**a,"Fraction, Fraction":function(n,a){var b=n.pow(a);if(null!=b)return b;if(!h.predictable)return _pow(n.valueOf(),a.valueOf());throw Error("Result of pow is non-rational and cannot be expressed as a fraction")},"Array, number":_powArray,"Array, BigNumber":function(n,a){return _powArray(n,a.toNumber())},"Matrix, number":_powMatrix,"Matrix, BigNumber":function(n,a){return _powMatrix(n,a.toNumber())},"Unit, number | BigNumber":function(n,a){return n.pow(a)}});function _pow(n,a){if(h.predictable&&!isInteger(a)&&n<0)try{var b=E(a),N=D(b);if((a===N||1e-14>Math.abs((a-N)/a))&&b.d%2n===1n)return(b.n%2n===0n?1:-1)*Math.pow(-n,a)}catch(n){}return h.predictable&&(n<-1&&a===1/0||n>-1&&n<0&&a===-1/0)?NaN:isInteger(a)||n>=0||h.predictable?powNumber(n,a):n*n<1&&a===1/0||n*n>1&&a===-1/0?0:new A(n,0).pow(a,0)}function _powArray(n,a){if(!isInteger(a))throw TypeError("For A^b, b must be an integer (value is "+a+")");var h=arraySize(n);if(2!==h.length)throw Error("For A^b, A must be 2 dimensional (A has "+h.length+" dimensions)");if(h[0]!==h[1])throw Error("For A^b, A must be square (size is "+h[0]+"x"+h[1]+")");if(a<0)try{return _powArray(_(n),-a)}catch(n){if("Cannot calculate inverse, determinant is zero"===n.message)throw TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+a+")");throw n}for(var w=b(h[0]).valueOf(),D=n;a>=1;)(1&a)==1&&(w=N(D,w)),a>>=1,D=N(D,D);return w}function _powMatrix(n,a){return w(_powArray(n.valueOf(),a))}}),cA="setIntersect",cC=factory_factory(cA,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:a,size:h,subset:b,compareNatural:N,Index:w,DenseMatrix:_}=n;return a(cA,{"Array | Matrix, Array | Matrix":function(n,a){var D;if(0===b(h(n),new w(0))||0===b(h(a),new w(0)))D=[];else{var E=identify(flatten(Array.isArray(n)?n:n.toArray()).sort(N)),A=identify(flatten(Array.isArray(a)?a:a.toArray()).sort(N));D=[];for(var M=0;M<E.length;M++)for(var B=0;B<A.length;B++)if(0===N(E[M].value,A[B].value)&&E[M].identifier===A[B].identifier){D.push(E[M]);break}}return Array.isArray(n)&&Array.isArray(a)?generalize(D):new _(generalize(D))}})}),cS="setUnion",cM=factory_factory(cS,["typed","size","concat","subset","setIntersect","setSymDifference","Index"],n=>{var{typed:a,size:h,concat:b,subset:N,setIntersect:w,setSymDifference:_,Index:D}=n;return a(cS,{"Array | Matrix, Array | Matrix":function(n,a){if(0===N(h(n),new D(0)))return flatten(a);if(0===N(h(a),new D(0)))return flatten(n);var E=flatten(n),A=flatten(a);return b(_(E,A),w(E,A))}})}),cF="sqrtm",cT=factory_factory(cF,["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],n=>{var{typed:a,abs:h,add:b,multiply:N,map:w,sqrt:_,subtract:D,inv:E,size:A,max:M,identity:B}=n;return a(cF,{"Array | Matrix":function(n){var a=isMatrix(n)?n.size():arraySize(n);switch(a.length){case 1:if(1===a[0])return w(n,_);throw RangeError("Matrix must be square (size: "+string_format(a)+")");case 2:if(a[0]===a[1])return function(n){var a,w=0,_=n,I=B(A(n));do{var z=_;if(_=N(.5,b(z,E(I))),I=N(.5,b(I,E(z))),(a=M(h(D(_,z))))>1e-6&&++w>1e3)throw Error("computing square root of matrix: iterative method could not converge")}while(a>1e-6);return _}(n);throw RangeError("Matrix must be square (size: "+string_format(a)+")");default:throw RangeError("Matrix must be at most two dimensional (size: "+string_format(a)+")")}}})});function Unit_ownKeys(n,a){var h=Object.keys(n);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(n);a&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),h.push.apply(h,b)}return h}function Unit_objectSpread(n){for(var a=1;a<arguments.length;a++){var h=null!=arguments[a]?arguments[a]:{};a%2?Unit_ownKeys(Object(h),!0).forEach(function(a){_defineProperty(n,a,h[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(h)):Unit_ownKeys(Object(h)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(h,a))})}return n}var cO=factory_factory("Unit",["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","toBest","number","Complex","BigNumber","Fraction"],n=>{var a,h,b,{on:N,config:w,addScalar:_,subtractScalar:D,multiplyScalar:E,divideScalar:A,pow:M,abs:B,fix:I,round:z,equal:q,isNumeric:j,format:L,toBest:H,number:$,Complex:V,BigNumber:G,Fraction:Z}=n;function Unit(n,a){if(!(this instanceof Unit))throw Error("Constructor must be called with the new operator");if(!(null==n||j(n)||isComplex(n)))throw TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,void 0===a)this.units=[],this.dimensions=X.map(n=>0);else if("string"==typeof a){var h=Unit.parse(a);this.units=h.units,this.dimensions=h.dimensions}else if(isUnit(a)&&null===a.value)this.fixPrefix=a.fixPrefix,this.skipAutomaticSimplification=a.skipAutomaticSimplification,this.dimensions=a.dimensions.slice(0),this.units=a.units.map(n=>_extends({},n));else throw TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(n)}function skipWhitespace(){for(;" "===b||"	"===b;)next()}function isDigit(n){return n>="0"&&n<="9"}function next(){h++,b=a.charAt(h)}function revert(n){h=n,b=a.charAt(h)}function parseNumber(){var n,a="",N=h;if("+"===b?next():"-"===b&&(a+=b,next()),!((n=b)>="0"&&n<="9"||"."===n))return revert(N),null;if("."===b){if(a+=b,next(),!isDigit(b))return revert(N),null}else{for(;isDigit(b);)a+=b,next();"."===b&&(a+=b,next())}for(;isDigit(b);)a+=b,next();if("E"===b||"e"===b){var w="",_=h;if(w+=b,next(),("+"===b||"-"===b)&&(w+=b,next()),!isDigit(b))return revert(_),a;for(a+=w;isDigit(b);)a+=b,next()}return a}function parseCharacter(n){return b===n?(next(),n):null}Object.defineProperty(Unit,"name",{value:"Unit"}),Unit.prototype.constructor=Unit,Unit.prototype.type="Unit",Unit.prototype.isUnit=!0,Unit.parse=function(n,N){if(N=N||{},h=-1,b="","string"!=typeof(a=n))throw TypeError("Invalid argument in Unit.parse, string expected");var _=new Unit;_.units=[];var D=1,E=!1;next(),skipWhitespace();var A=parseNumber(),M=null;if(A){if("BigNumber"===w.number)M=new G(A);else if("Fraction"===w.number)try{M=new Z(A)}catch(n){M=parseFloat(A)}else M=parseFloat(A);skipWhitespace(),parseCharacter("*")?(D=1,E=!0):parseCharacter("/")&&(D=-1,E=!0)}for(var B=[],I=1;;){for(skipWhitespace();"("===b;)B.push(D),I*=D,D=1,next(),skipWhitespace();var z=void 0;if(b){var q=b;if(null===(z=function(){for(var n="";isDigit(b)||Unit.isValidAlpha(b);)n+=b,next();var a=n.charAt(0);return Unit.isValidAlpha(a)?n:null}()))throw SyntaxError('Unexpected "'+q+'" in "'+a+'" at index '+h.toString())}else break;var j=W(z);if(null===j)throw SyntaxError('Unit "'+z+'" not found.');var L=D*I;if(skipWhitespace(),parseCharacter("^")){skipWhitespace();var H=parseNumber();if(null===H)throw SyntaxError('In "'+n+'", "^" must be followed by a floating-point number');L*=H}_.units.push({unit:j.unit,prefix:j.prefix,power:L});for(var $=0;$<X.length;$++)_.dimensions[$]+=(j.unit.dimensions[$]||0)*L;for(skipWhitespace();")"===b;){if(0===B.length)throw SyntaxError('Unmatched ")" in "'+a+'" at index '+h.toString());I/=B.pop(),next(),skipWhitespace()}if(E=!1,parseCharacter("*")?(D=1,E=!0):parseCharacter("/")?(D=-1,E=!0):D=1,j.unit.base){var V=j.unit.base.key;et.auto[V]={unit:j.unit,prefix:j.prefix}}}if(skipWhitespace(),b)throw SyntaxError('Could not parse: "'+n+'"');if(E)throw SyntaxError('Trailing characters: "'+n+'"');if(0!==B.length)throw SyntaxError('Unmatched "(" in "'+a+'"');if(0===_.units.length&&!N.allowNoUnits)throw SyntaxError('"'+n+'" contains no units');return _.value=void 0!==M?_._normalize(M):null,_},Unit.prototype.clone=function(){var n=new Unit;n.fixPrefix=this.fixPrefix,n.skipAutomaticSimplification=this.skipAutomaticSimplification,n.value=object_clone(this.value),n.dimensions=this.dimensions.slice(0),n.units=[];for(var a=0;a<this.units.length;a++)for(var h in n.units[a]={},this.units[a])object_hasOwnProperty(this.units[a],h)&&(n.units[a][h]=this.units[a][h]);return n},Unit.prototype.valueType=function(){return typeOf(this.value)},Unit.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},Unit.prototype._normalize=function(n){if(null==n||0===this.units.length)return n;for(var a=n,h=Unit._getNumberConverter(typeOf(n)),b=0;b<this.units.length;b++){var N=h(this.units[b].unit.value),w=h(this.units[b].prefix.value),_=h(this.units[b].power);a=E(a,M(E(N,w),_))}return a},Unit.prototype._denormalize=function(n,a){if(null==n||0===this.units.length)return n;for(var h=n,b=Unit._getNumberConverter(typeOf(n)),N=0;N<this.units.length;N++){var w=b(this.units[N].unit.value),_=b(this.units[N].prefix.value),D=b(this.units[N].power);h=A(h,M(E(w,_),D))}return h};var W=memoize(n=>{if(object_hasOwnProperty(ee,n)){var a=ee[n];return{unit:a,prefix:a.prefixes[""]}}for(var h in ee)if(object_hasOwnProperty(ee,h)&&function(n,a){var h=n.length-a.length,b=n.length;return n.substring(h,b)===a}(n,h)){var b=ee[h],N=n.length-h.length,w=n.substring(0,N),_=object_hasOwnProperty(b.prefixes,w)?b.prefixes[w]:void 0;if(void 0!==_)return{unit:b,prefix:_}}return null},{hasher:n=>n[0],limit:100});function getNumericIfUnitless(n){return n.equalBase(J.NONE)&&null!==n.value&&!w.predictable?n.value:n}function one(n){return Unit._getNumberConverter(typeOf(n))(1)}function formatBest(n){var a,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=n.skipAutomaticSimplification||null===n.value?n.clone():n.simplify();(function(n){var a=!1;for(var h in void 0!==n.value&&null!==n.value&&isComplex(n.value)&&(a=1e-14>Math.abs(n.value.re)),n.units)object_hasOwnProperty(n.units,h)&&n.units[h].unit&&("VA"===n.units[h].unit.name&&a?n.units[h].unit=ee.VAR:"VAR"!==n.units[h].unit.name||a||(n.units[h].unit=ee.VA))})(b),a=h.offset,1===b.units.length&&!b.fixPrefix&&1e-14>Math.abs(b.units[0].power-Math.round(b.units[0].power))&&(b.units[0].prefix=b._bestPrefix(a));var N=b._denormalize(b.value);return{simp:b,valueStr:null!==b.value?L(N,h||{}):"",unitStr:b.formatUnits()}}Unit.isValuelessUnit=function(n){return null!==W(n)},Unit.prototype.hasBase=function(n){if("string"==typeof n&&(n=J[n]),!n)return!1;for(var a=0;a<X.length;a++)if(Math.abs((this.dimensions[a]||0)-(n.dimensions[a]||0))>1e-12)return!1;return!0},Unit.prototype.equalBase=function(n){for(var a=0;a<X.length;a++)if(Math.abs((this.dimensions[a]||0)-(n.dimensions[a]||0))>1e-12)return!1;return!0},Unit.prototype.equals=function(n){return this.equalBase(n)&&q(this.value,n.value)},Unit.prototype.multiply=function(n){for(var a=this.clone(),h=isUnit(n)?n:new Unit(n),b=0;b<X.length;b++)a.dimensions[b]=(this.dimensions[b]||0)+(h.dimensions[b]||0);for(var N=0;N<h.units.length;N++){var w=Unit_objectSpread({},h.units[N]);a.units.push(w)}if(null!==this.value||null!==h.value){var _=null===this.value?this._normalize(one(h.value)):this.value,D=null===h.value?h._normalize(one(this.value)):h.value;a.value=E(_,D)}else a.value=null;return isUnit(n)&&(a.skipAutomaticSimplification=!1),getNumericIfUnitless(a)},Unit.prototype.divideInto=function(n){return new Unit(n).divide(this)},Unit.prototype.divide=function(n){for(var a=this.clone(),h=isUnit(n)?n:new Unit(n),b=0;b<X.length;b++)a.dimensions[b]=(this.dimensions[b]||0)-(h.dimensions[b]||0);for(var N=0;N<h.units.length;N++){var w=Unit_objectSpread(Unit_objectSpread({},h.units[N]),{},{power:-h.units[N].power});a.units.push(w)}if(null!==this.value||null!==h.value){var _=null===this.value?this._normalize(one(h.value)):this.value,D=null===h.value?h._normalize(one(this.value)):h.value;a.value=A(_,D)}else a.value=null;return isUnit(n)&&(a.skipAutomaticSimplification=!1),getNumericIfUnitless(a)},Unit.prototype.pow=function(n){for(var a=this.clone(),h=0;h<X.length;h++)a.dimensions[h]=(this.dimensions[h]||0)*n;for(var b=0;b<a.units.length;b++)a.units[b].power*=n;return null!==a.value?a.value=M(a.value,n):a.value=null,a.skipAutomaticSimplification=!1,getNumericIfUnitless(a)},Unit.prototype.abs=function(){var n=this.clone();if(null!==n.value){if(n._isDerived()||0===n.units.length||0===n.units[0].unit.offset)n.value=B(n.value);else{var a=n._numberConverter(),h=E(a(n.units[0].unit.value),a(n.units[0].unit.offset));n.value=D(B(_(n.value,h)),h)}}for(var b in n.units)("VA"===n.units[b].unit.name||"VAR"===n.units[b].unit.name)&&(n.units[b].unit=ee.W);return n},Unit.prototype.to=function(n){var a,h=null===this.value?this._normalize(1):this.value;if("string"==typeof n)a=Unit.parse(n);else if(isUnit(n))a=n.clone();else throw Error("String or Unit expected as parameter");if(!this.equalBase(a))throw Error("Units do not match ('".concat(a.toString(),"' != '").concat(this.toString(),"')"));if(null!==a.value)throw Error("Cannot convert to a unit with a value");if(null===this.value||this._isDerived()||0===this.units.length||0===a.units.length||this.units[0].unit.offset===a.units[0].unit.offset)a.value=object_clone(h);else{var b=Unit._getNumberConverter(typeOf(h)),N=E(this.units[0].unit.value,this.units[0].unit.offset),w=E(a.units[0].unit.value,a.units[0].unit.offset);a.value=_(h,b(D(N,w)))}return a.fixPrefix=!0,a.skipAutomaticSimplification=!0,a},Unit.prototype.toNumber=function(n){return $(this.toNumeric(n))},Unit.prototype.toNumeric=function(n){var a;return(a=n?this.to(n):this.clone())._isDerived()||0===a.units.length?a._denormalize(a.value):a._denormalize(a.value,a.units[0].prefix.value)},Unit.prototype.toString=function(){return this.format()},Unit.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix}},Unit.fromJSON=function(n){var a,h=new Unit(n.value,null!==(a=n.unit)&&void 0!==a?a:void 0);return h.fixPrefix=n.fixPrefix||!1,h},Unit.prototype.valueOf=Unit.prototype.toString,Unit.prototype.simplify=function(){var n,a,h=this.clone(),b=[];for(var N in en)if(object_hasOwnProperty(en,N)&&h.hasBase(J[N])){n=N;break}if("NONE"===n)h.units=[];else if(n&&object_hasOwnProperty(en,n)&&(a=en[n]),a)h.units=[{unit:a.unit,prefix:a.prefix,power:1}];else{for(var w=!1,_=0;_<X.length;_++){var D=X[_];Math.abs(h.dimensions[_]||0)>1e-12&&(object_hasOwnProperty(en,D)?b.push({unit:en[D].unit,prefix:en[D].prefix,power:h.dimensions[_]||0}):w=!0)}b.length<h.units.length&&!w&&(h.units=b)}return h},Unit.prototype.toSI=function(){for(var n=this.clone(),a=[],h=0;h<X.length;h++){var b=X[h];if(Math.abs(n.dimensions[h]||0)>1e-12){if(object_hasOwnProperty(et.si,b))a.push({unit:et.si[b].unit,prefix:et.si[b].prefix,power:n.dimensions[h]||0});else throw Error("Cannot express custom unit "+b+" in SI units")}}return(n.units=a,n.fixPrefix=!0,n.skipAutomaticSimplification=!0,null!==this.value)?(n.value=null,this.to(n)):n},Unit.prototype.formatUnits=function(){for(var n="",a="",h=0,b=0,N=0;N<this.units.length;N++)this.units[N].power>0?(h++,n+=" "+this.units[N].prefix.name+this.units[N].unit.name,Math.abs(this.units[N].power-1)>1e-15&&(n+="^"+this.units[N].power)):this.units[N].power<0&&b++;if(b>0)for(var w=0;w<this.units.length;w++)this.units[w].power<0&&(h>0?(a+=" "+this.units[w].prefix.name+this.units[w].unit.name,Math.abs(this.units[w].power+1)>1e-15&&(a+="^"+-this.units[w].power)):a+=" "+this.units[w].prefix.name+this.units[w].unit.name+"^"+this.units[w].power);n=n.substr(1),a=a.substr(1),h>1&&b>0&&(n="("+n+")"),b>1&&h>0&&(a="("+a+")");var _=n;return h>0&&b>0&&(_+=" / "),_+=a},Unit.prototype.toBest=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n&&!Array.isArray(n))throw Error("Invalid unit type. Expected string or Unit.");var h=this.units[0].unit.prefixes;if(n&&n.length>0){var b=n.map(n=>{var a=null;if("string"==typeof n){if(!(a=Unit.parse(n)))throw Error("Invalid unit type. Expected compatible string or Unit.")}else if(!isUnit(n))throw Error("Invalid unit type. Expected compatible string or Unit.");null===a&&(a=n.clone());try{return this.to(a.formatUnits()),a}catch(n){throw Error("Invalid unit type. Expected compatible string or Unit.")}}).map(n=>n.units[0].prefix);this.units[0].unit.prefixes=b.reduce((n,a)=>(n[a.name]=a,n),{}),this.units[0].prefix=b[0]}var N=formatBest(this,a).simp;return this.units[0].unit.prefixes=h,N.fixPrefix=!0,N},Unit.prototype.format=function(n){var{simp:a,valueStr:h,unitStr:b}=formatBest(this,n),N=h;return a.value&&isComplex(a.value)&&(N="("+N+")"),b.length>0&&N.length>0&&(N+=" "),N+=b},Unit.prototype._bestPrefix=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.2;if(1!==this.units.length||Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var a=null!==this.value?B(this.value):0,h=B(this.units[0].unit.value),b=this.units[0].prefix;if(0===a)return b;var N=this.units[0].power,w=Math.log(a/Math.pow(b.value*h,N))/Math.LN10-n;if(w>-2.200001&&w<1.800001)return b;w=Math.abs(w);var _=this.units[0].unit.prefixes;for(var D in _)if(object_hasOwnProperty(_,D)){var E=_[D];if(E.scientific){var A=Math.abs(Math.log(a/Math.pow(E.value*h,N))/Math.LN10-n);(A<w||A===w&&E.name.length<b.name.length)&&(b=E,w=A)}}return b},Unit.prototype.splitUnit=function(n){for(var a=this.clone(),h=[],b=0;b<n.length&&(a=a.to(n[b]),b!==n.length-1);b++){var N=a.toNumeric(),w=z(N),E=void 0;E=q(w,N)?w:I(a.toNumeric());var A=new Unit(E,n[b].toString());h.push(A),a=D(a,A)}for(var M=0,B=0;B<h.length;B++)M=_(M,h[B].value);return q(M,this.value)&&(a.value=0),h.push(a),h};var Y={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:1048576,scientific:!0},Gi:{name:"Gi",value:1073741824,scientific:!0},Ti:{name:"Ti",value:1099511627776,scientific:!0},Pi:{name:"Pi",value:0x4000000000000,scientific:!0},Ei:{name:"Ei",value:0x1000000000000000,scientific:!0},Zi:{name:"Zi",value:11805916207174113e5,scientific:!0},Yi:{name:"Yi",value:12089258196146292e8,scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:1048576,scientific:!0},gibi:{name:"gibi",value:1073741824,scientific:!0},tebi:{name:"tebi",value:1099511627776,scientific:!0},pebi:{name:"pebi",value:0x4000000000000,scientific:!0},exi:{name:"exi",value:0x1000000000000000,scientific:!0},zebi:{name:"zebi",value:11805916207174113e5,scientific:!0},yobi:{name:"yobi",value:12089258196146292e8,scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};Y.SHORTLONG=_extends({},Y.SHORT,Y.LONG),Y.BINARY_SHORT=_extends({},Y.BINARY_SHORT_SI,Y.BINARY_SHORT_IEC),Y.BINARY_LONG=_extends({},Y.BINARY_LONG_SI,Y.BINARY_LONG_IEC);var X=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],J={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var Q in J)object_hasOwnProperty(J,Q)&&(J[Q].key=Q);var K={name:"",base:{},value:1,offset:0,dimensions:X.map(n=>0)},ee={meter:{name:"meter",base:J.LENGTH,prefixes:Y.LONG,value:1,offset:0},inch:{name:"inch",base:J.LENGTH,prefixes:Y.NONE,value:.0254,offset:0},foot:{name:"foot",base:J.LENGTH,prefixes:Y.NONE,value:.3048,offset:0},yard:{name:"yard",base:J.LENGTH,prefixes:Y.NONE,value:.9144,offset:0},mile:{name:"mile",base:J.LENGTH,prefixes:Y.NONE,value:1609.344,offset:0},link:{name:"link",base:J.LENGTH,prefixes:Y.NONE,value:.201168,offset:0},rod:{name:"rod",base:J.LENGTH,prefixes:Y.NONE,value:5.0292,offset:0},chain:{name:"chain",base:J.LENGTH,prefixes:Y.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:J.LENGTH,prefixes:Y.NONE,value:1e-10,offset:0},m:{name:"m",base:J.LENGTH,prefixes:Y.SHORT,value:1,offset:0},in:{name:"in",base:J.LENGTH,prefixes:Y.NONE,value:.0254,offset:0},ft:{name:"ft",base:J.LENGTH,prefixes:Y.NONE,value:.3048,offset:0},yd:{name:"yd",base:J.LENGTH,prefixes:Y.NONE,value:.9144,offset:0},mi:{name:"mi",base:J.LENGTH,prefixes:Y.NONE,value:1609.344,offset:0},li:{name:"li",base:J.LENGTH,prefixes:Y.NONE,value:.201168,offset:0},rd:{name:"rd",base:J.LENGTH,prefixes:Y.NONE,value:5.02921,offset:0},ch:{name:"ch",base:J.LENGTH,prefixes:Y.NONE,value:20.1168,offset:0},mil:{name:"mil",base:J.LENGTH,prefixes:Y.NONE,value:254e-7,offset:0},m2:{name:"m2",base:J.SURFACE,prefixes:Y.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:J.SURFACE,prefixes:Y.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:J.SURFACE,prefixes:Y.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:J.SURFACE,prefixes:Y.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:J.SURFACE,prefixes:Y.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:J.SURFACE,prefixes:Y.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:J.SURFACE,prefixes:Y.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:J.SURFACE,prefixes:Y.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:J.SURFACE,prefixes:Y.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:J.SURFACE,prefixes:Y.NONE,value:1e4,offset:0},m3:{name:"m3",base:J.VOLUME,prefixes:Y.CUBIC,value:1,offset:0},L:{name:"L",base:J.VOLUME,prefixes:Y.SHORT,value:.001,offset:0},l:{name:"l",base:J.VOLUME,prefixes:Y.SHORT,value:.001,offset:0},litre:{name:"litre",base:J.VOLUME,prefixes:Y.LONG,value:.001,offset:0},cuin:{name:"cuin",base:J.VOLUME,prefixes:Y.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:J.VOLUME,prefixes:Y.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:J.VOLUME,prefixes:Y.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:J.VOLUME,prefixes:Y.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:J.VOLUME,prefixes:Y.NONE,value:15e-6,offset:0},drop:{name:"drop",base:J.VOLUME,prefixes:Y.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:J.VOLUME,prefixes:Y.NONE,value:5e-8,offset:0},minim:{name:"minim",base:J.VOLUME,prefixes:Y.NONE,value:61611519921875e-21,offset:0},fluiddram:{name:"fluiddram",base:J.VOLUME,prefixes:Y.NONE,value:36966911953125e-19,offset:0},fluidounce:{name:"fluidounce",base:J.VOLUME,prefixes:Y.NONE,value:295735295625e-16,offset:0},gill:{name:"gill",base:J.VOLUME,prefixes:Y.NONE,value:11829411825e-14,offset:0},cc:{name:"cc",base:J.VOLUME,prefixes:Y.NONE,value:1e-6,offset:0},cup:{name:"cup",base:J.VOLUME,prefixes:Y.NONE,value:2365882365e-13,offset:0},pint:{name:"pint",base:J.VOLUME,prefixes:Y.NONE,value:473176473e-12,offset:0},quart:{name:"quart",base:J.VOLUME,prefixes:Y.NONE,value:946352946e-12,offset:0},gallon:{name:"gallon",base:J.VOLUME,prefixes:Y.NONE,value:.003785411784,offset:0},beerbarrel:{name:"beerbarrel",base:J.VOLUME,prefixes:Y.NONE,value:.117347765304,offset:0},oilbarrel:{name:"oilbarrel",base:J.VOLUME,prefixes:Y.NONE,value:.158987294928,offset:0},hogshead:{name:"hogshead",base:J.VOLUME,prefixes:Y.NONE,value:.238480942392,offset:0},g:{name:"g",base:J.MASS,prefixes:Y.SHORT,value:.001,offset:0},gram:{name:"gram",base:J.MASS,prefixes:Y.LONG,value:.001,offset:0},ton:{name:"ton",base:J.MASS,prefixes:Y.SHORT,value:907.18474,offset:0},t:{name:"t",base:J.MASS,prefixes:Y.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:J.MASS,prefixes:Y.LONG,value:1e3,offset:0},grain:{name:"grain",base:J.MASS,prefixes:Y.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:J.MASS,prefixes:Y.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:J.MASS,prefixes:Y.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:J.MASS,prefixes:Y.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:J.MASS,prefixes:Y.NONE,value:45.359237,offset:0},stick:{name:"stick",base:J.MASS,prefixes:Y.NONE,value:.115,offset:0},stone:{name:"stone",base:J.MASS,prefixes:Y.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:J.MASS,prefixes:Y.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:J.MASS,prefixes:Y.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:J.MASS,prefixes:Y.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:J.MASS,prefixes:Y.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:J.MASS,prefixes:Y.NONE,value:45.359237,offset:0},s:{name:"s",base:J.TIME,prefixes:Y.SHORT,value:1,offset:0},min:{name:"min",base:J.TIME,prefixes:Y.NONE,value:60,offset:0},h:{name:"h",base:J.TIME,prefixes:Y.NONE,value:3600,offset:0},second:{name:"second",base:J.TIME,prefixes:Y.LONG,value:1,offset:0},sec:{name:"sec",base:J.TIME,prefixes:Y.LONG,value:1,offset:0},minute:{name:"minute",base:J.TIME,prefixes:Y.NONE,value:60,offset:0},hour:{name:"hour",base:J.TIME,prefixes:Y.NONE,value:3600,offset:0},day:{name:"day",base:J.TIME,prefixes:Y.NONE,value:86400,offset:0},week:{name:"week",base:J.TIME,prefixes:Y.NONE,value:604800,offset:0},month:{name:"month",base:J.TIME,prefixes:Y.NONE,value:2629800,offset:0},year:{name:"year",base:J.TIME,prefixes:Y.NONE,value:31557600,offset:0},decade:{name:"decade",base:J.TIME,prefixes:Y.NONE,value:315576e3,offset:0},century:{name:"century",base:J.TIME,prefixes:Y.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:J.TIME,prefixes:Y.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:J.FREQUENCY,prefixes:Y.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:J.FREQUENCY,prefixes:Y.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:J.ANGLE,prefixes:Y.SHORT,value:1,offset:0},radian:{name:"radian",base:J.ANGLE,prefixes:Y.LONG,value:1,offset:0},deg:{name:"deg",base:J.ANGLE,prefixes:Y.SHORT,value:null,offset:0},degree:{name:"degree",base:J.ANGLE,prefixes:Y.LONG,value:null,offset:0},grad:{name:"grad",base:J.ANGLE,prefixes:Y.SHORT,value:null,offset:0},gradian:{name:"gradian",base:J.ANGLE,prefixes:Y.LONG,value:null,offset:0},cycle:{name:"cycle",base:J.ANGLE,prefixes:Y.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:J.ANGLE,prefixes:Y.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:J.ANGLE,prefixes:Y.NONE,value:null,offset:0},A:{name:"A",base:J.CURRENT,prefixes:Y.SHORT,value:1,offset:0},ampere:{name:"ampere",base:J.CURRENT,prefixes:Y.LONG,value:1,offset:0},K:{name:"K",base:J.TEMPERATURE,prefixes:Y.SHORT,value:1,offset:0},degC:{name:"degC",base:J.TEMPERATURE,prefixes:Y.SHORT,value:1,offset:273.15},degF:{name:"degF",base:J.TEMPERATURE,prefixes:Y.SHORT,value:new Z(5,9),offset:459.67},degR:{name:"degR",base:J.TEMPERATURE,prefixes:Y.SHORT,value:new Z(5,9),offset:0},kelvin:{name:"kelvin",base:J.TEMPERATURE,prefixes:Y.LONG,value:1,offset:0},celsius:{name:"celsius",base:J.TEMPERATURE,prefixes:Y.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:J.TEMPERATURE,prefixes:Y.LONG,value:new Z(5,9),offset:459.67},rankine:{name:"rankine",base:J.TEMPERATURE,prefixes:Y.LONG,value:new Z(5,9),offset:0},mol:{name:"mol",base:J.AMOUNT_OF_SUBSTANCE,prefixes:Y.SHORT,value:1,offset:0},mole:{name:"mole",base:J.AMOUNT_OF_SUBSTANCE,prefixes:Y.LONG,value:1,offset:0},cd:{name:"cd",base:J.LUMINOUS_INTENSITY,prefixes:Y.SHORT,value:1,offset:0},candela:{name:"candela",base:J.LUMINOUS_INTENSITY,prefixes:Y.LONG,value:1,offset:0},N:{name:"N",base:J.FORCE,prefixes:Y.SHORT,value:1,offset:0},newton:{name:"newton",base:J.FORCE,prefixes:Y.LONG,value:1,offset:0},dyn:{name:"dyn",base:J.FORCE,prefixes:Y.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:J.FORCE,prefixes:Y.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:J.FORCE,prefixes:Y.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:J.FORCE,prefixes:Y.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:J.FORCE,prefixes:Y.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:J.FORCE,prefixes:Y.NONE,value:9.80665,offset:0},J:{name:"J",base:J.ENERGY,prefixes:Y.SHORT,value:1,offset:0},joule:{name:"joule",base:J.ENERGY,prefixes:Y.LONG,value:1,offset:0},erg:{name:"erg",base:J.ENERGY,prefixes:Y.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:J.ENERGY,prefixes:Y.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:J.ENERGY,prefixes:Y.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:J.ENERGY,prefixes:Y.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:J.ENERGY,prefixes:Y.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:J.POWER,prefixes:Y.SHORT,value:1,offset:0},watt:{name:"watt",base:J.POWER,prefixes:Y.LONG,value:1,offset:0},hp:{name:"hp",base:J.POWER,prefixes:Y.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:J.POWER,prefixes:Y.SHORT,value:V.I,offset:0},VA:{name:"VA",base:J.POWER,prefixes:Y.SHORT,value:1,offset:0},Pa:{name:"Pa",base:J.PRESSURE,prefixes:Y.SHORT,value:1,offset:0},psi:{name:"psi",base:J.PRESSURE,prefixes:Y.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:J.PRESSURE,prefixes:Y.NONE,value:101325,offset:0},bar:{name:"bar",base:J.PRESSURE,prefixes:Y.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:J.PRESSURE,prefixes:Y.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:J.PRESSURE,prefixes:Y.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:J.PRESSURE,prefixes:Y.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:J.PRESSURE,prefixes:Y.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:J.ELECTRIC_CHARGE,prefixes:Y.LONG,value:1,offset:0},C:{name:"C",base:J.ELECTRIC_CHARGE,prefixes:Y.SHORT,value:1,offset:0},farad:{name:"farad",base:J.ELECTRIC_CAPACITANCE,prefixes:Y.LONG,value:1,offset:0},F:{name:"F",base:J.ELECTRIC_CAPACITANCE,prefixes:Y.SHORT,value:1,offset:0},volt:{name:"volt",base:J.ELECTRIC_POTENTIAL,prefixes:Y.LONG,value:1,offset:0},V:{name:"V",base:J.ELECTRIC_POTENTIAL,prefixes:Y.SHORT,value:1,offset:0},ohm:{name:"ohm",base:J.ELECTRIC_RESISTANCE,prefixes:Y.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:J.ELECTRIC_INDUCTANCE,prefixes:Y.LONG,value:1,offset:0},H:{name:"H",base:J.ELECTRIC_INDUCTANCE,prefixes:Y.SHORT,value:1,offset:0},siemens:{name:"siemens",base:J.ELECTRIC_CONDUCTANCE,prefixes:Y.LONG,value:1,offset:0},S:{name:"S",base:J.ELECTRIC_CONDUCTANCE,prefixes:Y.SHORT,value:1,offset:0},weber:{name:"weber",base:J.MAGNETIC_FLUX,prefixes:Y.LONG,value:1,offset:0},Wb:{name:"Wb",base:J.MAGNETIC_FLUX,prefixes:Y.SHORT,value:1,offset:0},tesla:{name:"tesla",base:J.MAGNETIC_FLUX_DENSITY,prefixes:Y.LONG,value:1,offset:0},T:{name:"T",base:J.MAGNETIC_FLUX_DENSITY,prefixes:Y.SHORT,value:1,offset:0},b:{name:"b",base:J.BIT,prefixes:Y.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:J.BIT,prefixes:Y.BINARY_LONG,value:1,offset:0},B:{name:"B",base:J.BIT,prefixes:Y.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:J.BIT,prefixes:Y.BINARY_LONG,value:8,offset:0}},er={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fldr:"fluiddram",fluiddrams:"fluiddram",floz:"fluidounce",fluidounces:"fluidounce",gi:"gill",gills:"gill",cp:"cup",cups:"cup",pt:"pint",pints:"pint",qt:"quart",quarts:"quart",gal:"gallon",gallons:"gallon",bbl:"beerbarrel",beerbarrels:"beerbarrel",obl:"oilbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function calculateAngleValues(n){if("BigNumber"===n.number){var a=tX(G);ee.rad.value=new G(1),ee.deg.value=a.div(180),ee.grad.value=a.div(200),ee.cycle.value=a.times(2),ee.arcsec.value=a.div(648e3),ee.arcmin.value=a.div(10800)}else ee.rad.value=1,ee.deg.value=Math.PI/180,ee.grad.value=Math.PI/200,ee.cycle.value=2*Math.PI,ee.arcsec.value=Math.PI/648e3,ee.arcmin.value=Math.PI/10800;ee.radian.value=ee.rad.value,ee.degree.value=ee.deg.value,ee.gradian.value=ee.grad.value}calculateAngleValues(w),N&&N("config",function(n,a){n.number!==a.number&&calculateAngleValues(n)});var et={si:{NONE:{unit:K,prefix:Y.NONE[""]},LENGTH:{unit:ee.m,prefix:Y.SHORT[""]},MASS:{unit:ee.g,prefix:Y.SHORT.k},TIME:{unit:ee.s,prefix:Y.SHORT[""]},CURRENT:{unit:ee.A,prefix:Y.SHORT[""]},TEMPERATURE:{unit:ee.K,prefix:Y.SHORT[""]},LUMINOUS_INTENSITY:{unit:ee.cd,prefix:Y.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:ee.mol,prefix:Y.SHORT[""]},ANGLE:{unit:ee.rad,prefix:Y.SHORT[""]},BIT:{unit:ee.bits,prefix:Y.SHORT[""]},FORCE:{unit:ee.N,prefix:Y.SHORT[""]},ENERGY:{unit:ee.J,prefix:Y.SHORT[""]},POWER:{unit:ee.W,prefix:Y.SHORT[""]},PRESSURE:{unit:ee.Pa,prefix:Y.SHORT[""]},ELECTRIC_CHARGE:{unit:ee.C,prefix:Y.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:ee.F,prefix:Y.SHORT[""]},ELECTRIC_POTENTIAL:{unit:ee.V,prefix:Y.SHORT[""]},ELECTRIC_RESISTANCE:{unit:ee.ohm,prefix:Y.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:ee.H,prefix:Y.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:ee.S,prefix:Y.SHORT[""]},MAGNETIC_FLUX:{unit:ee.Wb,prefix:Y.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:ee.T,prefix:Y.SHORT[""]},FREQUENCY:{unit:ee.Hz,prefix:Y.SHORT[""]}}};et.cgs=JSON.parse(JSON.stringify(et.si)),et.cgs.LENGTH={unit:ee.m,prefix:Y.SHORT.c},et.cgs.MASS={unit:ee.g,prefix:Y.SHORT[""]},et.cgs.FORCE={unit:ee.dyn,prefix:Y.SHORT[""]},et.cgs.ENERGY={unit:ee.erg,prefix:Y.NONE[""]},et.us=JSON.parse(JSON.stringify(et.si)),et.us.LENGTH={unit:ee.ft,prefix:Y.NONE[""]},et.us.MASS={unit:ee.lbm,prefix:Y.NONE[""]},et.us.TEMPERATURE={unit:ee.degF,prefix:Y.NONE[""]},et.us.FORCE={unit:ee.lbf,prefix:Y.NONE[""]},et.us.ENERGY={unit:ee.BTU,prefix:Y.BTU[""]},et.us.POWER={unit:ee.hp,prefix:Y.NONE[""]},et.us.PRESSURE={unit:ee.psi,prefix:Y.NONE[""]},et.auto=JSON.parse(JSON.stringify(et.si));var en=et.auto;for(var ei in Unit.setUnitSystem=function(n){if(object_hasOwnProperty(et,n))en=et[n];else throw Error("Unit system "+n+" does not exist. Choices are: "+Object.keys(et).join(", "))},Unit.getUnitSystem=function(){for(var n in et)if(object_hasOwnProperty(et,n)&&et[n]===en)return n},Unit.typeConverters={BigNumber:function(n){return null!=n&&n.isFraction?new G(String(n.n)).div(String(n.d)).times(String(n.s)):new G(n+"")},Fraction:function(n){return new Z(n)},Complex:function(n){return n},number:function(n){return null!=n&&n.isFraction?$(n):n}},Unit.prototype._numberConverter=function(){var n=Unit.typeConverters[this.valueType()];if(n)return n;throw TypeError('Unsupported Unit value type "'+this.valueType()+'"')},Unit._getNumberConverter=function(n){if(!Unit.typeConverters[n])throw TypeError('Unsupported type "'+n+'"');return Unit.typeConverters[n]},ee)if(object_hasOwnProperty(ee,ei)){var ea=ee[ei];ea.dimensions=ea.base.dimensions}for(var eo in er)if(object_hasOwnProperty(er,eo)){var es=ee[er[eo]],eu={};for(var ec in es)object_hasOwnProperty(es,ec)&&(eu[ec]=es[ec]);eu.name=eo,ee[eo]=eu}return Unit.isValidAlpha=function(n){return/^[a-zA-Z]$/.test(n)},Unit.createUnit=function(n,a){if("object"!=typeof n)throw TypeError("createUnit expects first parameter to be of type 'Object'");if(a&&a.override){for(var h in n)if(object_hasOwnProperty(n,h)&&Unit.deleteUnit(h),n[h].aliases)for(var b,N=0;N<n[h].aliases.length;N++)Unit.deleteUnit(n[h].aliases[N])}for(var w in n)object_hasOwnProperty(n,w)&&(b=Unit.createUnitSingle(w,n[w]));return b},Unit.createUnitSingle=function(n,a){if(null==a&&(a={}),"string"!=typeof n)throw TypeError("createUnitSingle expects first parameter to be of type 'string'");if(object_hasOwnProperty(ee,n))throw Error('Cannot create unit "'+n+'": a unit with that name already exists');!function(n){for(var a=0;a<n.length;a++){if(b=n.charAt(a),0===a&&!Unit.isValidAlpha(b))throw Error('Invalid unit name (must begin with alpha character): "'+n+'"');if(a>0&&!(Unit.isValidAlpha(b)||isDigit(b)))throw Error('Invalid unit name (only alphanumeric characters are allowed): "'+n+'"')}}(n);var h,N,w,_=null,D=[],E=0;if(a&&"Unit"===a.type)_=a.clone();else if("string"==typeof a)""!==a&&(h=a);else if("object"==typeof a)h=a.definition,N=a.prefixes,E=a.offset,w=a.baseName,a.aliases&&(D=a.aliases.valueOf());else throw TypeError('Cannot create unit "'+n+'" from "'+a.toString()+'": expecting "string" or "Unit" or "Object"');if(D){for(var A=0;A<D.length;A++)if(object_hasOwnProperty(ee,D[A]))throw Error('Cannot create alias "'+D[A]+'": a unit with that name already exists')}if(h&&"string"==typeof h&&!_)try{_=Unit.parse(h,{allowNoUnits:!0})}catch(a){throw a.message='Could not create unit "'+n+'" from "'+h+'": '+a.message,a}else h&&"Unit"===h.type&&(_=h.clone());D=D||[],E=E||0,N=N&&N.toUpperCase&&Y[N.toUpperCase()]||Y.NONE;var M={};if(_){M={name:n,value:_.value,dimensions:_.dimensions.slice(0),prefixes:N,offset:E};var B=!1;for(var I in J)if(object_hasOwnProperty(J,I)){for(var z=!0,q=0;q<X.length;q++)if(Math.abs((M.dimensions[q]||0)-(J[I].dimensions[q]||0))>1e-12){z=!1;break}if(z){B=!0,M.base=J[I];break}}if(!B){w=w||n+"_STUFF";var j={dimensions:_.dimensions.slice(0)};j.key=w,J[w]=j,en[w]={unit:M,prefix:Y.NONE[""]},M.base=J[w]}}else{if(w=w||n+"_STUFF",X.indexOf(w)>=0)throw Error('Cannot create new base unit "'+n+'": a base unit with that name already exists (and cannot be overridden)');for(var L in X.push(w),J)object_hasOwnProperty(J,L)&&(J[L].dimensions[X.length-1]=0);for(var H={dimensions:[]},$=0;$<X.length;$++)H.dimensions[$]=0;H.dimensions[X.length-1]=1,H.key=w,J[w]=H,M={name:n,value:1,dimensions:J[w].dimensions.slice(0),prefixes:N,offset:E,base:J[w]},en[w]={unit:M,prefix:Y.NONE[""]}}Unit.UNITS[n]=M;for(var V=0;V<D.length;V++){var G=D[V],Z={};for(var Q in M)object_hasOwnProperty(M,Q)&&(Z[Q]=M[Q]);Z.name=G,Unit.UNITS[G]=Z}return delete W.cache,new Unit(null,n)},Unit.deleteUnit=function(n){delete Unit.UNITS[n],delete W.cache},Unit.PREFIXES=Y,Unit.BASE_DIMENSIONS=X,Unit.BASE_UNITS=J,Unit.UNIT_SYSTEMS=et,Unit.UNITS=ee,Unit},{isClass:!0}),cB="createUnit",cI=factory_factory(cB,["typed","Unit"],n=>{var{typed:a,Unit:h}=n;return a(cB,{"Object, Object":function(n,a){return h.createUnit(n,a)},Object:function(n){return h.createUnit(n,{})},"string, Unit | string | Object, Object":function(n,a,b){var N={};return N[n]=a,h.createUnit(N,b)},"string, Unit | string | Object":function(n,a){var b={};return b[n]=a,h.createUnit(b,{})},string:function(n){var a={};return a[n]={},h.createUnit(a,{})}})}),ck="dotPow",cP=factory_factory(ck,["typed","equalScalar","matrix","pow","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:a,equalScalar:h,matrix:b,pow:N,DenseMatrix:w,concat:_,SparseMatrix:D}=n,E=rl({typed:a}),A=oJ({typed:a,SparseMatrix:D}),M=rb({typed:a,equalScalar:h}),B=rf({typed:a,DenseMatrix:w}),I=rh({typed:a,matrix:b,concat:_}),z={};for(var q in N.signatures)!Object.prototype.hasOwnProperty.call(N.signatures,q)||q.includes("Matrix")||q.includes("Array")||(z[q]=N.signatures[q]);var j=a(z);return a(ck,I({elop:j,SS:A,DS:E,Ss:M,sS:B}))}),cz="expm",cR=factory_factory(cz,["typed","abs","add","identity","inv","multiply"],n=>{var{typed:a,abs:h,add:b,identity:N,inv:w,multiply:_}=n;return a(cz,{Matrix:function(n){var a=n.size();if(2!==a.length||a[0]!==a[1])throw RangeError("Matrix must be square (size: "+string_format(a)+")");for(var D=a[0],E=function(n,a){for(var h=0;h<30;h++)for(var b=0;b<=h;b++){var N=h-b;if(1e-15>function(n,a,h){for(var b=1,N=2;N<=a;N++)b*=N;for(var w=b,_=a+1;_<=2*a;_++)w*=_;var D=w*(2*a+1);return 8*Math.pow(n/Math.pow(2,h),2*a)*b*b/(w*D)}(n,b,N))return{q:b,j:N}}throw Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(function(n){for(var a=n.size()[0],b=0,N=0;N<a;N++){for(var w=0,_=0;_<a;_++)w+=h(n.get([N,_]));b=Math.max(w,b)}return b}(n),0),A=E.q,M=E.j,B=_(n,Math.pow(2,-M)),I=N(D),z=N(D),q=1,j=B,L=-1,H=1;H<=A;H++)H>1&&(j=_(j,B),L=-L),I=b(I,_(q=q*(A-H+1)/((2*A-H+1)*H),j)),z=b(z,_(q*L,j));for(var $=_(w(z),I),V=0;V<M;V++)$=_($,$);return isSparseMatrix(n)?n.createSparseMatrix($):$}})}),cq=factory_factory("fft",["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],n=>{var{typed:a,matrix:h,addScalar:b,multiplyScalar:N,divideScalar:w,exp:_,tau:D,i:E,dotDivide:A,conj:M,pow:B,ceil:I,log2:z}=n;return a("fft",{Array:_ndFft,Matrix:function(n){return n.create(_ndFft(n.valueOf()),n.datatype())}});function _ndFft(n){var a=arraySize(n);return 1===a.length?_fft(n,a[0]):function _1dFft(n,a){var h=arraySize(n);if(0!==a)return Array(h[0]).fill(0).map((h,b)=>_1dFft(n[b],a-1));if(1===h.length)return _fft(n);function _transpose(n){var a=arraySize(n);return Array(a[1]).fill(0).map((h,b)=>Array(a[0]).fill(0).map((a,h)=>n[h][b]))}return _transpose(_1dFft(_transpose(n),1))}(n.map(n=>_ndFft(n,a.slice(1))),0)}function _fft(n){var a=n.length;if(1===a)return[n[0]];if(a%2!=0)return function(n){for(var a=n.length,h=_(w(N(-1,N(E,D)),a)),b=[],q=1-a;q<a;q++)b.push(B(h,w(B(q,2),2)));for(var j=B(2,I(z(a+a-1))),L=[...Array(a).fill(0).map((h,w)=>N(n[w],b[a-1+w])),...Array(j-a).fill(0)],H=[...Array(a+a-1).fill(0).map((n,a)=>w(1,b[a])),...Array(j-(a+a-1)).fill(0)],$=_fft(L),V=_fft(H),G=A(M(_ndFft(M(Array(j).fill(0).map((n,a)=>N($[a],V[a]))))),j),Z=[],W=a-1;W<a+a-1;W++)Z.push(N(G[W],b[W]));return Z}(n);for(var h=[..._fft(n.filter((n,a)=>a%2==0),a/2),..._fft(n.filter((n,a)=>a%2==1),a/2)],q=0;q<a/2;q++){var j=h[q],L=N(h[q+a/2],_(N(N(D,E),w(-q,a))));h[q]=b(j,L),h[q+a/2]=b(j,N(-1,L))}return h}}),cj="gamma",cU=factory_factory(cj,["typed","config","multiplyScalar","pow","BigNumber","Complex"],n=>{var{typed:a,config:h,multiplyScalar:b,pow:N,BigNumber:w,Complex:_}=n;return a(cj,{number:gammaNumber,Complex:function gammaComplex(n){if(0===n.im)return gammaNumber(n.re);if(n.re<.5){var a=new _(1-n.re,-n.im),h=new _(Math.PI*n.re,Math.PI*n.im);return new _(Math.PI).div(h.sin()).div(gammaComplex(a))}n=new _(n.re-1,n.im);for(var b=new _(ah[0],0),N=1;N<ah.length;++N){var w=new _(ah[N],0);b=b.add(w.div(n.add(N)))}var D=new _(n.re+ad+.5,n.im),E=Math.sqrt(2*Math.PI),A=D.pow(n.add(.5)),M=D.neg().exp();return b.mul(E).mul(A).mul(M)},BigNumber:function(n){if(n.isInteger())return n.isNegative()||n.isZero()?new w(1/0):function bigFactorial(n){if(n<8)return new w([1,1,2,6,24,120,720,5040][n]);var a=h.precision+(0|Math.log(n.toNumber())),b=w.clone({precision:a});if(n%2==1)return n.times(bigFactorial(new w(n-1)));for(var N=n,_=new b(n),D=n.toNumber();N>2;)N-=2,D+=N,_=_.times(D);return new w(_.toPrecision(w.precision))}(n.minus(1));if(!n.isFinite())return new w(n.isNegative()?NaN:1/0);throw Error("Integer BigNumber expected")}})}),cL="ifft",cH=factory_factory(cL,["typed","fft","dotDivide","conj"],n=>{var{typed:a,fft:h,dotDivide:b,conj:N}=n;return a(cL,{"Array | Matrix":function(n){var a=isMatrix(n)?n.size():arraySize(n);return b(N(h(N(n))),a.reduce((n,a)=>n*a,1))}})}),c$=factory_factory("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],n=>{var{typed:a,matrix:h,multiply:b,equalScalar:N,divideScalar:w,inv:_}=n,D=rb({typed:a,equalScalar:N}),E=rd({typed:a});return a("divide",extend({"Array | Matrix, Array | Matrix":function(n,a){return b(n,_(a))},"DenseMatrix, any":function(n,a){return E(n,a,w,!1)},"SparseMatrix, any":function(n,a){return D(n,a,w,!1)},"Array, any":function(n,a){return E(h(n),a,w,!1).valueOf()},"any, Array | Matrix":function(n,a){return b(n,_(a))}},w.signatures))}),cV="factorial",cG=factory_factory(cV,["typed","gamma"],n=>{var{typed:a,gamma:h}=n;return a(cV,{number:function(n){if(n<0)throw Error("Value must be non-negative");return h(n+1)},BigNumber:function(n){if(n.isNegative())throw Error("Value must be non-negative");return h(n.plus(1))},"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n))})});function csIpvec(n,a){var h,b=a.length,N=[];if(n)for(h=0;h<b;h++)N[n[h]]=a[h];else for(h=0;h<b;h++)N[h]=a[h];return N}var cZ="lusolve",cW=factory_factory(cZ,["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],n=>{var{typed:a,matrix:h,lup:b,slu:N,usolve:w,lsolve:D,DenseMatrix:E}=n,A=createSolveValidation({DenseMatrix:E});return a(cZ,{"Array, Array | Matrix":function(n,a){var N=b(n=h(n));return _lusolve(N.L,N.U,N.p,null,a).valueOf()},"DenseMatrix, Array | Matrix":function(n,a){var h=b(n);return _lusolve(h.L,h.U,h.p,null,a)},"SparseMatrix, Array | Matrix":function(n,a){var h=b(n);return _lusolve(h.L,h.U,h.p,null,a)},"SparseMatrix, Array | Matrix, number, number":function(n,a,h,b){var w=N(n,h,b);return _lusolve(w.L,w.U,w.p,w.q,a)},"Object, Array | Matrix":function(n,a){return _lusolve(n.L,n.U,n.p,n.q,a)}});function _toMatrix(n){if(isMatrix(n))return n;if(_(n))return h(n);throw TypeError("Invalid Matrix LU decomposition")}function _lusolve(n,a,h,b,N){n=_toMatrix(n),a=_toMatrix(a),h&&((N=A(n,N,!0))._data=csIpvec(h,N._data));var _=w(a,D(n,N));return b&&(_._data=csIpvec(b,_._data)),_}}),cY="multinomial",cX=factory_factory(cY,["typed","add","divide","multiply","factorial","isInteger","isPositive"],n=>{var{typed:a,add:h,divide:b,multiply:N,factorial:w,isInteger:_,isPositive:D}=n;return a(cY,{"Array | Matrix":function(n){var a=0,E=1;return collection_deepForEach(n,function(n){if(!_(n)||!D(n))throw TypeError("Positive integer value expected in function multinomial");a=h(a,n),E=N(E,w(n))}),b(w(a),E)}})}),cJ="permutations",cQ=factory_factory(cJ,["typed","factorial"],n=>{var{typed:a,factorial:h}=n;return a(cJ,{"number | BigNumber":h,"number, number":function(n,a){if(!isInteger(n)||n<0||!isInteger(a)||a<0)throw TypeError("Positive integer value expected in function permutations");if(a>n)throw TypeError("second argument k must be less than or equal to first argument n");return product_product(n-a+1,n)},"BigNumber, BigNumber":function(n,a){var h,b;if(!permutations_isPositiveInteger(n)||!permutations_isPositiveInteger(a))throw TypeError("Positive integer value expected in function permutations");if(a.gt(n))throw TypeError("second argument k must be less than or equal to first argument n");for(h=n.mul(0).add(1),b=n.minus(a).plus(1);b.lte(n);b=b.plus(1))h=h.times(b);return h}})});function permutations_isPositiveInteger(n){return n.isInteger()&&n.gte(0)}var cK="polynomialRoot",c0=factory_factory(cK,["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],n=>{var{typed:a,isZero:h,equalScalar:b,add:N,subtract:w,multiply:_,divide:D,sqrt:E,unaryMinus:A,cbrt:M,typeOf:B,im:I,re:z}=n;return a(cK,{"number|Complex, ...number|Complex":(n,a)=>{for(var q=[n,...a];q.length>0&&h(q[q.length-1]);)q.pop();if(q.length<2)throw RangeError("Polynomial [".concat(n,", ").concat(a,"] must have a non-zero non-constant coefficient"));switch(q.length){case 2:return[A(D(q[0],q[1]))];case 3:var[j,L,H]=q,$=_(2,H),V=_(L,L),G=_(4,H,j);if(b(V,G))return[D(A(L),$)];var Z=E(w(V,G));return[D(w(Z,L),$),D(w(A(Z),L),$)];case 4:var[W,Y,X,J]=q,Q=A(_(3,J)),K=_(X,X),ee=_(3,J,Y),er=N(_(2,X,X,X),_(27,J,J,W)),et=_(9,J,X,Y);if(b(K,ee)&&b(er,et))return[D(X,Q)];var en=w(K,ee),ei=w(er,et);if(b(N(_(18,J,X,Y,W),_(X,X,Y,Y)),N(_(4,X,X,X,W),_(4,J,Y,Y,Y),_(27,J,J,W,W))))return[D(w(_(4,J,X,Y),N(_(9,J,J,W),_(X,X,X))),_(J,en)),D(w(_(9,J,W),_(X,Y)),_(2,en))];return M(b(K,ee)?ei:D(N(ei,E(w(_(ei,ei),_(4,en,en,en)))),2),!0).toArray().map(n=>D(N(X,n,D(en,n)),Q)).map(n=>"Complex"===B(n)&&b(z(n),z(n)+I(n))?z(n):n);default:throw RangeError("only implemented for cubic or lower-order polynomials, not ".concat(q))}}})}),c1="setSize",c2=factory_factory(c1,["typed","compareNatural"],n=>{var{typed:a,compareNatural:h}=n;return a(c1,{"Array | Matrix":function(n){return Array.isArray(n)?flatten(n).length:flatten(n.toArray()).length},"Array | Matrix, boolean":function(n,a){if(!1===a||0===n.length)return Array.isArray(n)?flatten(n).length:flatten(n.toArray()).length;for(var b=flatten(Array.isArray(n)?n:n.toArray()).sort(h),N=1,w=1;w<b.length;w++)0!==h(b[w],b[w-1])&&N++;return N}})});function solveODE_ownKeys(n,a){var h=Object.keys(n);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(n);a&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),h.push.apply(h,b)}return h}var c3=factory_factory("solveODE",["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],n=>{var{typed:a,add:h,subtract:b,multiply:N,divide:w,max:_,map:D,abs:E,isPositive:A,isNegative:M,larger:B,smaller:I,matrix:z,bignumber:q,unaryMinus:j}=n;function _rk(n){return function(a,z,L,H){if(!(2===z.length&&(z.every(isNumOrBig)||z.every(isUnit))))throw Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var $,V=z[0],G=z[1],Z=B(G,V),W=H.firstStep;if(void 0!==W&&!A(W))throw Error('"firstStep" must be positive');var Y=H.maxStep;if(void 0!==Y&&!A(Y))throw Error('"maxStep" must be positive');var X=H.minStep;if(X&&M(X))throw Error('"minStep" must be positive or zero');var J=[V,G,W,X,Y].filter(n=>void 0!==n);if(!(J.every(isNumOrBig)||J.every(isUnit)))throw Error('Inconsistent type of "t" dependant variables');for(var Q=H.tol?H.tol:1e-4,K=H.minDelta?H.minDelta:.2,ee=H.maxDelta?H.maxDelta:5,er=H.maxIter?H.maxIter:1e4,et=[V,G,...L,Y,X].some(isBigNumber),[en,ei,ea,eo]=et?[q(n.a),q(n.c),q(n.b),q(n.bp)]:[n.a,n.c,n.b,n.bp],es=W?Z?W:j(W):w(b(G,V),1),eu=[V],ec=[L],el=b(ea,eo),ef=0,em=0,ep=Z?I:B,ed=($=Z?B:I,function(n,a,N){return $(h(n,N),a)?b(a,n):N});ep(eu[ef],G);){var eh=[];es=ed(eu[ef],G,es),eh.push(a(eu[ef],ec[ef]));for(var eg=1;eg<ei.length;++eg)eh.push(a(h(eu[ef],N(ei[eg],es)),h(ec[ef],N(es,en[eg],eh))));var ey=_(E(D(N(el,eh),n=>isUnit(n)?n.value:n)));ey<Q&&Q/ey>1/4&&(eu.push(h(eu[ef],es)),ec.push(h(ec[ef],N(es,ea,eh))),ef++);var ev=.84*(Q/ey)**.2;if(I(ev,K)?ev=K:B(ev,ee)&&(ev=ee),es=N(es,ev=et?q(ev):ev),Y&&B(E(es),Y)?es=Z?Y:j(Y):X&&I(E(es),X)&&(es=Z?X:j(X)),++em>er)throw Error("Maximum number of iterations reached, try changing options")}return{t:eu,y:ec}}}function _rk23(n,a,h,b){return _rk({a:[[],[.5],[0,3/4],[2/9,1/3,4/9]],c:[null,.5,3/4,1],b:[2/9,1/3,4/9,0],bp:[7/24,1/4,1/3,1/8]})(n,a,h,b)}function _rk45(n,a,h,b){return _rk({a:[[],[.2],[3/40,9/40],[44/45,-56/15,32/9],[19372/6561,-25360/2187,64448/6561,-212/729],[9017/3168,-355/33,46732/5247,49/176,-5103/18656],[35/384,0,500/1113,125/192,-2187/6784,11/84]],c:[null,.2,.3,.8,8/9,1,1],b:[35/384,0,500/1113,125/192,-2187/6784,11/84,0],bp:[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40]})(n,a,h,b)}function _solveODE(n,a,h,b){var N=b.method?b.method:"RK45",w={RK23:_rk23,RK45:_rk45};if(N.toUpperCase() in w){var _=function(n){for(var a=1;a<arguments.length;a++){var h=null!=arguments[a]?arguments[a]:{};a%2?solveODE_ownKeys(Object(h),!0).forEach(function(a){_defineProperty(n,a,h[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(h)):solveODE_ownKeys(Object(h)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(h,a))})}return n}({},b);return delete _.method,w[N.toUpperCase()](n,a,h,_)}var D=Object.keys(w).map(n=>'"'.concat(n,'"')),E="".concat(D.slice(0,-1).join(", ")," and ").concat(D.slice(-1));throw Error('Unavailable method "'.concat(N,'". Available methods are ').concat(E))}function isNumOrBig(n){return isBigNumber(n)||isNumber(n)}function _matrixSolveODE(n,a,h,b){var N=_solveODE(n,a.toArray(),h.toArray(),b);return{t:z(N.t),y:z(N.y)}}return a("solveODE",{"function, Array, Array, Object":_solveODE,"function, Matrix, Matrix, Object":_matrixSolveODE,"function, Array, Array":(n,a,h)=>_solveODE(n,a,h,{}),"function, Matrix, Matrix":(n,a,h)=>_matrixSolveODE(n,a,h,{}),"function, Array, number | BigNumber | Unit":(n,a,h)=>{var b=_solveODE(n,a,[h],{});return{t:b.t,y:b.y.map(n=>n[0])}},"function, Matrix, number | BigNumber | Unit":(n,a,h)=>{var b=_solveODE(n,a.toArray(),[h],{});return{t:z(b.t),y:z(b.y.map(n=>n[0]))}},"function, Array, number | BigNumber | Unit, Object":(n,a,h,b)=>{var N=_solveODE(n,a,[h],b);return{t:N.t,y:N.y.map(n=>n[0])}},"function, Matrix, number | BigNumber | Unit, Object":(n,a,h,b)=>{var N=_solveODE(n,a.toArray(),[h],b);return{t:z(N.t),y:z(N.y.map(n=>n[0]))}}})}),c4="stirlingS2",c5=factory_factory(c4,["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],n=>{var{typed:a,addScalar:h,subtractScalar:b,multiplyScalar:N,divideScalar:w,pow:_,factorial:D,combinations:E,isNegative:A,isInteger:M,number:B,bignumber:I,larger:z}=n,q=[],j=[];return a(c4,{"number | BigNumber, number | BigNumber":function(n,a){if(!M(n)||A(n)||!M(a)||A(a))throw TypeError("Non-negative integer value expected in function stirlingS2");if(z(a,n))throw TypeError("k must be less than or equal to n in function stirlingS2");var b=!(isNumber(n)&&isNumber(a)),w=b?j:q,_=b?I:B,D=B(n),E=B(a);if(w[D]&&w[D].length>E)return w[D][E];for(var L=0;L<=D;++L)if(w[L]||(w[L]=[_(0===L?1:0)]),0!==L)for(var H=w[L],$=w[L-1],V=H.length;V<=L&&V<=E;++V)V===L?H[V]=1:H[V]=h(N(_(V),$[V]),$[V-1]);return w[D][E]}})}),c8="unit",c6=factory_factory(c8,["typed","Unit"],n=>{var{typed:a,Unit:h}=n;return a(c8,{Unit:function(n){return n.clone()},string:function(n){return h.isValuelessUnit(n)?new h(null,n):h.parse(n,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(n,a){return new h(n,a)},"number | BigNumber | Fraction":function(n){return new h(n)},"Array | Matrix":a.referToSelf(n=>a=>collection_deepMap(a,n))})}),c7="bellNumbers",c9=factory_factory(c7,["typed","addScalar","isNegative","isInteger","stirlingS2"],n=>{var{typed:a,addScalar:h,isNegative:b,isInteger:N,stirlingS2:w}=n;return a(c7,{"number | BigNumber":function(n){if(!N(n)||b(n))throw TypeError("Non-negative integer value expected in function bellNumbers");for(var a=0,_=0;_<=n;_++)a=h(a,w(n,_));return a}})}),le=factory_factory("eigs",["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],n=>{var{config:a,typed:h,matrix:b,addScalar:N,subtract:w,equal:_,abs:D,atan:E,cos:A,sin:M,multiplyScalar:B,divideScalar:I,inv:z,bignumber:q,multiply:j,add:L,larger:H,column:$,flatten:V,number:G,complex:Z,sqrt:W,diag:Y,size:X,reshape:J,qr:Q,usolve:K,usolveAll:ee,im:er,re:et,smaller:en,matrixFromColumns:ei,dot:ea}=n,eo=function(n){var{config:a,addScalar:h,subtract:b,abs:N,atan:w,cos:_,sin:D,multiplyScalar:E,inv:A,bignumber:M,multiply:B,add:I}=n;function getAij(n){for(var a=n.length,h=0,b=[0,1],N=0;N<a;N++)for(var w=N+1;w<a;w++)Math.abs(h)<Math.abs(n[N][w])&&(h=Math.abs(n[N][w]),b=[N,w]);return[b,h]}function getAijBig(n){for(var a=n.length,h=0,b=[0,1],w=0;w<a;w++)for(var _=w+1;_<a;_++)N(h)<N(n[w][_])&&(h=N(n[w][_]),b=[w,_]);return[b,h]}function sorting(n,a,h){var b,w=n.length,_=Array(w);if(h){b=Array(w);for(var D=0;D<w;D++)b[D]=Array(w)}for(var E=0;E<w;E++){for(var A=0,M=n[0],B=0;B<n.length;B++)N(n[B])<N(M)&&(M=n[A=B]);if(_[E]=n.splice(A,1)[0],h)for(var I=0;I<w;I++)b[E][I]=a[I][A],a[I].splice(A,1)}return h?{values:_,eigenvectors:b.map((n,a)=>({value:_[a],vector:n}))}:{values:_}}return function(n,z){var q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.relTol,j=arguments.length>3?arguments[3]:void 0,L=arguments.length>4?arguments[4]:void 0;if("number"===j)return function(n,h,b){var N,w,_=n.length,D=Math.abs(h/_);if(b){w=Array(_);for(var E=0;E<_;E++)w[E]=Array(_).fill(0),w[E][E]=1}for(var A=getAij(n);Math.abs(A[1])>=Math.abs(D);){var M,B,I,z=A[0][0],q=A[0][1];M=n[z][z],B=n[q][q],I=n[z][q],n=function(n,a,h,b){for(var N=n.length,w=Math.cos(a),_=Math.sin(a),D=w*w,E=_*_,A=Array(N).fill(0),M=Array(N).fill(0),B=D*n[h][h]-2*w*_*n[h][b]+E*n[b][b],I=E*n[h][h]+2*w*_*n[h][b]+D*n[b][b],z=0;z<N;z++)A[z]=w*n[h][z]-_*n[b][z],M[z]=_*n[h][z]+w*n[b][z];n[h][h]=B,n[b][b]=I,n[h][b]=0,n[b][h]=0;for(var q=0;q<N;q++)q!==h&&q!==b&&(n[h][q]=A[q],n[q][h]=A[q],n[b][q]=M[q],n[q][b]=M[q]);return n}(n,N=Math.abs(B-M)<=a.relTol?Math.PI/4:.5*Math.atan(2*I/(B-M)),z,q),b&&(w=function(n,a,h,b){for(var N=n.length,w=Math.cos(a),_=Math.sin(a),D=Array(N).fill(0),E=Array(N).fill(0),A=0;A<N;A++)D[A]=w*n[A][h]-_*n[A][b],E[A]=_*n[A][h]+w*n[A][b];for(var M=0;M<N;M++)n[M][h]=D[M],n[M][b]=E[M];return n}(w,N,z,q)),A=getAij(n)}for(var j=Array(_).fill(0),L=0;L<_;L++)j[L]=n[L][L];return sorting(object_clone(j),w,b)}(n,q,L);if("BigNumber"===j)return function(n,z,q){var j,L,H=n.length,$=N(z/H);if(q){L=Array(H);for(var V=0;V<H;V++)L[V]=Array(H).fill(0),L[V][V]=1}for(var G=getAijBig(n);N(G[1])>=N($);){var Z=G[0][0],W=G[0][1];j=function(n,h,_){var D=b(h,n);return N(D)<=a.relTol?M(-1).acos().div(4):E(.5,w(B(2,_,A(D))))}(n[Z][Z],n[W][W],n[Z][W]),n=function(n,a,N,w){for(var A=n.length,z=M(_(a)),q=M(D(a)),j=E(z,z),L=E(q,q),H=Array(A).fill(M(0)),$=Array(A).fill(M(0)),V=B(M(2),z,q,n[N][w]),G=h(b(E(j,n[N][N]),V),E(L,n[w][w])),Z=I(E(L,n[N][N]),V,E(j,n[w][w])),W=0;W<A;W++)H[W]=b(E(z,n[N][W]),E(q,n[w][W])),$[W]=h(E(q,n[N][W]),E(z,n[w][W]));n[N][N]=G,n[w][w]=Z,n[N][w]=M(0),n[w][N]=M(0);for(var Y=0;Y<A;Y++)Y!==N&&Y!==w&&(n[N][Y]=H[Y],n[Y][N]=H[Y],n[w][Y]=$[Y],n[Y][w]=$[Y]);return n}(n,j,Z,W),q&&(L=function(n,a,N,w){for(var A=n.length,B=_(a),I=D(a),z=Array(A).fill(M(0)),q=Array(A).fill(M(0)),j=0;j<A;j++)z[j]=b(E(B,n[j][N]),E(I,n[j][w])),q[j]=h(E(I,n[j][N]),E(B,n[j][w]));for(var L=0;L<A;L++)n[L][N]=z[L],n[L][w]=q[L];return n}(L,j,Z,W)),G=getAijBig(n)}for(var Y=Array(H).fill(0),X=0;X<H;X++)Y[X]=n[X][X];return sorting(object_clone(Y),L,q)}(n,q,L);throw TypeError("Unsupported data type: "+j)}}({config:a,addScalar:N,subtract:w,column:$,flatten:V,equal:_,abs:D,atan:E,cos:A,sin:M,multiplyScalar:B,inv:z,bignumber:q,complex:Z,multiply:j,add:L}),es=function(n){var{addScalar:a,subtract:h,flatten:b,multiply:N,multiplyScalar:w,divideScalar:_,sqrt:D,abs:E,bignumber:A,diag:M,size:B,reshape:I,inv:z,qr:q,usolve:j,usolveAll:L,equal:H,complex:$,larger:V,smaller:G,matrixFromColumns:Z,dot:W}=n;function inflateMatrix(n,a){for(var h=0;h<n.length;h++)n[h].push(...Array(a-n[h].length).fill(0));for(var b=n.length;b<a;b++)n.push(Array(a).fill(0)),n[b][b]=1;return n}function orthogonalComplement(n,a){var b=B(n);for(var w of a)n=h(n,N(_(W(w=I(w,b),n),W(w,w)),w));return n}function norm(n){return E(D(W(n,n)))}function normalize(n,a){return N(_("BigNumber"===a?A(1):"Complex"===a?$(1):1,norm(n)),n)}return function(n,B,I,Z){var W=!(arguments.length>4)||void 0===arguments[4]||arguments[4],Y=function(n,h,b,N,D){var B,I="BigNumber"===N,z=I?A(0):0,q=I?A(1):"Complex"===N?$(1):1,j=I?A(1):1,L=I?A(10):2,Z=w(L,L);D&&(B=Array(h).fill(q));for(var W=!1;!W;){W=!0;for(var Y=0;Y<h;Y++){for(var X=z,J=z,Q=0;Q<h;Q++)Y!==Q&&(X=a(X,E(n[Q][Y])),J=a(J,E(n[Y][Q])));if(!H(X,0)&&!H(J,0)){for(var K=j,ee=X,er=_(J,L),et=w(J,L);G(ee,er);)ee=w(ee,Z),K=w(K,L);for(;V(ee,et);)ee=_(ee,Z),K=_(K,L);if(G(_(a(ee,J),K),w(a(X,J),.95))){W=!1;for(var en=_(1,K),ei=0;ei<h;ei++)Y!==ei&&(n[Y][ei]=w(n[Y][ei],en),n[ei][Y]=w(n[ei][Y],K));D&&(B[Y]=w(B[Y],en))}}}}return D?M(B):null}(n,B,0,Z,W);!function(n,b,N,D,M,B){var I="BigNumber"===D,z=I?A(0):"Complex"===D?$(0):0;I&&(N=A(N));for(var q=0;q<b-2;q++){for(var j=0,L=z,H=q+1;H<b;H++){var V=n[H][q];G(E(L),E(V))&&(L=V,j=H)}if(!G(E(L),N)){if(j!==q+1){var Z=n[j];n[j]=n[q+1],n[q+1]=Z;for(var W=0;W<b;W++){var Y=n[W][j];n[W][j]=n[W][q+1],n[W][q+1]=Y}if(M){var X=B[j];B[j]=B[q+1],B[q+1]=X}}for(var J=q+2;J<b;J++){var Q=_(n[J][q],L);if(0!==Q){for(var K=0;K<b;K++)n[J][K]=h(n[J][K],w(Q,n[q+1][K]));for(var ee=0;ee<b;ee++)n[ee][q+1]=a(n[ee][q+1],w(Q,n[ee][J]));if(M)for(var er=0;er<b;er++)B[J][er]=h(B[J][er],w(Q,B[q+1][er]))}}}}}(n,B,I,Z,W,Y);var{values:X,C:J}=function(n,b,_,B,I){var z="BigNumber"===B,j="Complex"===B,L=z?A(1):j?$(1):1;z&&(_=A(_));for(var H=object_clone(n),Z=[],W=b,Y=[],X=I?M(Array(b).fill(L)):void 0,J=I?M(Array(W).fill(L)):void 0,Q=0;Q<=100;){Q+=1;for(var K=H[W-1][W-1],ee=0;ee<W;ee++)H[ee][ee]=h(H[ee][ee],K);var{Q:er,R:et}=q(H);H=N(et,er);for(var en=0;en<W;en++)H[en][en]=a(H[en][en],K);if(I&&(J=N(J,er)),1===W||G(E(H[W-1][W-2]),_)){Q=0,Z.push(H[W-1][W-1]),I&&(Y.unshift([[1]]),inflateMatrix(J,b),X=N(X,J),W>1&&(J=M(Array(W-1).fill(L)))),W-=1,H.pop();for(var ei=0;ei<W;ei++)H[ei].pop()}else if(2===W||G(E(H[W-2][W-3]),_)){Q=0;var ea=function(n,b,N,_){var E=a(n,_),A=h(w(n,_),w(b,N)),M=w(E,.5),B=w(D(h(w(E,E),w(4,A))),.5);return[a(M,B),h(M,B)]}(H[W-2][W-2],H[W-2][W-1],H[W-1][W-2],H[W-1][W-1]);Z.push(...ea),I&&(Y.unshift(function(n,a,b,N,w,_,D,M){var B="BigNumber"===M,I="Complex"===M,z=B?A(0):I?$(0):0,q=B?A(1):I?$(1):1;if(G(E(b),D))return[[q,z],[z,q]];if(V(E(h(w,_)),D))return[[h(w,N),h(_,N)],[b,b]];var j=h(n,w),L=h(N,w);return G(E(a),D)&&G(E(L),D)?[[j,q],[b,z]]:[[a,z],[L,q]]}(H[W-2][W-2],H[W-2][W-1],H[W-1][W-2],H[W-1][W-1],ea[0],ea[1],_,B)),inflateMatrix(J,b),X=N(X,J),W>2&&(J=M(Array(W-2).fill(L)))),W-=2,H.pop(),H.pop();for(var eo=0;eo<W;eo++)H[eo].pop(),H[eo].pop()}if(0===W)break}if(Z.sort((n,a)=>+h(E(n),E(a))),Q>100){var es=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+Z.join(", "));throw es.values=Z,es.vectors=[],es}return{values:Z,C:I?N(X,function(n,a){for(var h=[],b=0;b<a;b++)h[b]=Array(a).fill(0);var N=0;for(var w of n){for(var _=w.length,D=0;D<_;D++)for(var E=0;E<_;E++)h[N+D][N+E]=w[D][E];N+=_}return h}(Y,b)):void 0}}(n,B,I,Z,W);return W?{values:X,eigenvectors:function(n,a,w,_,D,E,B){var I=N(z(w),n,w),q="BigNumber"===B,Z="Complex"===B,W=q?A(0):Z?$(0):0,Y=q?A(1):Z?$(1):1,X=[],J=[];for(var Q of D){var K=function(n,a,h){for(var b=0;b<n.length;b++)if(h(n[b],a))return b;return -1}(X,Q,H);-1===K?(X.push(Q),J.push(1)):J[K]+=1}for(var ee=[],er=X.length,et=Array(a).fill(W),en=M(Array(a).fill(Y)),ei=0;ei<er;ei++)!function(){var n=X[ei],D=h(I,N(n,en)),M=L(D,et);for(M.shift();M.length<J[ei];){var q=function(n,a,h,b,N){for(var w,_="BigNumber"===N?A(1e3):1e3,D=0;D<5;++D){w=function(n,a,h){var b="BigNumber"===h,N="Complex"===h,w=Array(n).fill(0).map(n=>2*Math.random()-1);return b&&(w=w.map(n=>A(n))),N&&(w=w.map(n=>$(n))),normalize(w=orthogonalComplement(w,a),h)}(a,h,N);try{w=j(n,w)}catch(n){continue}if(V(norm(w),_))break}if(D>=5)return null;for(D=0;;){var E=j(n,w);if(G(norm(orthogonalComplement(w,[E])),b))break;if(++D>=10)return null;w=normalize(E)}return w}(D,a,M,E,B);if(null===q)break;M.push(q)}var H=N(z(_),w);M=M.map(n=>N(H,n)),ee.push(...M.map(a=>({value:n,vector:b(a)})))}();return ee}(n,B,J,Y,X,I,Z)}:{values:X}}}({config:a,addScalar:N,subtract:w,multiply:j,multiplyScalar:B,flatten:V,divideScalar:I,sqrt:W,abs:D,bignumber:q,diag:Y,size:X,reshape:J,qr:Q,inv:z,usolve:K,usolveAll:ee,equal:_,complex:Z,larger:H,smaller:en,matrixFromColumns:ei,dot:ea});return h("eigs",{Array:function(n){return doEigs(b(n))},"Array, number|BigNumber":function(n,a){return doEigs(b(n),{precision:a})},"Array, Object":(n,a)=>doEigs(b(n),a),Matrix:function(n){return doEigs(n,{matricize:!0})},"Matrix, number|BigNumber":function(n,a){return doEigs(n,{precision:a,matricize:!0})},"Matrix, Object":function(n,a){var h={matricize:!0};return _extends(h,a),doEigs(n,h)}});function doEigs(n){var h,N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=!("eigenvectors"in N)||N.eigenvectors,E=function(n,a,h){var b=n.toArray(),N=n.size();if(2!==N.length||N[0]!==N[1])throw RangeError("Matrix must be square (size: ".concat(string_format(N),")"));var _=N[0];if(function(n,a,h){for(var b=0;b<a;b++)for(var N=0;N<a;N++)if(H(q(D(er(n[b][N]))),h))return!1;return!0}(b,_,a)&&(function(n,a){for(var h=0;h<a;h++)for(var b=0;b<a;b++)n[h][b]=et(n[h][b])}(b,_),function(n,a,h){for(var b=0;b<a;b++)for(var N=b;N<a;N++)if(H(q(D(w(n[b][N],n[N][b]))),h))return!1;return!0}(b,_,a))){var E=coerceTypes(n,b,_);return eo(b,_,a,E,h)}var A=coerceTypes(n,b,_);return es(b,_,a,A,h)}(n,null!==(h=N.precision)&&void 0!==h?h:a.relTol,_);return N.matricize&&(E.values=b(E.values),_&&(E.eigenvectors=E.eigenvectors.map(n=>{var{value:a,vector:h}=n;return{value:a,vector:b(h)}}))),_&&Object.defineProperty(E,"vectors",{enumerable:!1,get:()=>{throw Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),E}function coerceTypes(n,a,h){var b=n.datatype();if("number"===b||"BigNumber"===b||"Complex"===b)return b;for(var N=!1,w=!1,_=!1,D=0;D<h;D++)for(var E=0;E<h;E++){var A=a[D][E];if(isNumber(A)||isFraction(A))N=!0;else if(isBigNumber(A))w=!0;else if(isComplex(A))_=!0;else throw TypeError("Unsupported type in Matrix: "+typeOf(A))}if(w&&_&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),_){for(var M=0;M<h;M++)for(var B=0;B<h;B++)a[M][B]=Z(a[M][B]);return"Complex"}if(w){for(var I=0;I<h;I++)for(var z=0;z<h;z++)a[I][z]=q(a[I][z]);return"BigNumber"}if(N){for(var j=0;j<h;j++)for(var L=0;L<h;L++)a[j][L]=G(a[j][L]);return"number"}throw TypeError("Matrix contains unsupported types only.")}}),lr="kldivergence",lt=factory_factory(lr,["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],n=>{var{typed:a,matrix:h,divide:b,sum:N,multiply:w,map:_,dotDivide:D,log:E,isNumeric:A}=n;return a(lr,{"Array, Array":function(n,a){return _kldiv(h(n),h(a))},"Matrix, Array":function(n,a){return _kldiv(n,h(a))},"Array, Matrix":function(n,a){return _kldiv(h(n),a)},"Matrix, Matrix":function(n,a){return _kldiv(n,a)}});function _kldiv(n,a){var h=a.size().length,M=n.size().length;if(h>1)throw Error("first object must be one dimensional");if(M>1)throw Error("second object must be one dimensional");if(h!==M)throw Error("Length of two vectors must be equal");if(0===N(n))throw Error("Sum of elements in first object must be non zero");if(0===N(a))throw Error("Sum of elements in second object must be non zero");var B=b(n,N(n)),I=b(a,N(a)),z=N(w(B,_(D(B,I),n=>E(n))));return A(z)?z:Number.NaN}}),li="median",la=factory_factory(li,["typed","add","divide","compare","partitionSelect"],n=>{var{typed:a,add:h,divide:b,compare:N,partitionSelect:w}=n;function _median(n){try{var a=(n=flatten(n.valueOf())).length;if(0===a)throw Error("Cannot calculate median of an empty array");if(a%2==0){for(var h=a/2-1,b=w(n,h+1),E=n[h],A=0;A<h;++A)N(n[A],E)>0&&(E=n[A]);return D(E,b)}var M=w(n,(a-1)/2);return _(M)}catch(n){throw improveErrorMessage(n,"median")}}var _=a({"number | BigNumber | Complex | Unit":function(n){return n}}),D=a({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(n,a){return b(h(n,a),2)}});return a(li,{"Array | Matrix":_median,"Array | Matrix, number | BigNumber":function(n,a){throw Error("median(A, dim) is not yet supported")},"...":function(n){if(containsCollections(n))throw TypeError("Scalar values expected in function median");return _median(n)}})}),lo="corr",ls=factory_factory(lo,["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],n=>{var{typed:a,matrix:h,sqrt:b,sum:N,add:w,subtract:_,multiply:D,pow:E,divide:A}=n;return a(lo,{"Array, Array":function(n,a){return _corr(n,a)},"Matrix, Matrix":function(n,a){var b=_corr(n.toArray(),a.toArray());return Array.isArray(b)?h(b):b}});function _corr(n,a){var h=[];if(Array.isArray(n[0])&&Array.isArray(a[0])){if(n.length!==a.length)throw SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var b=0;b<n.length;b++){if(n[b].length!==a[b].length)throw SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");h.push(correlation(n[b],a[b]))}return h}if(n.length!==a.length)throw SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return correlation(n,a)}function correlation(n,a){var h=n.length,M=N(n),B=N(a),I=n.reduce((n,h,b)=>w(n,D(h,a[b])),0),z=N(n.map(n=>E(n,2))),q=N(a.map(n=>E(n,2)));return A(_(D(h,I),D(M,B)),b(D(_(D(h,z),E(M,2)),_(D(h,q),E(B,2)))))}}),lu="freqz",lc=factory_factory(lu,["typed","add","multiply","Complex","divide","matrix"],n=>{var{typed:a,add:h,multiply:b,Complex:N,divide:w,matrix:_}=n;return a(lu,{"Array, Array":function(n,a){return _freqz(n,a,createBins(512))},"Array, Array, Array":function(n,a,h){return _freqz(n,a,h)},"Array, Array, number":function(n,a,h){if(h<0)throw Error("w must be a positive number");return _freqz(n,a,createBins(h))},"Matrix, Matrix":function(n,a){var h=createBins(512),{w:b,h:N}=_freqz(n.valueOf(),a.valueOf(),h);return{w:_(b),h:_(N)}},"Matrix, Matrix, Matrix":function(n,a,h){var{h:b}=_freqz(n.valueOf(),a.valueOf(),h.valueOf());return{h:_(b),w:_(h)}},"Matrix, Matrix, number":function(n,a,h){if(h<0)throw Error("w must be a positive number");var b=createBins(h),{h:N}=_freqz(n.valueOf(),a.valueOf(),b);return{h:_(N),w:_(b)}}});function _freqz(n,a,_){for(var D=[],E=[],A=0;A<_.length;A++){for(var M=N(0,0),B=N(0,0),I=0;I<n.length;I++)M=h(M,b(n[I],N(Math.cos(-I*_[A]),Math.sin(-I*_[A]))));for(var z=0;z<a.length;z++)B=h(B,b(a[z],N(Math.cos(-z*_[A]),Math.sin(-z*_[A]))));D.push(M),E.push(B)}for(var q=[],j=0;j<D.length;j++)q.push(w(D[j],E[j]));return{h:q,w:_}}function createBins(n){for(var a=[],h=0;h<n;h++)a.push(h/n*Math.PI);return a}}),ll=factory_factory("mad",["typed","abs","map","median","subtract"],n=>{var{typed:a,abs:h,map:b,median:N,subtract:w}=n;return a("mad",{"Array | Matrix":_mad,"...":function(n){return _mad(n)}});function _mad(n){if(0===(n=flatten(n.valueOf())).length)throw Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var a=N(n);return N(b(n,function(n){return h(w(n,a))}))}catch(n){if(n instanceof TypeError&&n.message.includes("median"))throw TypeError(n.message.replace("median","mad"));throw improveErrorMessage(n,"mad")}}}),lf="zeta",lm=factory_factory(lf,["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],n=>{var{typed:a,config:h,multiply:b,pow:N,divide:w,factorial:_,equal:D,smallerEq:E,isNegative:A,gamma:M,sin:B,subtract:I,add:z,Complex:q,BigNumber:j,pi:L}=n;return a(lf,{number:n=>zetaNumeric(n,n=>n,()=>20),BigNumber:n=>zetaNumeric(n,n=>new j(n),()=>Math.abs(Math.log10(h.relTol))),Complex:function(n){return 0===n.re&&0===n.im?new q(-.5):1===n.re?new q(NaN,NaN):n.re===1/0&&0===n.im?new q(1):n.im===1/0||n.re===-1/0?new q(NaN,NaN):zeta(n,n=>n,n=>Math.round(19.5+.9*Math.abs(n.im)),n=>n.re)}});function zetaNumeric(n,a,h){return D(n,0)?a(-.5):D(n,1)?a(NaN):isFinite(n)?zeta(n,a,h,n=>n):a(A(n)?NaN:1)}function zeta(n,a,h,_){var D=h(n);if(_(n)>-(D-1)/2)return function(n,a,h){for(var _=w(1,b(d(h(0),a),I(1,N(2,I(1,n))))),D=h(0),A=h(1);E(A,a);A=z(A,1))D=z(D,w(b((-1)**(A-1),d(A,a)),N(A,n)));return b(_,D)}(n,a(D),a);var A=b(N(2,n),N(a(L),I(n,1)));return A=b(A,B(b(w(a(L),2),n))),A=b(A,M(I(1,n))),b(A,zeta(I(1,n),a,h,_))}function d(n,a){for(var h=n,D=n;E(D,a);D=z(D,1)){var A=w(b(_(z(a,I(D,1))),N(4,D)),b(_(I(a,D)),_(b(2,D))));h=z(h,A)}return b(a,h)}}),lp="norm",ld=factory_factory(lp,["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],n=>{var{typed:a,abs:h,add:b,pow:N,conj:w,sqrt:_,multiply:D,equalScalar:E,larger:A,smaller:M,matrix:B,ctranspose:I,eigs:z}=n;return a(lp,{number:Math.abs,Complex:function(n){return n.abs()},BigNumber:function(n){return n.abs()},boolean:function(n){return Math.abs(n)},Array:function(n){return _norm(B(n),2)},Matrix:function(n){return _norm(n,2)},"Array, number | BigNumber | string":function(n,a){return _norm(B(n),a)},"Matrix, number | BigNumber | string":function(n,a){return _norm(n,a)}});function _norm(n,a){var B=n.size();if(1===B.length)return function(n,a){if(a===Number.POSITIVE_INFINITY||"inf"===a)return w=0,n.forEach(function(n){var a=h(n);A(a,w)&&(w=a)},!0),w;if(a===Number.NEGATIVE_INFINITY||"-inf"===a)return n.forEach(function(n){var a=h(n);(!_||M(a,_))&&(_=a)},!0),_||0;if("fro"===a)return _norm(n,2);if("number"==typeof a&&!isNaN(a)){if(!E(a,0)){var w,_,D=0;return n.forEach(function(n){D=b(N(h(n),a),D)},!0),N(D,1/a)}return Number.POSITIVE_INFINITY}throw Error("Unsupported parameter value")}(n,a);if(2===B.length){if(B[0]&&B[1])return function(n,a){var N,E,M,B,q;if(1===a)return N=[],E=0,n.forEach(function(n,a){var w=a[1],_=b(N[w]||0,h(n));A(_,E)&&(E=_),N[w]=_},!0),E;if(a===Number.POSITIVE_INFINITY||"inf"===a)return M=[],B=0,n.forEach(function(n,a){var N=a[0],w=b(M[N]||0,h(n));A(w,B)&&(B=w),M[N]=w},!0),B;if("fro"===a)return q=0,n.forEach(function(n,a){q=b(q,D(n,w(n)))}),h(_(q));if(2===a)return function(n){var a=n.size();if(a[0]!==a[1])throw RangeError("Invalid matrix dimensions");var b=z(D(I(n),n)).values.toArray();return h(_(b[b.length-1]))}(n);throw Error("Unsupported parameter value "+a)}(n,a);throw RangeError("Invalid matrix dimensions")}}}),lh="rotationMatrix",lg=factory_factory(lh,["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],n=>{var{typed:a,config:h,multiplyScalar:b,addScalar:N,unaryMinus:w,norm:_,BigNumber:D,matrix:E,DenseMatrix:A,SparseMatrix:M,cos:B,sin:I}=n;return a(lh,{"":function(){return"Matrix"===h.matrix?E([]):[]},string:function(n){return E(n)},"number | BigNumber | Complex | Unit":function(n){return _rotationMatrix2x2(n,"Matrix"===h.matrix?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(n,a){return _rotationMatrix2x2(n,a)},"number | BigNumber | Complex | Unit, Array":function(n,a){var h=E(a);return _validateVector(h),_rotationMatrix3x3(n,h,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(n,a){_validateVector(a);var b=a.storage()||("Matrix"===h.matrix?"dense":void 0);return _rotationMatrix3x3(n,a,b)},"number | BigNumber | Complex | Unit, Array, string":function(n,a,h){var b=E(a);return _validateVector(b),_rotationMatrix3x3(n,b,h)},"number | BigNumber | Complex | Unit, Matrix, string":function(n,a,h){return _validateVector(a),_rotationMatrix3x3(n,a,h)}});function _rotationMatrix2x2(n,a){var h=isBigNumber(n)?new D(-1):-1,N=B(n),w=I(n);return _convertToFormat([[N,b(h,w)],[w,N]],a)}function _validateVector(n){var a=n.size();if(a.length<1||3!==a[0])throw RangeError("Vector must be of dimensions 1x3")}function _mul(n){return n.reduce((n,a)=>b(n,a))}function _convertToFormat(n,a){if(a){if("sparse"===a)return new M(n);if("dense"===a)return new A(n);throw TypeError('Unknown matrix type "'.concat(a,'"'))}return n}function _rotationMatrix3x3(n,a,h){var b=_(a);if(0===b)throw RangeError("Rotation around zero vector");var E=isBigNumber(n)?D:null,A=E?new E(1):1,M=E?new E(-1):-1,z=E?new E(a.get([0])/b):a.get([0])/b,q=E?new E(a.get([1])/b):a.get([1])/b,j=E?new E(a.get([2])/b):a.get([2])/b,L=B(n),H=N(A,w(L)),$=I(n);return _convertToFormat([[N(L,_mul([z,z,H])),N(_mul([z,q,H]),_mul([M,j,$])),N(_mul([z,j,H]),_mul([q,$]))],[N(_mul([z,q,H]),_mul([j,$])),N(L,_mul([q,q,H])),N(_mul([q,j,H]),_mul([M,z,$]))],[N(_mul([z,j,H]),_mul([M,q,$])),N(_mul([q,j,H]),_mul([z,$])),N(L,_mul([j,j,H]))]],h)}}),ly="schur",lv=factory_factory(ly,["typed","matrix","identity","multiply","qr","norm","subtract"],n=>{var{typed:a,matrix:h,identity:b,multiply:N,qr:w,norm:_,subtract:D}=n;return a(ly,{Array:function(n){var a=_schur(h(n));return{U:a.U.valueOf(),T:a.T.valueOf()}},Matrix:function(n){return _schur(n)}});function _schur(n){var a,h=n.size()[0],E=n,A=b(h),M=0;do{a=E;var B=w(E),I=B.Q;if(E=N(B.R,I),A=N(A,I),M++>100)break}while(_(D(E,a))>1e-4);return{U:A,T:E}}}),lx="rotate",lb=factory_factory(lx,["typed","multiply","rotationMatrix"],n=>{var{typed:a,multiply:h,rotationMatrix:b}=n;return a(lx,{"Array , number | BigNumber | Complex | Unit":function(n,a){return _validateSize(n,2),h(b(a),n).toArray()},"Matrix , number | BigNumber | Complex | Unit":function(n,a){return _validateSize(n,2),h(b(a),n)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(n,a,N){return _validateSize(n,3),h(b(a,N),n)},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(n,a,N){return _validateSize(n,3),h(b(a,N),n)}});function _validateSize(n,a){var h=Array.isArray(n)?arraySize(n):n.size();if(h.length>2||2===h.length&&1!==h[1]||h[0]!==a)throw RangeError("Vector must be of dimensions 1x".concat(a))}}),lN="sylvester",lw=factory_factory(lN,["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],n=>{var{typed:a,schur:h,matrixFromColumns:b,matrix:N,multiply:w,range:_,concat:D,transpose:E,index:A,subset:M,add:B,subtract:I,identity:z,lusolve:q,abs:j,config:L}=n;return a(lN,{"Matrix, Matrix, Matrix":_sylvester,"Array, Matrix, Matrix":function(n,a,h){return _sylvester(N(n),a,h)},"Array, Array, Matrix":function(n,a,h){return _sylvester(N(n),N(a),h)},"Array, Matrix, Array":function(n,a,h){return _sylvester(N(n),a,N(h))},"Matrix, Array, Matrix":function(n,a,h){return _sylvester(n,N(a),h)},"Matrix, Array, Array":function(n,a,h){return _sylvester(n,N(a),N(h))},"Matrix, Matrix, Array":function(n,a,h){return _sylvester(n,a,N(h))},"Array, Array, Array":function(n,a,h){return _sylvester(N(n),N(a),N(h)).toArray()}});function _sylvester(n,a,L){for(var H=a.size()[0],$=n.size()[0],V=h(n),G=V.T,Z=V.U,W=h(w(-1,a)),Y=W.T,X=W.U,J=w(w(E(Z),L),X),Q=_(0,$),K=[],hc=(n,a)=>D(n,a,1),vc=(n,a)=>D(n,a,0),ee=0;ee<H;ee++)if(ee<H-1&&j(M(Y,A(ee+1,ee)))>1e-5){for(var er=vc(M(J,A(Q,[ee])),M(J,A(Q,[ee+1]))),et=0;et<ee;et++)er=B(er,vc(w(K[et],M(Y,A(et,ee))),w(K[et],M(Y,A(et,ee+1)))));var en=w(z($),w(-1,M(Y,A(ee,ee)))),ei=w(z($),w(-1,M(Y,A(ee+1,ee)))),ea=w(z($),w(-1,M(Y,A(ee,ee+1)))),eo=w(z($),w(-1,M(Y,A(ee+1,ee+1)))),es=q(vc(hc(B(G,en),ei),hc(ea,B(G,eo))),er);K[ee]=es.subset(A(_(0,$),[0])),K[ee+1]=es.subset(A(_($,2*$),[0])),ee++}else{for(var eu=M(J,A(Q,[ee])),ec=0;ec<ee;ec++)eu=B(eu,w(K[ec],M(Y,A(ec,ee))));var el=I(G,w(M(Y,A(ee,ee)),z($)));K[ee]=q(el,eu)}return w(Z,w(N(b(...K)),E(X)))}}),l_="lyap",lD=factory_factory(l_,["typed","matrix","sylvester","multiply","transpose"],n=>{var{typed:a,matrix:h,sylvester:b,multiply:N,transpose:w}=n;return a(l_,{"Matrix, Matrix":function(n,a){return b(n,w(n),N(-1,a))},"Array, Matrix":function(n,a){return b(h(n),w(h(n)),N(-1,a))},"Matrix, Array":function(n,a){return b(n,w(h(n)),h(N(-1,a)))},"Array, Array":function(n,a){return b(h(n),w(h(n)),h(N(-1,a))).toArray()}})}),lE=tH({config:config}),lA=tZ({}),lC=t7({BigNumber:lE,config:config}),lS=t2({}),lM=nS({BigNumber:lE,config:config}),lF=ii({}),lT=no({Complex:lA}),lO=t4({BigNumber:lE,config:config}),lB=nr({BigNumber:lE,config:config}),lI=nn({BigNumber:lE,config:config}),lk=ia({}),lP=t5({BigNumber:lE,config:config}),lz=t3({}),lR=t9({BigNumber:lE,config:config}),lq=io({}),lj=is({}),lU=ni({BigNumber:lE,config:config}),lL=nZ({BigNumber:lE,config:config}),lH=t6({BigNumber:lE,config:config}),l$=t1({}),lV=ns({}),lG=iu({Matrix:lk,config:config}),lZ=nz({BigNumber:lE,config:config}),lW=ne({BigNumber:lE,config:config}),lY=t8({BigNumber:lE,config:config}),lX=ic({}),lJ=na({BigNumber:lE,config:config}),lQ=il({BigNumber:lE,Complex:lA,DenseMatrix:lG,Fraction:lF}),lK=nP({BigNumber:lE,config:config}),l0=id({typed:lQ}),l1=ig({Complex:lA,config:config,typed:lQ}),l2=ix({BigNumber:lE,typed:lQ}),l3=iN({BigNumber:lE,Complex:lA,config:config,typed:lQ}),l4=i_({typed:lQ}),l5=iD({typed:lQ}),l8=iA({BigNumber:lE,Complex:lA,config:config,typed:lQ}),l6=iC({typed:lQ}),l7=iS({typed:lQ}),l9=iF({Complex:lA,config:config,typed:lQ}),fe=iT({typed:lQ}),fr=iB({typed:lQ}),ft=ik({typed:lQ}),fn=iz({typed:lQ}),fi=iq({typed:lQ}),fa=ij({Complex:lA,typed:lQ}),fo=iL({typed:lQ}),fs=i$({typed:lQ}),fu=iV({BigNumber:lE,typed:lQ}),fc=iG({BigNumber:lE,typed:lQ}),fl=iW({typed:lQ}),ff=iJ({config:config,typed:lQ}),fm=iQ({typed:lQ}),fp=i4({typed:lQ}),fd=i8({Complex:lA,typed:lQ}),fh=rt({typed:lQ}),fg=i7({typed:lQ}),fy=ro({typed:lQ}),fv=ar({typed:lQ}),fx=an({typed:lQ}),fb=ai({format:fv,typed:lQ}),fN=aa({typed:lQ}),fw=as({typed:lQ}),f_=ac({config:config,typed:lQ}),fD=af({config:config,typed:lQ}),fE=ap({equalScalar:ff,typed:lQ}),fA=nt({BigNumber:lE,config:config}),fC=av({Complex:lA,typed:lQ}),fS=aN({Complex:lA,config:config,typed:lQ}),fM=a_({Complex:lA,config:config,typed:lQ}),fF=ru({typed:lQ}),fT=aD({typed:lQ}),fO=aE({typed:lQ}),fB=aA({typed:lQ}),fI=aC({format:fv,typed:lQ}),fk=aT({config:config,typed:lQ}),fP=rT({typed:lQ}),fz=aB({config:config,typed:lQ}),fR=aI({typed:lQ}),fq=ak({BigNumber:lE,typed:lQ}),fj=az({BigNumber:lE,Fraction:lF,complex:fa,typed:lQ}),fU=aR({typed:lQ}),fL=aj({typed:lQ}),fH=aU({Matrix:lk,equalScalar:ff,typed:lQ}),f$=aH({typed:lQ}),fV=aV({typed:lQ}),fG=aZ({typed:lQ}),fZ=aY({typed:lQ}),fW=aX({typed:lQ}),fY=aQ({typed:lQ}),fX=a0({typed:lQ}),fJ=a2({Complex:lA,config:config,typed:lQ}),fQ=a4({BigNumber:lE,typed:lQ}),fK=a8({BigNumber:lE,Complex:lA,config:config,typed:lQ}),f0=a6({BigNumber:lE,typed:lQ}),f1=a9({typed:lQ}),f2=or({typed:lQ}),f3=on({BigNumber:lE,typed:lQ}),f4=oi({addScalar:l4,conj:fo,multiplyScalar:fT,size:fL,typed:lQ}),f5=oo({typed:lQ}),f8=ou({typed:lQ}),f6=e9({isInteger:fw,typed:lQ}),f7=ol({DenseMatrix:lG,Matrix:lk,SparseMatrix:fH,typed:lQ}),f9=om({isZero:fE,matrix:f7,typed:lQ}),me=od({addScalar:l4,dot:f4,equalScalar:ff,matrix:f7,multiplyScalar:fT,typed:lQ}),mr=oh({BigNumber:lE,config:config,matrix:f7,typed:lQ}),mt=oy({config:config,log2:fM,typed:lQ}),mn=ox({isInteger:fw,matrix:f7,typed:lQ}),mi=oN({BigNumber:lE,typed:lQ}),ma=o_({typed:lQ}),mo=oE({SparseMatrix:fH,typed:lQ}),ms=oA({Complex:lA,config:config,typed:lQ}),mu=oS({typed:lQ}),mc=oM({typed:lQ}),ml=oT({matrix:f7,typed:lQ}),mf=oB({BigNumber:lE,config:config,matrix:f7,typed:lQ}),mm=oP({BigNumber:lE,config:config,matrix:f7,typed:lQ}),mp=oR({BigNumber:lE,Complex:lA,config:config,typed:lQ}),md=oj({Complex:lA,config:config,typed:lQ}),mh=oU({format:fv,typed:lQ}),mg=rE({isInteger:fw,matrix:f7,typed:lQ}),my=oH({BigNumber:lE,typed:lQ}),mv=oV({conj:fo,transpose:ml,typed:lQ}),mx=oZ({DenseMatrix:lG,SparseMatrix:fH,matrix:f7,typed:lQ}),mb=oX({concat:mg,equalScalar:ff,matrix:f7,multiplyScalar:fT,typed:lQ}),mN=oK({DenseMatrix:lG,SparseMatrix:fH,concat:mg,equalScalar:ff,matrix:f7,typed:lQ}),mw=o1({Fraction:lF,typed:lQ}),m_=o3({BigNumber:lE,DenseMatrix:lG,SparseMatrix:fH,config:config,matrix:f7,typed:lQ}),mD=o5({typed:lQ}),mE=o6({matrix:f7,multiplyScalar:fT,typed:lQ}),mA=o9({DenseMatrix:lG,SparseMatrix:fH,concat:mg,config:config,matrix:f7,typed:lQ}),mC=sa({DenseMatrix:lG,concat:mg,equalScalar:ff,matrix:f7,typed:lQ,zeros:mm}),mS=ss({flatten:fg,matrix:f7,size:fL,typed:lQ}),mM=sc({isNaN:f5,isNumeric:mD,typed:lQ}),mF=sf({BigNumber:lE,concat:mg,equalScalar:ff,matrix:f7,typed:lQ}),mT=sm({bignumber:f0,fraction:mw,number:fB}),mO=sd({config:config,multiplyScalar:fT,numeric:mT,typed:lQ}),mB=sh({config:config,matrix:f7}),mI=sy({DenseMatrix:lG,concat:mg,equalScalar:ff,matrix:f7,typed:lQ,zeros:mm}),mk=sb({BigNumber:lE,DenseMatrix:lG,config:config,equalScalar:ff,matrix:f7,typed:lQ,zeros:mm}),mP=sw({DenseMatrix:lG,SparseMatrix:fH,bignumber:f0,concat:mg,config:config,matrix:f7,typed:lQ}),mz=sD({concat:mg,matrix:f7,typed:lQ}),mR=sA({typed:lQ}),mq=sS({DenseMatrix:lG,SparseMatrix:fH,concat:mg,config:config,equalScalar:ff,matrix:f7,typed:lQ}),mj=sF({DenseMatrix:lG,SparseMatrix:fH,concat:mg,matrix:f7,typed:lQ}),mU=sT({DenseMatrix:lG,SparseMatrix:fH,addScalar:l4,concat:mg,equalScalar:ff,matrix:f7,typed:lQ}),mL=sB({BigNumber:lE,DenseMatrix:lG,concat:mg,equalScalar:ff,matrix:f7,typed:lQ}),mH=rR({concat:mg,equalScalar:ff,matrix:f7,typed:lQ}),m$=r0({DenseMatrix:lG,concat:mg,equalScalar:ff,matrix:f7,typed:lQ}),mV=sk({DenseMatrix:lG,SparseMatrix:fH,concat:mg,matrix:f7,typed:lQ}),mG=sz({BigNumber:lE,Complex:lA,Fraction:lF,config:config,isNegative:f_,matrix:f7,typed:lQ,unaryMinus:mR}),mZ=sq({BigNumber:lE,DenseMatrix:lG,Fraction:lF,concat:mg,config:config,equalScalar:ff,matrix:f7,typed:lQ}),mW=sL({concat:mg,matrix:f7,typed:lQ}),mY=s$({prod:mO,size:fL,typed:lQ}),mX=sG({equal:mN,typed:lQ}),mJ=sW({numeric:mT,typed:lQ}),mQ=sX({compareText:mW,isZero:fE,typed:lQ}),mK=s0({DenseMatrix:lG,config:config,equalScalar:ff,matrix:f7,round:mk,typed:lQ,zeros:mm}),m0=s4({BigNumber:lE,DenseMatrix:lG,concat:mg,config:config,equalScalar:ff,matrix:f7,round:mk,typed:lQ,zeros:mm}),m1=s8({isNumeric:mD,typed:lQ}),m2=s7({abs:l0,addScalar:l4,divideScalar:mJ,isPositive:fD,multiplyScalar:fT,smaller:mP,sqrt:ms,typed:lQ}),m3=s9({DenseMatrix:lG,smaller:mP}),m4=ue({ImmutableDenseMatrix:m3,getMatrixDataType:fx}),m5=ut({DenseMatrix:lG,SparseMatrix:fH,bignumber:f0,concat:mg,config:config,matrix:f7,typed:lQ}),m8=ua({Complex:lA,config:config,divideScalar:mJ,typeOf:fX,typed:lQ}),m6=us({DenseMatrix:lG,divideScalar:mJ,equalScalar:ff,matrix:f7,multiplyScalar:fT,subtractScalar:fZ,typed:lQ}),m7=uc({flatten:fg,matrix:f7,size:fL,typed:lQ}),m9=rj({config:config,isNaN:f5,numeric:mT,smaller:mP,typed:lQ}),pe=s1({DenseMatrix:lG,concat:mg,config:config,equalScalar:ff,matrix:f7,round:mk,typed:lQ,zeros:mm}),pr=uf({Complex:lA,config:config,divideScalar:mJ,typed:lQ}),pt=rH({deepEqual:mX,flatten:fg,matrix:f7,size:fL,typed:lQ}),pn=ry({DenseMatrix:lG,concat:mg,equalScalar:ff,matrix:f7,typed:lQ}),pi=up({compare:mZ,isNaN:f5,isNumeric:mD,typed:lQ}),pa=ud({addScalar:l4,complex:fa,conj:fo,divideScalar:mJ,equal:mN,identity:m_,isZero:fE,matrix:f7,multiplyScalar:fT,sign:fj,sqrt:ms,subtractScalar:fZ,typed:lQ,unaryMinus:mR,zeros:mm}),po=ug({DenseMatrix:lG,concat:mg,equalScalar:ff,matrix:f7,typed:lQ,zeros:mm}),ps=uv({DenseMatrix:lG,SparseMatrix:fH,concat:mg,config:config,matrix:f7,typed:lQ}),pu=rG({add:mU,matrix:f7,typed:lQ,zeros:mm}),pc=uN({DenseMatrix:lG,concat:mg,equalScalar:ff,matrix:f7,subtractScalar:fZ,typed:lQ,unaryMinus:mR}),pl=uw({add:mU,matrix:f7,typed:lQ}),pf=uD({DenseMatrix:lG,divideScalar:mJ,equalScalar:ff,matrix:f7,multiplyScalar:fT,subtractScalar:fZ,typed:lQ}),pm=uA({Complex:lA,add:mU,multiply:me,number:fB,typed:lQ}),pp=uS({addScalar:l4,combinations:fi,divideScalar:mJ,isInteger:fw,isNegative:f_,multiplyScalar:fT,typed:lQ}),pd=uT({compare:mZ,typed:lQ}),ph=uB({addScalar:l4,combinations:fi,isInteger:fw,isNegative:f_,isPositive:fD,larger:m5,typed:lQ}),pg=uk({matrix:f7,multiply:me,subtract:pc,typed:lQ}),py=uP({divideScalar:mJ,isZero:fE,matrix:f7,multiply:me,subtractScalar:fZ,typed:lQ,unaryMinus:mR}),pv=r3({matrix:f7,number:fB,subtract:pc,typed:lQ}),px=uR({abs:l0,addScalar:l4,deepEqual:mX,divideScalar:mJ,multiplyScalar:fT,sqrt:ms,subtractScalar:fZ,typed:lQ}),pb=uj({DenseMatrix:lG,SparseMatrix:fH,concat:mg,divideScalar:mJ,equalScalar:ff,matrix:f7,typed:lQ}),pN=uU({larger:m5,smaller:mP}),pw=uH({Index:m4,typed:lQ}),p_=u$({abs:l0,add:mU,addScalar:l4,config:config,divideScalar:mJ,equalScalar:ff,flatten:fg,isNumeric:mD,isZero:fE,matrix:f7,multiply:me,multiplyScalar:fT,smaller:mP,subtract:pc,typed:lQ}),pD=uG({BigNumber:lE,add:mU,config:config,equal:mN,isInteger:fw,mod:pe,smaller:mP,typed:lQ,xgcd:mf}),pE=uZ({concat:mg,equalScalar:ff,matrix:f7,typed:lQ}),pA=uY({Complex:lA,config:config,divideScalar:mJ,log:m8,typed:lQ}),pC=uJ({DenseMatrix:lG,divideScalar:mJ,equalScalar:ff,matrix:f7,multiplyScalar:fT,subtractScalar:fZ,typed:lQ}),pS=rC({config:config,isNaN:f5,larger:m5,numeric:mT,typed:lQ}),pM=r7({bignumber:f0,matrix:f7,add:mU,config:config,equal:mN,isPositive:fD,isZero:fE,larger:m5,largerEq:mA,smaller:mP,smallerEq:ps,typed:lQ}),pF=te({Index:m4,matrix:f7,range:pM,typed:lQ}),pT=uK({DenseMatrix:lG,Index:m4,compareNatural:pd,size:fL,subset:pu,typed:lQ}),pO=u1({DenseMatrix:lG,Index:m4,compareNatural:pd,size:fL,subset:pu,typed:lQ}),pB=u3({Index:m4,compareNatural:pd,size:fL,subset:pu,typed:lQ}),pI=u5({Index:m4,compareNatural:pd,size:fL,subset:pu,typed:lQ}),pk=cr({SparseMatrix:fH,abs:l0,add:mU,divideScalar:mJ,larger:m5,largerEq:mA,multiply:me,subtract:pc,transpose:ml,typed:lQ}),pP=cn({compare:mZ,compareNatural:pd,matrix:f7,typed:lQ}),pz=ca({config:config,numeric:mT,typed:lQ}),pR=cs({DenseMatrix:lG,divideScalar:mJ,equalScalar:ff,matrix:f7,multiplyScalar:fT,subtractScalar:fZ,typed:lQ}),pq=rw({concat:mg,equalScalar:ff,matrix:f7,not:fO,typed:lQ,zeros:mm}),pj=cf({DenseMatrix:lG,config:config,equalScalar:ff,matrix:f7,round:mk,typed:lQ,zeros:mm}),pU=tn({Index:m4,matrix:f7,range:pM,typed:lQ}),pL=to({add:mU,typed:lQ,unaryPlus:pz}),pH=cp({Complex:lA,DenseMatrix:lG,ceil:pj,equalScalar:ff,floor:mK,matrix:f7,typed:lQ,zeros:mm}),p$=ch({DenseMatrix:lG,Index:m4,compareNatural:pd,size:fL,subset:pu,typed:lQ}),pV=cy({Index:m4,compareNatural:pd,size:fL,subset:pu,typed:lQ}),pG=cx({Index:m4,concat:mg,setDifference:p$,size:fL,subset:pu,typed:lQ}),pZ=cb({FibonacciHeap:pN,addScalar:l4,equalScalar:ff}),pW=rI({add:mU,config:config,numeric:mT,typed:lQ}),pY=cN({abs:l0,addScalar:l4,det:py,divideScalar:mJ,identity:m_,matrix:f7,multiply:me,typed:lQ,unaryMinus:mR}),pX=cw({DenseMatrix:lG,Spa:pZ,SparseMatrix:fH,abs:l0,addScalar:l4,divideScalar:mJ,equalScalar:ff,larger:m5,matrix:f7,multiplyScalar:fT,subtractScalar:fZ,typed:lQ,unaryMinus:mR}),pJ=cD({Complex:lA,add:mU,ctranspose:mv,deepEqual:mX,divideScalar:mJ,dot:f4,dotDivide:pb,equal:mN,inv:pY,matrix:f7,multiply:me,typed:lQ}),pQ=cE({Complex:lA,config:config,fraction:mw,identity:m_,inv:pY,matrix:f7,multiply:me,number:fB,typed:lQ}),pK=cC({DenseMatrix:lG,Index:m4,compareNatural:pd,size:fL,subset:pu,typed:lQ}),p0=cM({Index:m4,concat:mg,setIntersect:pK,setSymDifference:pG,size:fL,subset:pu,typed:lQ}),p1=cT({abs:l0,add:mU,identity:m_,inv:pY,map:fF,max:pS,multiply:me,size:fL,sqrt:ms,subtract:pc,typed:lQ}),p2=cO({BigNumber:lE,Complex:lA,Fraction:lF,abs:l0,addScalar:l4,config:config,divideScalar:mJ,equal:mN,fix:pH,format:fv,isNumeric:mD,multiplyScalar:fT,number:fB,pow:pQ,round:mk,subtractScalar:fZ,toBest:fY}),p3=nd({BigNumber:lE,Unit:p2,config:config}),p4=nX({BigNumber:lE,Unit:p2,config:config}),p5=nR({BigNumber:lE,Unit:p2,config:config}),p8=nv({BigNumber:lE,Unit:p2,config:config}),p6=nj({BigNumber:lE,Unit:p2,config:config}),p7=nx({BigNumber:lE,Unit:p2,config:config}),p9=nh({BigNumber:lE,Unit:p2,config:config}),de=cI({Unit:p2,typed:lQ}),dr=nT({BigNumber:lE,Unit:p2,config:config}),dt=cP({DenseMatrix:lG,SparseMatrix:fH,concat:mg,equalScalar:ff,matrix:f7,pow:pQ,typed:lQ}),dn=np({BigNumber:lE,Unit:p2,config:config}),di=ny({BigNumber:lE,Unit:p2,config:config}),da=cR({abs:l0,add:mU,identity:m_,inv:pY,multiply:me,typed:lQ}),ds=nU({BigNumber:lE,Unit:p2,config:config}),du=cq({addScalar:l4,ceil:pj,conj:fo,divideScalar:mJ,dotDivide:pb,exp:fp,i:lT,log2:fM,matrix:f7,multiplyScalar:fT,pow:pQ,tau:lH,typed:lQ}),dc=cU({BigNumber:lE,Complex:lA,config:config,multiplyScalar:fT,pow:pQ,typed:lQ}),dl=nc({BigNumber:lE,Unit:p2,config:config}),df=nM({BigNumber:lE,Unit:p2,config:config}),dm=cH({conj:fo,dotDivide:pb,fft:du,typed:lQ}),dp=n_({BigNumber:lE,Unit:p2,config:config}),dd=nH({BigNumber:lE,Unit:p2,config:config}),dh=nm({BigNumber:lE,Unit:p2,config:config}),dg=nJ({BigNumber:lE,Unit:p2,config:config}),dy=nV({BigNumber:lE,Unit:p2,config:config}),dv=nO({BigNumber:lE,Unit:p2,config:config}),dx=nw({BigNumber:lE,Unit:p2,config:config}),db=n3({BigNumber:lE,Unit:p2,config:config}),dN=n0({BigNumber:lE,Unit:p2,config:config}),dw=n4({BigNumber:lE,Unit:p2,config:config}),d_=nF({BigNumber:lE,Unit:p2,config:config}),dD=nB({BigNumber:lE,Unit:p2,config:config}),dE=nf({BigNumber:lE,Unit:p2,config:config}),dA=nI({BigNumber:lE,Unit:p2,config:config}),dC=nW({BigNumber:lE,Unit:p2,config:config}),dS=nu({BigNumber:lE,Unit:p2,config:config}),dM=nY({BigNumber:lE,Unit:p2,config:config}),dF=nk({BigNumber:lE,Unit:p2,config:config}),dT=nq({BigNumber:lE,Unit:p2,config:config}),dO=nD({BigNumber:lE,Unit:p2,config:config}),dB=ng({BigNumber:lE,Unit:p2,config:config}),dI=c$({divideScalar:mJ,equalScalar:ff,inv:pY,matrix:f7,multiply:me,typed:lQ}),dk=nA({BigNumber:lE,Unit:p2,config:config}),dP=cG({gamma:dc,typed:lQ}),dz=nL({BigNumber:lE,Unit:p2,config:config}),dR=nK({BigNumber:lE,Unit:p2,config:config}),dq=nb({BigNumber:lE,Unit:p2,config:config}),dj=cW({DenseMatrix:lG,lsolve:m6,lup:pX,matrix:f7,slu:pk,typed:lQ,usolve:pf}),dU=nN({BigNumber:lE,Unit:p2,config:config}),dL=nQ({BigNumber:lE,Unit:p2,config:config}),dH=cX({add:mU,divide:dI,factorial:dP,isInteger:fw,isPositive:fD,multiply:me,typed:lQ}),d$=cQ({factorial:dP,typed:lQ}),dV=n1({BigNumber:lE,Unit:p2,config:config}),dG=c0({add:mU,cbrt:mG,divide:dI,equalScalar:ff,im:fN,isZero:fE,multiply:me,re:fR,sqrt:ms,subtract:pc,typeOf:fX,typed:lQ,unaryMinus:mR}),dZ=c2({compareNatural:pd,typed:lQ}),dW=c3({abs:l0,add:mU,bignumber:f0,divide:dI,isNegative:f_,isPositive:fD,larger:m5,map:fF,matrix:f7,max:pS,multiply:me,smaller:mP,subtract:pc,typed:lQ,unaryMinus:mR}),dY=c5({bignumber:f0,addScalar:l4,combinations:fi,divideScalar:mJ,factorial:dP,isInteger:fw,isNegative:f_,larger:m5,multiplyScalar:fT,number:fB,pow:pQ,subtractScalar:fZ,typed:lQ}),dX=c6({Unit:p2,typed:lQ}),dJ=c9({addScalar:l4,isInteger:fw,isNegative:f_,stirlingS2:dY,typed:lQ}),dQ=le({abs:l0,add:mU,addScalar:l4,atan:l7,bignumber:f0,column:pU,complex:fa,config:config,cos:fs,diag:mx,divideScalar:mJ,dot:f4,equal:mN,flatten:fg,im:fN,inv:pY,larger:m5,matrix:f7,matrixFromColumns:m7,multiply:me,multiplyScalar:fT,number:fB,qr:pa,re:fR,reshape:mn,sin:fU,size:fL,smaller:mP,sqrt:ms,subtract:pc,typed:lQ,usolve:pf,usolveAll:pR}),dK=nC({BigNumber:lE,Unit:p2,config:config}),d0=n$({BigNumber:lE,Unit:p2,config:config}),d1=lt({divide:dI,dotDivide:pb,isNumeric:mD,log:m8,map:fF,matrix:f7,multiply:me,sum:pW,typed:lQ}),d2=tl({add:mU,divide:dI,typed:lQ}),d3=nG({BigNumber:lE,Unit:p2,config:config}),d4=nl({BigNumber:lE,Unit:p2,config:config}),d5=tp({bignumber:f0,add:mU,compare:mZ,divide:dI,isInteger:fw,larger:m5,mapSlices:f6,multiply:me,partitionSelect:pi,smaller:mP,smallerEq:ps,subtract:pc,typed:lQ}),d8=ty({add:mU,divide:dI,isNaN:f5,mapSlices:f6,multiply:me,subtract:pc,typed:lQ}),d6=nE({BigNumber:lE,Unit:p2,config:config}),d7=la({add:mU,compare:mZ,divide:dI,partitionSelect:pi,typed:lQ}),d9=ls({add:mU,divide:dI,matrix:f7,mean:d2,multiply:me,pow:pQ,sqrt:ms,subtract:pc,sum:pW,typed:lQ}),he=lc({Complex:lA,add:mU,divide:dI,matrix:f7,multiply:me,typed:lQ}),hr=ll({abs:l0,map:fF,median:d7,subtract:pc,typed:lQ}),ht=tb({map:fF,sqrt:ms,typed:lQ,variance:d8}),hn=lm({BigNumber:lE,Complex:lA,add:mU,config:config,divide:dI,equal:mN,factorial:dP,gamma:dc,isNegative:f_,multiply:me,pi:lY,pow:pQ,sin:fU,smallerEq:ps,subtract:pc,typed:lQ}),hi=ld({abs:l0,add:mU,conj:fo,ctranspose:mv,eigs:dQ,equalScalar:ff,larger:m5,matrix:f7,multiply:me,pow:pQ,smaller:mP,sqrt:ms,typed:lQ}),ha=lg({BigNumber:lE,DenseMatrix:lG,SparseMatrix:fH,addScalar:l4,config:config,cos:fs,matrix:f7,multiplyScalar:fT,norm:hi,sin:fU,typed:lQ,unaryMinus:mR}),ho=n2({BigNumber:lE,Unit:p2,config:config}),hs=lv({identity:m_,matrix:f7,multiply:me,norm:hi,qr:pa,subtract:pc,typed:lQ}),hu=lb({multiply:me,rotationMatrix:ha,typed:lQ}),hl=lw({abs:l0,add:mU,concat:mg,identity:m_,index:pw,lusolve:dj,matrix:f7,matrixFromColumns:m7,multiply:me,range:pM,schur:hs,subset:pu,subtract:pc,transpose:ml,typed:lQ}),hf=lD({matrix:f7,multiply:me,sylvester:hl,transpose:ml,typed:lQ}),hm={},hp={},hd={},hh=E({mathWithTransform:hp}),hg=Y({Node:hh}),hy=en({Node:hh}),hv=ea({Node:hh}),hx=es({Node:hh}),hb=ec({Node:hh}),hN=ef({Node:hh,ResultSet:lj}),hw=ep({Node:hh}),h_=eh({Node:hh}),hD=ey({Node:hh}),hE=ev({classes:hd}),hA=ex({math:hm,typed:lQ}),hC=eN({Node:hh,typed:lQ}),hS=e_({Chain:hA,typed:lQ}),hM=eE({Node:hh,size:fL}),hF=eC({Node:hh,subset:pu}),hT=eM({matrix:f7,Node:hh,subset:pu}),hO=eF({Unit:p2,Node:hh,math:hm}),hB=eO({Node:hh,SymbolNode:hO,math:hm}),hI=eI({AccessorNode:hF,ArrayNode:hb,AssignmentNode:hT,BlockNode:hN,ConditionalNode:hw,ConstantNode:h_,FunctionAssignmentNode:hC,FunctionNode:hB,IndexNode:hM,ObjectNode:hg,OperatorNode:hy,ParenthesisNode:hv,RangeNode:hD,RelationalNode:hx,SymbolNode:hO,config:config,numeric:mT,typed:lQ}),hk=ek({ConstantNode:h_,FunctionNode:hB,OperatorNode:hy,ParenthesisNode:hv,parse:hI,typed:lQ}),hP=ez({bignumber:f0,fraction:mw,AccessorNode:hF,ArrayNode:hb,ConstantNode:h_,FunctionNode:hB,IndexNode:hM,ObjectNode:hg,OperatorNode:hy,SymbolNode:hO,config:config,mathWithTransform:hp,matrix:f7,typed:lQ}),hz=eq({parse:hI,typed:lQ}),hR=eU({AccessorNode:hF,ArrayNode:hb,ConstantNode:h_,FunctionNode:hB,IndexNode:hM,ObjectNode:hg,OperatorNode:hy,ParenthesisNode:hv,SymbolNode:hO,add:mU,divide:dI,equal:mN,isZero:fE,multiply:me,parse:hI,pow:pQ,subtract:pc,typed:lQ}),hq=eH({parse:hI,typed:lQ}),hj=e$({evaluate:hq}),hU=eV({evaluate:hq,parse:hI}),hL=eG({AccessorNode:hF,ArrayNode:hb,ConstantNode:h_,FunctionNode:hB,IndexNode:hM,ObjectNode:hg,OperatorNode:hy,ParenthesisNode:hv,SymbolNode:hO,equal:mN,parse:hI,replacer:lX,resolve:hk,simplifyConstant:hP,simplifyCore:hR,typed:lQ}),hH=eW({OperatorNode:hy,parse:hI,simplify:hL,typed:lQ}),h$=eX({parse:hI,typed:lQ}),hV=eQ({Parser:hU,typed:lQ}),hG=e0({bignumber:f0,fraction:mw,AccessorNode:hF,ArrayNode:hb,ConstantNode:h_,FunctionNode:hB,IndexNode:hM,ObjectNode:hg,OperatorNode:hy,ParenthesisNode:hv,SymbolNode:hO,add:mU,config:config,divide:dI,equal:mN,isZero:fE,mathWithTransform:hp,matrix:f7,multiply:me,parse:hI,pow:pQ,simplify:hL,simplifyConstant:hP,simplifyCore:hR,subtract:pc,typed:lQ}),hZ=e2({ConstantNode:h_,FunctionNode:hB,OperatorNode:hy,ParenthesisNode:hv,SymbolNode:hO,config:config,equal:mN,isZero:fE,numeric:mT,parse:hI,simplify:hL,typed:lQ}),hW=e6({Help:hj,mathWithTransform:hp,typed:lQ});_extends(hm,{e:lC,false:lS,fineStructure:lM,i:lT,Infinity:lO,LN10:lB,LOG10E:lI,NaN:lP,null:lz,phi:lR,SQRT1_2:lU,sackurTetrode:lL,tau:lH,true:l$,E:lC,version:lV,efimovFactor:lZ,LN2:lW,pi:lY,replacer:lX,reviver:hE,SQRT2:lJ,typed:lQ,PI:lY,weakMixingAngle:lK,abs:l0,acos:l1,acot:l2,acsc:l3,addScalar:l4,arg:l5,asech:l8,asinh:l6,atan:l7,atanh:l9,bigint:fe,bitNot:fr,boolean:ft,clone:fn,combinations:fi,complex:fa,conj:fo,cos:fs,cot:fu,csc:fc,cube:fl,equalScalar:ff,erf:fm,exp:fp,expm1:fd,filter:fh,flatten:fg,forEach:fy,format:fv,getMatrixDataType:fx,hex:fb,im:fN,isInteger:fw,isNegative:f_,isPositive:fD,isZero:fE,LOG2E:fA,lgamma:fC,log10:fS,log2:fM,map:fF,multiplyScalar:fT,not:fO,number:fB,oct:fI,pickRandom:fk,print:fP,random:fz,re:fR,sec:fq,sign:fj,sin:fU,size:fL,splitUnit:f$,square:fV,string:fG,subtractScalar:fZ,tan:fW,toBest:fY,typeOf:fX,acosh:fJ,acsch:fQ,asec:fK,bignumber:f0,chain:hS,combinationsWithRep:f1,cosh:f2,csch:f3,dot:f4,isNaN:f5,isPrime:f8,mapSlices:f6,matrix:f7,matrixFromFunction:f9,multiply:me,ones:mr,randomInt:mt,reshape:mn,sech:mi,sinh:ma,sparse:mo,sqrt:ms,squeeze:mu,tanh:mc,transpose:ml,xgcd:mf,zeros:mm,acoth:mp,asin:md,bin:mh,concat:mg,coth:my,ctranspose:mv,diag:mx,dotMultiply:mb,equal:mN,fraction:mw,identity:m_,isNumeric:mD,kron:mE,largerEq:mA,leftShift:mC,matrixFromRows:mS,mode:mM,nthRoot:mF,numeric:mT,prod:mO,resize:mB,rightArithShift:mI,round:mk,smaller:mP,to:mz,unaryMinus:mR,unequal:mq,xor:mj,add:mU,atan2:mL,bitAnd:mH,bitOr:m$,bitXor:mV,cbrt:mG,compare:mZ,compareText:mW,count:mY,deepEqual:mX,divideScalar:mJ,equalText:mQ,floor:mK,gcd:m0,hasNumericValue:m1,hypot:m2,larger:m5,log:m8,lsolve:m6,matrixFromColumns:m7,min:m9,mod:pe,nthRoots:pr,nullish:pt,or:pn,partitionSelect:pi,qr:pa,rightLogShift:po,smallerEq:ps,subset:pu,subtract:pc,trace:pl,usolve:pf,zpk2tf:pm,catalan:pp,compareNatural:pd,composition:ph,cross:pg,det:py,diff:pv,distance:px,dotDivide:pb,index:pw,intersect:p_,invmod:pD,lcm:pE,log1p:pA,lsolveAll:pC,max:pS,range:pM,row:pF,setCartesian:pT,setDistinct:pO,setIsSubset:pB,setPowerset:pI,slu:pk,sort:pP,unaryPlus:pz,usolveAll:pR,and:pq,ceil:pj,column:pU,cumsum:pL,fix:pH,setDifference:p$,setMultiplicity:pV,setSymDifference:pG,sum:pW,inv:pY,lup:pX,pinv:pJ,pow:pQ,setIntersect:pK,setUnion:p0,sqrtm:p1,vacuumImpedance:p3,wienDisplacement:p4,atomicMass:p5,bohrMagneton:p8,boltzmann:p6,conductanceQuantum:p7,coulomb:p9,createUnit:de,deuteronMass:dr,dotPow:dt,electricConstant:dn,elementaryCharge:di,expm:da,faraday:ds,fft:du,gamma:dc,gravitationConstant:dl,hartreeEnergy:df,ifft:dm,klitzing:dp,loschmidt:dd,magneticConstant:dh,molarMass:dg,molarPlanckConstant:dy,neutronMass:dv,nuclearMagneton:dx,planckCharge:db,planckLength:dN,planckTemperature:dw,protonMass:d_,quantumOfCirculation:dD,reducedPlanckConstant:dE,rydberg:dA,secondRadiation:dC,speedOfLight:dS,stefanBoltzmann:dM,thomsonCrossSection:dF,avogadro:dT,bohrRadius:dO,coulombConstant:dB,divide:dI,electronMass:dk,factorial:dP,firstRadiation:dz,gravity:dR,inverseConductanceQuantum:dq,lusolve:dj,magneticFluxQuantum:dU,molarMassC12:dL,multinomial:dH,parse:hI,permutations:d$,planckMass:dV,polynomialRoot:dG,resolve:hk,setSize:dZ,simplifyConstant:hP,solveODE:dW,stirlingS2:dY,unit:dX,bellNumbers:dJ,compile:hz,eigs:dQ,fermiCoupling:dK,gasConstant:d0,kldivergence:d1,mean:d2,molarVolume:d3,planckConstant:d4,quantileSeq:d5,simplifyCore:hR,variance:d8,classicalElectronRadius:d6,evaluate:hq,median:d7,simplify:hL,symbolicEqual:hH,corr:d9,freqz:he,leafCount:h$,mad:hr,parser:hV,rationalize:hG,std:ht,zeta:hn,derivative:hZ,norm:hi,rotationMatrix:ha,help:hW,planckTime:ho,schur:hs,rotate:hu,sylvester:hl,lyap:hf,config:config}),_extends(hp,hm,{mapSlices:re({isInteger:fw,typed:lQ}),filter:ri({typed:lQ}),forEach:rs({typed:lQ}),map:rc({typed:lQ}),or:rv({DenseMatrix:lG,concat:mg,equalScalar:ff,matrix:f7,typed:lQ}),and:r_({add:mU,concat:mg,equalScalar:ff,matrix:f7,not:fO,typed:lQ,zeros:mm}),concat:rA({isInteger:fw,matrix:f7,typed:lQ}),max:rS({config:config,isNaN:f5,larger:m5,numeric:mT,typed:lQ}),print:rB({add:mU,matrix:f7,typed:lQ,zeros:mm}),sum:rk({add:mU,config:config,numeric:mT,typed:lQ}),bitAnd:rq({add:mU,concat:mg,equalScalar:ff,matrix:f7,not:fO,typed:lQ,zeros:mm}),min:rU({config:config,isNaN:f5,numeric:mT,smaller:mP,typed:lQ}),nullish:r$({deepEqual:mX,flatten:fg,matrix:f7,size:fL,typed:lQ}),subset:rY({add:mU,matrix:f7,typed:lQ,zeros:mm}),bitOr:r1({DenseMatrix:lG,concat:mg,equalScalar:ff,matrix:f7,typed:lQ}),diff:r5({bignumber:f0,matrix:f7,number:fB,subtract:pc,typed:lQ}),index:r8({Index:m4,getMatrixDataType:fx}),range:r9({bignumber:f0,matrix:f7,add:mU,config:config,equal:mN,isPositive:fD,isZero:fE,larger:m5,largerEq:mA,smaller:mP,smallerEq:ps,typed:lQ}),row:tr({Index:m4,matrix:f7,range:pM,typed:lQ}),column:ti({Index:m4,matrix:f7,range:pM,typed:lQ}),cumsum:tu({add:mU,typed:lQ,unaryPlus:pz}),mean:tf({add:mU,divide:dI,typed:lQ}),quantileSeq:td({add:mU,bignumber:f0,compare:mZ,divide:dI,isInteger:fw,larger:m5,mapSlices:f6,multiply:me,partitionSelect:pi,smaller:mP,smallerEq:ps,subtract:pc,typed:lQ}),variance:tx({add:mU,divide:dI,isNaN:f5,mapSlices:f6,multiply:me,subtract:pc,typed:lQ}),std:tN({map:fF,sqrt:ms,typed:lQ,variance:d8})}),_extends(hd,{BigNumber:lE,Complex:lA,Fraction:lF,Matrix:lk,Node:hh,ObjectNode:hg,OperatorNode:hy,ParenthesisNode:hv,Range:lq,RelationalNode:hx,ResultSet:lj,ArrayNode:hb,BlockNode:hN,ConditionalNode:hw,ConstantNode:h_,DenseMatrix:lG,RangeNode:hD,Chain:hA,FunctionAssignmentNode:hC,SparseMatrix:fH,IndexNode:hM,ImmutableDenseMatrix:m3,Index:m4,AccessorNode:hF,AssignmentNode:hT,FibonacciHeap:pN,Spa:pZ,Unit:p2,SymbolNode:hO,FunctionNode:hB,Help:hj,Parser:hU}),hA.createProxy(hm)},4879:function(n,a,h){"use strict";let b,N;h.d(a,{V:function(){return e$}});var w,_,D,E,A,M,B,I,z,q,j,L,H,$,V=h(7294),G=h.t(V,2),Z=h(9650),W=h(490),Y=h(8609);function use_event_listener_E(n,a,h,b){let N=(0,Y.E)(h);(0,V.useEffect)(()=>{function r(n){N.current(n)}return(n=null!=n?n:window).addEventListener(a,r,b),()=>n.removeEventListener(a,r,b)},[n,a,b])}var X=h(5546),J=h(2893);function c(n){let a=(0,W.z)(n),h=(0,V.useRef)(!1);(0,V.useEffect)(()=>(h.current=!1,()=>{h.current=!0,(0,J.Y)(()=>{h.current&&a()})}),[a])}var Q=h(495);function o(n){return Q.O.isServer?null:n instanceof Node?n.ownerDocument:null!=n&&n.hasOwnProperty("current")&&n.current instanceof Node?n.current.ownerDocument:document}function use_owner_n(){for(var n=arguments.length,a=Array(n),h=0;h<n;h++)a[h]=arguments[h];return(0,V.useMemo)(()=>o(...a),[...a])}var K=h(9392),ee=h(6361);function use_window_event_s(n,a,h){let b=(0,Y.E)(a);(0,V.useEffect)(()=>{function t(n){b.current(n)}return window.addEventListener(n,t,h),()=>window.removeEventListener(n,t,h)},[n,h])}var er=((w=er||{})[w.Forwards=0]="Forwards",w[w.Backwards=1]="Backwards",w);function use_watch_m(n,a){let h=(0,V.useRef)([]),b=(0,W.z)(n);(0,V.useEffect)(()=>{let n=[...h.current];for(let[N,w]of a.entries())if(h.current[N]!==w){let N=b(a,n);return h.current=a,N}},[b,...a])}var et=h(5023),en=((_=en||{})[_.None=1]="None",_[_.Focusable=2]="Focusable",_[_.Hidden=4]="Hidden",_);let ei=(0,et.yV)(function(n,a){var h;let{features:b=1,...N}=n,w={ref:a,"aria-hidden":(2&b)==2||(null!=(h=N["aria-hidden"])?h:void 0),hidden:(4&b)==4||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(4&b)==4&&(2&b)!=2&&{display:"none"}}};return(0,et.sY)({ourProps:w,theirProps:N,slot:{},defaultTag:"div",name:"Hidden"})}),ea=[];!function(n){function e(){"loading"!==document.readyState&&(n(),document.removeEventListener("DOMContentLoaded",e))}"undefined"!=typeof document&&(document.addEventListener("DOMContentLoaded",e),e())}(()=>{function e(n){n.target instanceof HTMLElement&&n.target!==document.body&&ea[0]!==n.target&&(ea.unshift(n.target),(ea=ea.filter(n=>null!=n&&n.isConnected)).splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});var eo=h(3424);let es=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(n=>"".concat(n,":not([tabindex='-1'])")).join(",");var eu=((D=eu||{})[D.First=1]="First",D[D.Previous=2]="Previous",D[D.Next=4]="Next",D[D.Last=8]="Last",D[D.WrapAround=16]="WrapAround",D[D.NoScroll=32]="NoScroll",D),ec=((E=ec||{})[E.Error=0]="Error",E[E.Overflow=1]="Overflow",E[E.Success=2]="Success",E[E.Underflow=3]="Underflow",E),el=((A=el||{})[A.Previous=-1]="Previous",A[A.Next=1]="Next",A),ef=((M=ef||{})[M.Strict=0]="Strict",M[M.Loose=1]="Loose",M),em=((B=em||{})[B.Keyboard=0]="Keyboard",B[B.Mouse=1]="Mouse",B);function focus_management_y(n){null==n||n.focus({preventScroll:!0})}function O(n,a){var h,b,N;let{sorted:w=!0,relativeTo:_=null,skipElements:D=[]}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},E=Array.isArray(n)?n.length>0?n[0].ownerDocument:document:n.ownerDocument,A=Array.isArray(n)?w?function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n=>n;return n.slice().sort((n,h)=>{let b=a(n),N=a(h);if(null===b||null===N)return 0;let w=b.compareDocumentPosition(N);return w&Node.DOCUMENT_POSITION_FOLLOWING?-1:w&Node.DOCUMENT_POSITION_PRECEDING?1:0})}(n):n:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return null==n?[]:Array.from(n.querySelectorAll(es)).sort((n,a)=>Math.sign((n.tabIndex||Number.MAX_SAFE_INTEGER)-(a.tabIndex||Number.MAX_SAFE_INTEGER)))}(n);D.length>0&&A.length>1&&(A=A.filter(n=>!D.includes(n))),_=null!=_?_:E.activeElement;let M=(()=>{if(5&a)return 1;if(10&a)return -1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),B=(()=>{if(1&a)return 0;if(2&a)return Math.max(0,A.indexOf(_))-1;if(4&a)return Math.max(0,A.indexOf(_))+1;if(8&a)return A.length-1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),I=32&a?{preventScroll:!0}:{},z=0,q=A.length,j;do{if(z>=q||z+q<=0)return 0;let n=B+z;if(16&a)n=(n+q)%q;else{if(n<0)return 3;if(n>=q)return 1}null==(j=A[n])||j.focus(I),z+=M}while(j!==E.activeElement);return 6&a&&null!=(N=null==(b=null==(h=j)?void 0:h.matches)?void 0:b.call(h,"textarea,input"))&&N&&j.select(),2}function P(n){if(!n)return new Set;if("function"==typeof n)return new Set(n());let a=new Set;for(let h of n.current)h.current instanceof HTMLElement&&a.add(h.current);return a}"undefined"!=typeof document&&(document.addEventListener("keydown",n=>{n.metaKey||n.altKey||n.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",n=>{1===n.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===n.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));var ep=((I=ep||{})[I.None=1]="None",I[I.InitialFocus=2]="InitialFocus",I[I.TabLock=4]="TabLock",I[I.FocusLock=8]="FocusLock",I[I.RestoreFocus=16]="RestoreFocus",I[I.All=30]="All",I);let ed=Object.assign((0,et.yV)(function(n,a){let h,b=(0,V.useRef)(null),N=(0,ee.T)(b,a),{initialFocus:w,containers:_,features:D=30,...E}=n;(0,K.H)()||(D=1);let A=use_owner_n(b);!function(n,a){let{ownerDocument:h}=n,b=function(){let n=!(arguments.length>0)||void 0===arguments[0]||arguments[0],a=(0,V.useRef)(ea.slice());return use_watch_m((n,h)=>{let[b]=n,[N]=h;!0===N&&!1===b&&(0,J.Y)(()=>{a.current.splice(0)}),!1===N&&!0===b&&(a.current=ea.slice())},[n,ea,a]),(0,W.z)(()=>{var n;return null!=(n=a.current.find(n=>null!=n&&n.isConnected))?n:null})}(a);use_watch_m(()=>{a||(null==h?void 0:h.activeElement)===(null==h?void 0:h.body)&&focus_management_y(b())},[a]),c(()=>{a&&focus_management_y(b())})}({ownerDocument:A},!!(16&D));let M=function(n,a){let{ownerDocument:h,container:b,initialFocus:N}=n,w=(0,V.useRef)(null),_=(0,X.t)();return use_watch_m(()=>{if(!a)return;let n=b.current;n&&(0,J.Y)(()=>{if(!_.current)return;let a=null==h?void 0:h.activeElement;if(null!=N&&N.current){if((null==N?void 0:N.current)===a){w.current=a;return}}else if(n.contains(a)){w.current=a;return}null!=N&&N.current?focus_management_y(N.current):O(n,eu.First)===ec.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),w.current=null==h?void 0:h.activeElement})},[a]),w}({ownerDocument:A,container:b,initialFocus:w},!!(2&D));!function(n,a){let{ownerDocument:h,container:b,containers:N,previousActiveElement:w}=n,_=(0,X.t)();use_event_listener_E(null==h?void 0:h.defaultView,"focus",n=>{if(!a||!_.current)return;let h=P(N);b.current instanceof HTMLElement&&h.add(b.current);let D=w.current;if(!D)return;let E=n.target;E&&E instanceof HTMLElement?focus_trap_S(h,E)?(w.current=E,focus_management_y(E)):(n.preventDefault(),n.stopPropagation(),focus_management_y(D)):focus_management_y(w.current)},!0)}({ownerDocument:A,container:b,containers:_,previousActiveElement:M},!!(8&D));let B=(h=(0,V.useRef)(0),use_window_event_s("keydown",n=>{"Tab"===n.key&&(h.current=n.shiftKey?1:0)},!0),h),I=(0,W.z)(n=>{let a=b.current;a&&(0,eo.E)(B.current,{[er.Forwards]:()=>{O(a,eu.First,{skipElements:[n.relatedTarget]})},[er.Backwards]:()=>{O(a,eu.Last,{skipElements:[n.relatedTarget]})}})}),z=(0,Z.G)(),q=(0,V.useRef)(!1);return V.createElement(V.Fragment,null,!!(4&D)&&V.createElement(ei,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:I,features:en.Focusable}),(0,et.sY)({ourProps:{ref:N,onKeyDown(n){"Tab"==n.key&&(q.current=!0,z.requestAnimationFrame(()=>{q.current=!1}))},onBlur(n){let a=P(_);b.current instanceof HTMLElement&&a.add(b.current);let h=n.relatedTarget;h instanceof HTMLElement&&"true"!==h.dataset.headlessuiFocusGuard&&(focus_trap_S(a,h)||(q.current?O(b.current,(0,eo.E)(B.current,{[er.Forwards]:()=>eu.Next,[er.Backwards]:()=>eu.Previous})|eu.WrapAround,{relativeTo:n.target}):n.target instanceof HTMLElement&&focus_management_y(n.target)))}},theirProps:E,defaultTag:"div",name:"FocusTrap"}),!!(4&D)&&V.createElement(ei,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:I,features:en.Focusable}))}),{features:ep});function focus_trap_S(n,a){for(let h of n)if(h.contains(a))return!0;return!1}var eh=h(3935),eg=h(2749);let ey=(0,V.createContext)(!1);function portal_force_root_l(n){return V.createElement(ey.Provider,{value:n.force},n.children)}let ev=V.Fragment,ex=V.Fragment,eb=(0,V.createContext)(null),eN=(0,V.createContext)(null),ew=Object.assign((0,et.yV)(function(n,a){let h=(0,V.useRef)(null),b=(0,ee.T)((0,ee.h)(n=>{h.current=n}),a),N=use_owner_n(h),w=function(n){let a=(0,V.useContext)(ey),h=(0,V.useContext)(eb),b=use_owner_n(n),[N,w]=(0,V.useState)(()=>{if(!a&&null!==h||Q.O.isServer)return null;let n=null==b?void 0:b.getElementById("headlessui-portal-root");if(n)return n;if(null===b)return null;let N=b.createElement("div");return N.setAttribute("id","headlessui-portal-root"),b.body.appendChild(N)});return(0,V.useEffect)(()=>{null!==N&&(null!=b&&b.body.contains(N)||null==b||b.body.appendChild(N))},[N,b]),(0,V.useEffect)(()=>{a||null!==h&&w(h.current)},[h,w,a]),N}(h),[_]=(0,V.useState)(()=>{var n;return Q.O.isServer?null:null!=(n=null==N?void 0:N.createElement("div"))?n:null}),D=(0,V.useContext)(eN),E=(0,K.H)();return(0,eg.e)(()=>{!w||!_||w.contains(_)||(_.setAttribute("data-headlessui-portal",""),w.appendChild(_))},[w,_]),(0,eg.e)(()=>{if(_&&D)return D.register(_)},[D,_]),c(()=>{var n;w&&_&&(_ instanceof Node&&w.contains(_)&&w.removeChild(_),w.childNodes.length<=0&&(null==(n=w.parentElement)||n.removeChild(w)))}),E&&w&&_?(0,eh.createPortal)((0,et.sY)({ourProps:{ref:b},theirProps:n,defaultTag:ev,name:"Portal"}),_):null}),{Group:(0,et.yV)(function(n,a){let{target:h,...b}=n,N={ref:(0,ee.T)(a)};return V.createElement(eb.Provider,{value:h},(0,et.sY)({ourProps:N,theirProps:b,defaultTag:ex,name:"Popover.Group"}))})}),{useState:e_,useEffect:eD,useLayoutEffect:eE,useDebugValue:eA}=G;void 0!==window.document&&window.document.createElement;let eC=G.useSyncExternalStore;var eS=h(7807);function platform_t(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}let eM=(z={PUSH(n,a){var h;let b=null!=(h=this.get(n))?h:{doc:n,count:0,d:(0,eS.k)(),meta:new Set};return b.count++,b.meta.add(a),this.set(n,b),this},POP(n,a){let h=this.get(n);return h&&(h.count--,h.meta.delete(a)),this},SCROLL_PREVENT(n){let a,{doc:h,d:b,meta:N}=n,w={doc:h,d:b,meta:function(n){let a={};for(let h of n)Object.assign(a,h(a));return a}(N)},_=[platform_t()?{before(n){let{doc:a,d:h,meta:b}=n;function o(n){return b.containers.flatMap(n=>n()).some(a=>a.contains(n))}h.microTask(()=>{var n;if("auto"!==window.getComputedStyle(a.documentElement).scrollBehavior){let n=(0,eS.k)();n.style(a.documentElement,"scrollBehavior","auto"),h.add(()=>h.microTask(()=>n.dispose()))}let b=null!=(n=window.scrollY)?n:window.pageYOffset,N=null;h.addEventListener(a,"click",n=>{if(n.target instanceof HTMLElement)try{let h=n.target.closest("a");if(!h)return;let{hash:b}=new URL(h.href),w=a.querySelector(b);w&&!o(w)&&(N=w)}catch(n){}},!0),h.addEventListener(a,"touchstart",n=>{if(n.target instanceof HTMLElement){if(o(n.target)){let a=n.target;for(;a.parentElement&&o(a.parentElement);)a=a.parentElement;h.style(a,"overscrollBehavior","contain")}else h.style(n.target,"touchAction","none")}}),h.addEventListener(a,"touchmove",n=>{if(n.target instanceof HTMLElement){if(o(n.target)){let a=n.target;for(;a.parentElement&&""!==a.dataset.headlessuiPortal&&!(a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth);)a=a.parentElement;""===a.dataset.headlessuiPortal&&n.preventDefault()}else n.preventDefault()}},{passive:!1}),h.add(()=>{var n;b!==(null!=(n=window.scrollY)?n:window.pageYOffset)&&window.scrollTo(0,b),N&&N.isConnected&&(N.scrollIntoView({block:"nearest"}),N=null)})})}}:{},{before(n){var h;let{doc:b}=n,N=b.documentElement;a=(null!=(h=b.defaultView)?h:window).innerWidth-N.clientWidth},after(n){let{doc:h,d:b}=n,N=h.documentElement,w=N.clientWidth-N.offsetWidth,_=a-w;b.style(N,"paddingRight","".concat(_,"px"))}},{before(n){let{doc:a,d:h}=n;h.style(a.documentElement,"overflow","hidden")}}];_.forEach(n=>{let{before:a}=n;return null==a?void 0:a(w)}),_.forEach(n=>{let{after:a}=n;return null==a?void 0:a(w)})},SCROLL_ALLOW(n){let{d:a}=n;a.dispose()},TEARDOWN(n){let{doc:a}=n;this.delete(a)}},b=new Map,N=new Set,{getSnapshot:()=>b,subscribe:n=>(N.add(n),()=>N.delete(n)),dispatch(n){for(var a=arguments.length,h=Array(a>1?a-1:0),w=1;w<a;w++)h[w-1]=arguments[w];let _=z[n].call(b,...h);_&&(b=_,N.forEach(n=>n()))}});eM.subscribe(()=>{let n=eM.getSnapshot(),a=new Map;for(let[h]of n)a.set(h,h.documentElement.style.overflow);for(let h of n.values()){let n="hidden"===a.get(h.doc),b=0!==h.count;(b&&!n||!b&&n)&&eM.dispatch(h.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",h),0===h.count&&eM.dispatch("TEARDOWN",h)}});let eF=null!=($=V.useId)?$:function(){let n=(0,K.H)(),[a,h]=V.useState(n?()=>Q.O.nextId():null);return(0,eg.e)(()=>{null===a&&h(Q.O.nextId())},[a]),null!=a?""+a:void 0},eT=new Map,eO=new Map;function use_inert_b(n){let a=!(arguments.length>1)||void 0===arguments[1]||arguments[1];(0,eg.e)(()=>{var h;if(!a)return;let b="function"==typeof n?n():n.current;if(!b)return;let N=null!=(h=eO.get(b))?h:0;return eO.set(b,N+1),0!==N||(eT.set(b,{"aria-hidden":b.getAttribute("aria-hidden"),inert:b.inert}),b.setAttribute("aria-hidden","true"),b.inert=!0),function(){var n;if(!b)return;let a=null!=(n=eO.get(b))?n:1;if(1===a?eO.delete(b):eO.set(b,a-1),1!==a)return;let h=eT.get(b);h&&(null===h["aria-hidden"]?b.removeAttribute("aria-hidden"):b.setAttribute("aria-hidden",h["aria-hidden"]),b.inert=h.inert,eT.delete(b))}},[n,a])}function use_document_event_d(n,a,h){let b=(0,Y.E)(a);(0,V.useEffect)(()=>{function t(n){b.current(n)}return document.addEventListener(n,t,h),()=>document.removeEventListener(n,t,h)},[n,h])}var eB=h(6848);let eI=(0,V.createContext)(()=>{});eI.displayName="StackContext";var ek=((q=ek||{})[q.Add=0]="Add",q[q.Remove=1]="Remove",q);function stack_context_b(n){let{children:a,onUpdate:h,type:b,element:N,enabled:w}=n,_=(0,V.useContext)(eI),D=(0,W.z)(function(){for(var n=arguments.length,a=Array(n),b=0;b<n;b++)a[b]=arguments[b];null==h||h(...a),_(...a)});return(0,eg.e)(()=>{let n=void 0===w||!0===w;return n&&D(0,b,N),()=>{n&&D(1,b,N)}},[D,b,N,w]),V.createElement(eI.Provider,{value:D},a)}let eP=(0,V.createContext)(null),ez=Object.assign((0,et.yV)(function(n,a){let h=eF(),{id:b="headlessui-description-".concat(h),...N}=n,w=function description_f(){let n=(0,V.useContext)(eP);if(null===n){let n=Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,description_f),n}return n}(),_=(0,ee.T)(a);(0,eg.e)(()=>w.register(b),[b,w.register]);let D={ref:_,...w.props,id:b};return(0,et.sY)({ourProps:D,theirProps:N,slot:w.slot||{},defaultTag:"p",name:w.name||"Description"})}),{});var eR=((j=eR||{}).Space=" ",j.Enter="Enter",j.Escape="Escape",j.Backspace="Backspace",j.Delete="Delete",j.ArrowLeft="ArrowLeft",j.ArrowUp="ArrowUp",j.ArrowRight="ArrowRight",j.ArrowDown="ArrowDown",j.Home="Home",j.End="End",j.PageUp="PageUp",j.PageDown="PageDown",j.Tab="Tab",j),eq=((L=eq||{})[L.Open=0]="Open",L[L.Closed=1]="Closed",L),ej=((H=ej||{})[H.SetTitleId=0]="SetTitleId",H);let eU={0:(n,a)=>n.titleId===a.id?n:{...n,titleId:a.id}},eL=(0,V.createContext)(null);function dialog_b(n){let a=(0,V.useContext)(eL);if(null===a){let a=Error("<".concat(n," /> is missing a parent <Dialog /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(a,dialog_b),a}return a}function Ge(n,a){return(0,eo.E)(a.type,eU,n,a)}eL.displayName="DialogContext";let eH=et.AN.RenderStrategy|et.AN.Static,e$=Object.assign((0,et.yV)(function(n,a){let h,b,N,w,_,D=eF(),{id:E="headlessui-dialog-".concat(D),open:A,onClose:M,initialFocus:B,role:I="dialog",__demoMode:z=!1,...q}=n,[j,L]=(0,V.useState)(0),H=(0,V.useRef)(!1);I="dialog"===I||"alertdialog"===I?I:(H.current||(H.current=!0,console.warn("Invalid role [".concat(I,"] passed to <Dialog />. Only `dialog` and and `alertdialog` are supported. Using `dialog` instead."))),"dialog");let $=(0,eB.oJ)();void 0===A&&null!==$&&(A=($&eB.ZM.Open)===eB.ZM.Open);let G=(0,V.useRef)(null),Z=(0,ee.T)(G,a),Y=use_owner_n(G),X=n.hasOwnProperty("open")||null!==$,J=n.hasOwnProperty("onClose");if(!X&&!J)throw Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!X)throw Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!J)throw Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof A)throw Error("You provided an `open` prop to the `Dialog`, but the value is not a boolean. Received: ".concat(A));if("function"!=typeof M)throw Error("You provided an `onClose` prop to the `Dialog`, but the value is not a function. Received: ".concat(M));let Q=A?0:1,[er,ea]=(0,V.useReducer)(Ge,{titleId:null,descriptionId:null,panelRef:(0,V.createRef)()}),eu=(0,W.z)(()=>M(!1)),ec=(0,W.z)(n=>ea({type:0,id:n})),el=!!(0,K.H)()&&!z&&0===Q,em=j>1,ep=null!==(0,V.useContext)(eL),[eh,ey]=(h=(0,V.useContext)(eN),b=(0,V.useRef)([]),N=(0,W.z)(n=>(b.current.push(n),h&&h.register(n),()=>w(n))),w=(0,W.z)(n=>{let a=b.current.indexOf(n);-1!==a&&b.current.splice(a,1),h&&h.unregister(n)}),_=(0,V.useMemo)(()=>({register:N,unregister:w,portals:b}),[N,w,b]),[b,(0,V.useMemo)(()=>function(n){let{children:a}=n;return V.createElement(eN.Provider,{value:_},a)},[_])]),{resolveContainers:ev,mainTreeNodeRef:ex,MainTreeNode:eb}=function(){var n;let{defaultContainers:a=[],portals:h,mainTreeNodeRef:b}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},N=(0,V.useRef)(null!=(n=null==b?void 0:b.current)?n:null),w=use_owner_n(N),_=(0,W.z)(()=>{var n,b,_;let D=[];for(let n of a)null!==n&&(n instanceof HTMLElement?D.push(n):"current"in n&&n.current instanceof HTMLElement&&D.push(n.current));if(null!=h&&h.current)for(let n of h.current)D.push(n);for(let a of null!=(n=null==w?void 0:w.querySelectorAll("html > *, body > *"))?n:[])a!==document.body&&a!==document.head&&a instanceof HTMLElement&&"headlessui-portal-root"!==a.id&&(a.contains(N.current)||a.contains(null==(_=null==(b=N.current)?void 0:b.getRootNode())?void 0:_.host)||D.some(n=>a.contains(n))||D.push(a));return D});return{resolveContainers:_,contains:(0,W.z)(n=>_().some(a=>a.contains(n))),mainTreeNodeRef:N,MainTreeNode:(0,V.useMemo)(()=>function(){return null!=b?null:V.createElement(ei,{features:en.Hidden,ref:N})},[N,b])}}({portals:eh,defaultContainers:[{get current(){var e_;return null!=(e_=er.panelRef.current)?e_:G.current}}]}),eD=em?"parent":"leaf",eE=null!==$&&($&eB.ZM.Closing)===eB.ZM.Closing,eA=!ep&&!eE&&el;use_inert_b((0,V.useCallback)(()=>{var n,a;return null!=(a=Array.from(null!=(n=null==Y?void 0:Y.querySelectorAll("body > *"))?n:[]).find(n=>"headlessui-portal-root"!==n.id&&n.contains(ex.current)&&n instanceof HTMLElement))?a:null},[ex]),eA);let eS=!!em||el;use_inert_b((0,V.useCallback)(()=>{var n,a;return null!=(a=Array.from(null!=(n=null==Y?void 0:Y.querySelectorAll("[data-headlessui-portal]"))?n:[]).find(n=>n.contains(ex.current)&&n instanceof HTMLElement))?a:null},[ex]),eS),function(n,a){let h=!(arguments.length>2)||void 0===arguments[2]||arguments[2],b=(0,V.useRef)(!1);function c(h,N){if(!b.current||h.defaultPrevented)return;let w=N(h);if(null!==w&&w.getRootNode().contains(w)&&w.isConnected){for(let a of function u(n){return"function"==typeof n?u(n()):Array.isArray(n)||n instanceof Set?n:[n]}(n)){if(null===a)continue;let n=a instanceof HTMLElement?a:a.current;if(null!=n&&n.contains(w)||h.composed&&h.composedPath().includes(n))return}return!function(n){var a;let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n!==(null==(a=o(n))?void 0:a.body)&&(0,eo.E)(h,{0:()=>n.matches(es),1(){let a=n;for(;null!==a;){if(a.matches(es))return!0;a=a.parentElement}return!1}})}(w,ef.Loose)&&-1!==w.tabIndex&&h.preventDefault(),a(h,w)}}(0,V.useEffect)(()=>{requestAnimationFrame(()=>{b.current=h})},[h]);let N=(0,V.useRef)(null);use_document_event_d("pointerdown",n=>{var a,h;b.current&&(N.current=(null==(h=null==(a=n.composedPath)?void 0:a.call(n))?void 0:h[0])||n.target)},!0),use_document_event_d("mousedown",n=>{var a,h;b.current&&(N.current=(null==(h=null==(a=n.composedPath)?void 0:a.call(n))?void 0:h[0])||n.target)},!0),use_document_event_d("click",n=>{platform_t()||/Android/gi.test(window.navigator.userAgent)||N.current&&(c(n,()=>N.current),N.current=null)},!0),use_document_event_d("touchend",n=>c(n,()=>n.target instanceof HTMLElement?n.target:null),!0),use_window_event_s("blur",n=>c(n,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}(ev,n=>{n.preventDefault(),eu()},!(!el||em));let eT=!(em||0!==Q);use_event_listener_E(null==Y?void 0:Y.defaultView,"keydown",n=>{eT&&(n.defaultPrevented||n.key===eR.Escape&&(n.preventDefault(),n.stopPropagation(),eu()))}),function(n,a){var h;let b,N,w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>[document.body];h=n=>{var a;return{containers:[...null!=(a=n.containers)?a:[],w]}},b=eC(eM.subscribe,eM.getSnapshot,eM.getSnapshot),(N=n?b.get(n):void 0)&&N.count,(0,eg.e)(()=>{if(!(!n||!a))return eM.dispatch("PUSH",n,h),()=>eM.dispatch("POP",n,h)},[a,n])}(Y,!(eE||0!==Q||ep),ev),(0,V.useEffect)(()=>{if(0!==Q||!G.current)return;let n=new ResizeObserver(n=>{for(let a of n){let n=a.target.getBoundingClientRect();0===n.x&&0===n.y&&0===n.width&&0===n.height&&eu()}});return n.observe(G.current),()=>n.disconnect()},[Q,G,eu]);let[eO,eI]=function(){let[n,a]=(0,V.useState)([]);return[n.length>0?n.join(" "):void 0,(0,V.useMemo)(()=>function(n){let h=(0,W.z)(n=>(a(a=>[...a,n]),()=>a(a=>{let h=a.slice(),b=h.indexOf(n);return -1!==b&&h.splice(b,1),h}))),b=(0,V.useMemo)(()=>({register:h,slot:n.slot,name:n.name,props:n.props}),[h,n.slot,n.name,n.props]);return V.createElement(eP.Provider,{value:b},n.children)},[a])]}(),ez=(0,V.useMemo)(()=>[{dialogState:Q,close:eu,setTitleId:ec},er],[Q,er,eu,ec]),eq=(0,V.useMemo)(()=>({open:0===Q}),[Q]),ej={ref:Z,id:E,role:I,"aria-modal":0===Q||void 0,"aria-labelledby":er.titleId,"aria-describedby":eO};return V.createElement(stack_context_b,{type:"Dialog",enabled:0===Q,element:G,onUpdate:(0,W.z)((n,a)=>{"Dialog"===a&&(0,eo.E)(n,{[ek.Add]:()=>L(n=>n+1),[ek.Remove]:()=>L(n=>n-1)})})},V.createElement(portal_force_root_l,{force:!0},V.createElement(ew,null,V.createElement(eL.Provider,{value:ez},V.createElement(ew.Group,{target:G},V.createElement(portal_force_root_l,{force:!1},V.createElement(eI,{slot:eq,name:"Dialog.Description"},V.createElement(ed,{initialFocus:B,containers:ev,features:el?(0,eo.E)(eD,{parent:ed.features.RestoreFocus,leaf:ed.features.All&~ed.features.FocusLock}):ed.features.None},V.createElement(ey,null,(0,et.sY)({ourProps:ej,theirProps:q,slot:eq,defaultTag:"div",features:eH,visible:0===Q,name:"Dialog"}))))))))),V.createElement(eb,null))}),{Backdrop:(0,et.yV)(function(n,a){let h=eF(),{id:b="headlessui-dialog-backdrop-".concat(h),...N}=n,[{dialogState:w},_]=dialog_b("Dialog.Backdrop"),D=(0,ee.T)(a);(0,V.useEffect)(()=>{if(null===_.panelRef.current)throw Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[_.panelRef]);let E=(0,V.useMemo)(()=>({open:0===w}),[w]);return V.createElement(portal_force_root_l,{force:!0},V.createElement(ew,null,(0,et.sY)({ourProps:{ref:D,id:b,"aria-hidden":!0},theirProps:N,slot:E,defaultTag:"div",name:"Dialog.Backdrop"})))}),Panel:(0,et.yV)(function(n,a){let h=eF(),{id:b="headlessui-dialog-panel-".concat(h),...N}=n,[{dialogState:w},_]=dialog_b("Dialog.Panel"),D=(0,ee.T)(a,_.panelRef),E=(0,V.useMemo)(()=>({open:0===w}),[w]),A=(0,W.z)(n=>{n.stopPropagation()});return(0,et.sY)({ourProps:{ref:D,id:b,onClick:A},theirProps:N,slot:E,defaultTag:"div",name:"Dialog.Panel"})}),Overlay:(0,et.yV)(function(n,a){let h=eF(),{id:b="headlessui-dialog-overlay-".concat(h),...N}=n,[{dialogState:w,close:_}]=dialog_b("Dialog.Overlay"),D=(0,ee.T)(a),E=(0,W.z)(n=>{if(n.target===n.currentTarget){if(function(n){let a=n.parentElement,h=null;for(;a&&!(a instanceof HTMLFieldSetElement);)a instanceof HTMLLegendElement&&(h=a),a=a.parentElement;let b=(null==a?void 0:a.getAttribute("disabled"))==="";return!(b&&function(n){if(!n)return!1;let a=n.previousElementSibling;for(;null!==a;){if(a instanceof HTMLLegendElement)return!1;a=a.previousElementSibling}return!0}(h))&&b}(n.currentTarget))return n.preventDefault();n.preventDefault(),n.stopPropagation(),_()}}),A=(0,V.useMemo)(()=>({open:0===w}),[w]);return(0,et.sY)({ourProps:{ref:D,id:b,"aria-hidden":!0,onClick:E},theirProps:N,slot:A,defaultTag:"div",name:"Dialog.Overlay"})}),Title:(0,et.yV)(function(n,a){let h=eF(),{id:b="headlessui-dialog-title-".concat(h),...N}=n,[{dialogState:w,setTitleId:_}]=dialog_b("Dialog.Title"),D=(0,ee.T)(a);(0,V.useEffect)(()=>(_(b),()=>_(null)),[b,_]);let E=(0,V.useMemo)(()=>({open:0===w}),[w]);return(0,et.sY)({ourProps:{ref:D,id:b},theirProps:N,slot:E,defaultTag:"h2",name:"Dialog.Title"})}),Description:ez})},1425:function(n,a,h){"use strict";h.d(a,{u:function(){return J}});var b,N=h(7294),w=h(9650),_=h(490),D=h(5546),E=h(2749),A=h(8609),M=h(9392),B=h(6361),I=h(7807),z=h(3424);function g(n){for(var a=arguments.length,h=Array(a>1?a-1:0),b=1;b<a;b++)h[b-1]=arguments[b];n&&h.length>0&&n.classList.add(...h)}function v(n){for(var a=arguments.length,h=Array(a>1?a-1:0),b=1;b<a;b++)h[b-1]=arguments[b];n&&h.length>0&&n.classList.remove(...h)}var q=h(6848),j=h(7255),L=h(5023);function S(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.split(/\s+/).filter(n=>n.length>1)}let H=(0,N.createContext)(null);H.displayName="TransitionContext";var $=((b=$||{}).Visible="visible",b.Hidden="hidden",b);let V=(0,N.createContext)(null);function U(n){return"children"in n?U(n.children):n.current.filter(n=>{let{el:a}=n;return null!==a.current}).filter(n=>{let{state:a}=n;return"visible"===a}).length>0}function se(n,a){let h=(0,A.E)(n),b=(0,N.useRef)([]),E=(0,D.t)(),M=(0,w.G)(),B=(0,_.z)(function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.l4.Hidden,N=b.current.findIndex(a=>{let{el:h}=a;return h===n});-1!==N&&((0,z.E)(a,{[L.l4.Unmount](){b.current.splice(N,1)},[L.l4.Hidden](){b.current[N].state="hidden"}}),M.microTask(()=>{var n;!U(b)&&E.current&&(null==(n=h.current)||n.call(h))}))}),I=(0,_.z)(n=>{let a=b.current.find(a=>{let{el:h}=a;return h===n});return a?"visible"!==a.state&&(a.state="visible"):b.current.push({el:n,state:"visible"}),()=>B(n,L.l4.Unmount)}),q=(0,N.useRef)([]),j=(0,N.useRef)(Promise.resolve()),H=(0,N.useRef)({enter:[],leave:[],idle:[]}),$=(0,_.z)((n,h,b)=>{q.current.splice(0),a&&(a.chains.current[h]=a.chains.current[h].filter(a=>{let[h]=a;return h!==n})),null==a||a.chains.current[h].push([n,new Promise(n=>{q.current.push(n)})]),null==a||a.chains.current[h].push([n,new Promise(n=>{Promise.all(H.current[h].map(n=>{let[a,h]=n;return h})).then(()=>n())})]),"enter"===h?j.current=j.current.then(()=>null==a?void 0:a.wait.current).then(()=>b(h)):b(h)}),V=(0,_.z)((n,a,h)=>{Promise.all(H.current[a].splice(0).map(n=>{let[a,h]=n;return h})).then(()=>{var n;null==(n=q.current.shift())||n()}).then(()=>h(a))});return(0,N.useMemo)(()=>({children:b,register:I,unregister:B,onStart:$,onStop:V,wait:j,chains:H}),[I,B,b,$,V,H,j])}function Ne(){}V.displayName="NestingContext";let G=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function ae(n){var a;let h={};for(let b of G)h[b]=null!=(a=n[b])?a:Ne;return h}let Z=L.AN.RenderStrategy,W=(0,L.yV)(function(n,a){let{show:h,appear:b=!1,unmount:w=!0,...D}=n,A=(0,N.useRef)(null),I=(0,B.T)(A,a);(0,M.H)();let z=(0,q.oJ)();if(void 0===h&&null!==z&&(h=(z&q.ZM.Open)===q.ZM.Open),![!0,!1].includes(h))throw Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[j,$]=(0,N.useState)(h?"visible":"hidden"),G=se(()=>{$("hidden")}),[W,X]=(0,N.useState)(!0),J=(0,N.useRef)([h]);(0,E.e)(()=>{!1!==W&&J.current[J.current.length-1]!==h&&(J.current.push(h),X(!1))},[J,h]);let Q=(0,N.useMemo)(()=>({show:h,appear:b,initial:W}),[h,b,W]);(0,N.useEffect)(()=>{if(h)$("visible");else if(U(G)){let n=A.current;if(!n)return;let a=n.getBoundingClientRect();0===a.x&&0===a.y&&0===a.width&&0===a.height&&$("hidden")}else $("hidden")},[h,G]);let K={unmount:w},ee=(0,_.z)(()=>{var a;W&&X(!1),null==(a=n.beforeEnter)||a.call(n)}),er=(0,_.z)(()=>{var a;W&&X(!1),null==(a=n.beforeLeave)||a.call(n)});return N.createElement(V.Provider,{value:G},N.createElement(H.Provider,{value:Q},(0,L.sY)({ourProps:{...K,as:N.Fragment,children:N.createElement(Y,{ref:I,...K,...D,beforeEnter:ee,beforeLeave:er})},theirProps:{},defaultTag:N.Fragment,features:Z,visible:"visible"===j,name:"Transition"})))}),Y=(0,L.yV)(function(n,a){var h,b,$;let G;let{beforeEnter:W,afterEnter:Y,beforeLeave:X,afterLeave:J,enter:Q,enterFrom:K,enterTo:ee,entered:er,leave:et,leaveFrom:en,leaveTo:ei,...ea}=n,eo=(0,N.useRef)(null),es=(0,B.T)(eo,a),eu=null==(h=ea.unmount)||h?L.l4.Unmount:L.l4.Hidden,{show:ec,appear:el,initial:ef}=function(){let n=(0,N.useContext)(H);if(null===n)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return n}(),[em,ep]=(0,N.useState)(ec?"visible":"hidden"),ed=function(){let n=(0,N.useContext)(V);if(null===n)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return n}(),{register:eh,unregister:eg}=ed;(0,N.useEffect)(()=>eh(eo),[eh,eo]),(0,N.useEffect)(()=>{if(eu===L.l4.Hidden&&eo.current){if(ec&&"visible"!==em){ep("visible");return}return(0,z.E)(em,{hidden:()=>eg(eo),visible:()=>eh(eo)})}},[em,eo,eh,eg,ec,eu]);let ey=(0,A.E)({base:S(ea.className),enter:S(Q),enterFrom:S(K),enterTo:S(ee),entered:S(er),leave:S(et),leaveFrom:S(en),leaveTo:S(ei)}),ev=($={beforeEnter:W,afterEnter:Y,beforeLeave:X,afterLeave:J},G=(0,N.useRef)(ae($)),(0,N.useEffect)(()=>{G.current=ae($)},[$]),G),ex=(0,M.H)();(0,N.useEffect)(()=>{if(ex&&"visible"===em&&null===eo.current)throw Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[eo,em,ex]);let eb=el&&ec&&ef,eN=ex&&(!ef||el)?ec?"enter":"leave":"idle",ew=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,[a,h]=(0,N.useState)(n),b=(0,D.t)(),w=(0,N.useCallback)(n=>{b.current&&h(a=>a|n)},[a,b]),_=(0,N.useCallback)(n=>!!(a&n),[a]);return{flags:a,addFlag:w,hasFlag:_,removeFlag:(0,N.useCallback)(n=>{b.current&&h(a=>a&~n)},[h,b]),toggleFlag:(0,N.useCallback)(n=>{b.current&&h(a=>a^n)},[h])}}(0),e_=(0,_.z)(n=>(0,z.E)(n,{enter:()=>{ew.addFlag(q.ZM.Opening),ev.current.beforeEnter()},leave:()=>{ew.addFlag(q.ZM.Closing),ev.current.beforeLeave()},idle:()=>{}})),eD=(0,_.z)(n=>(0,z.E)(n,{enter:()=>{ew.removeFlag(q.ZM.Opening),ev.current.afterEnter()},leave:()=>{ew.removeFlag(q.ZM.Closing),ev.current.afterLeave()},idle:()=>{}})),eE=se(()=>{ep("hidden"),eg(eo)},ed),eA=(0,N.useRef)(!1);!function(n){let{immediate:a,container:h,direction:b,classes:N,onStart:_,onStop:M}=n,B=(0,D.t)(),q=(0,w.G)(),j=(0,A.E)(b);(0,E.e)(()=>{a&&(j.current="enter")},[a]),(0,E.e)(()=>{let n=(0,I.k)();q.add(n.dispose);let a=h.current;if(a&&"idle"!==j.current&&B.current){var b,w,D;let h,E,A,B,q,L,H;return n.dispose(),_.current(j.current),n.add((b=N.current,w="enter"===j.current,D=()=>{n.dispose(),M.current(j.current)},E=w?"enter":"leave",A=(0,I.k)(),B=void 0!==D?(h={called:!1},function(){for(var n=arguments.length,a=Array(n),b=0;b<n;b++)a[b]=arguments[b];if(!h.called)return h.called=!0,D(...a)}):()=>{},"enter"===E&&(a.removeAttribute("hidden"),a.style.display=""),q=(0,z.E)(E,{enter:()=>b.enter,leave:()=>b.leave}),L=(0,z.E)(E,{enter:()=>b.enterTo,leave:()=>b.leaveTo}),H=(0,z.E)(E,{enter:()=>b.enterFrom,leave:()=>b.leaveFrom}),v(a,...b.base,...b.enter,...b.enterTo,...b.enterFrom,...b.leave,...b.leaveFrom,...b.leaveTo,...b.entered),g(a,...b.base,...q,...H),A.nextFrame(()=>{v(a,...b.base,...q,...H),g(a,...b.base,...q,...L),function(n,a){let h=(0,I.k)();if(!n)return h.dispose;let{transitionDuration:b,transitionDelay:N}=getComputedStyle(n),[w,_]=[b,N].map(n=>{let[a=0]=n.split(",").filter(Boolean).map(n=>n.includes("ms")?parseFloat(n):1e3*parseFloat(n)).sort((n,a)=>a-n);return a}),D=w+_;if(0!==D){h.group(h=>{h.setTimeout(()=>{a(),h.dispose()},D),h.addEventListener(n,"transitionrun",n=>{n.target===n.currentTarget&&h.dispose()})});let b=h.addEventListener(n,"transitionend",n=>{n.target===n.currentTarget&&(a(),b())})}else a();h.add(()=>a()),h.dispose}(a,()=>(v(a,...b.base,...q),g(a,...b.base,...b.entered),B()))}),A.dispose)),n.dispose}},[b])}({immediate:eb,container:eo,classes:ey,direction:eN,onStart:(0,A.E)(n=>{eA.current=!0,eE.onStart(eo,n,e_)}),onStop:(0,A.E)(n=>{eA.current=!1,eE.onStop(eo,n,eD),"leave"!==n||U(eE)||(ep("hidden"),eg(eo))})});let eC=ea;return eb?eC={...eC,className:(0,j.A)(ea.className,...ey.current.enter,...ey.current.enterFrom)}:eA.current&&(eC.className=(0,j.A)(ea.className,null==(b=eo.current)?void 0:b.className),""===eC.className&&delete eC.className),N.createElement(V.Provider,{value:eE},N.createElement(q.up,{value:(0,z.E)(em,{visible:q.ZM.Open,hidden:q.ZM.Closed})|ew.flags},(0,L.sY)({ourProps:{ref:es},theirProps:eC,defaultTag:"div",features:Z,visible:"visible"===em,name:"Transition.Child"})))}),X=(0,L.yV)(function(n,a){let h=null!==(0,N.useContext)(H),b=null!==(0,q.oJ)();return N.createElement(N.Fragment,null,!h&&b?N.createElement(W,{ref:a,...n}):N.createElement(Y,{ref:a,...n}))}),J=Object.assign(W,{Child:X,Root:W})},9650:function(n,a,h){"use strict";h.d(a,{G:function(){return p}});var b=h(7294),N=h(7807);function p(){let[n]=(0,b.useState)(N.k);return(0,b.useEffect)(()=>()=>n.dispose(),[n]),n}},490:function(n,a,h){"use strict";h.d(a,{z:function(){return o}});var b=h(7294),N=h(8609);let o=function(n){let a=(0,N.E)(n);return b.useCallback(function(){for(var n=arguments.length,h=Array(n),b=0;b<n;b++)h[b]=arguments[b];return a.current(...h)},[a])}},5546:function(n,a,h){"use strict";h.d(a,{t:function(){return f}});var b=h(7294),N=h(2749);function f(){let n=(0,b.useRef)(!1);return(0,N.e)(()=>(n.current=!0,()=>{n.current=!1}),[]),n}},2749:function(n,a,h){"use strict";h.d(a,{e:function(){return l}});var b=h(7294),N=h(495);let l=(n,a)=>{N.O.isServer?(0,b.useEffect)(n,a):(0,b.useLayoutEffect)(n,a)}},8609:function(n,a,h){"use strict";h.d(a,{E:function(){return s}});var b=h(7294),N=h(2749);function s(n){let a=(0,b.useRef)(n);return(0,N.e)(()=>{a.current=n},[n]),a}},9392:function(n,a,h){"use strict";h.d(a,{H:function(){return l}});var b,N=h(7294),w=h(495);function l(){let n;let a=(n="undefined"==typeof document,(0,(b||(b=h.t(N,2))).useSyncExternalStore)(()=>()=>{},()=>!1,()=>!n)),[_,D]=N.useState(w.O.isHandoffComplete);return _&&!1===w.O.isHandoffComplete&&D(!1),N.useEffect(()=>{!0!==_&&D(!0)},[_]),N.useEffect(()=>w.O.handoff(),[]),!a&&_}},6361:function(n,a,h){"use strict";h.d(a,{T:function(){return y},h:function(){return T}});var b=h(7294),N=h(490);let w=Symbol();function T(n){let a=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return Object.assign(n,{[w]:a})}function y(){for(var n=arguments.length,a=Array(n),h=0;h<n;h++)a[h]=arguments[h];let _=(0,b.useRef)(a);(0,b.useEffect)(()=>{_.current=a},[a]);let D=(0,N.z)(n=>{for(let a of _.current)null!=a&&("function"==typeof a?a(n):a.current=n)});return a.every(n=>null==n||(null==n?void 0:n[w]))?void 0:D}},6848:function(n,a,h){"use strict";h.d(a,{ZM:function(){return _},oJ:function(){return u},up:function(){return s}});var b,N=h(7294);let w=(0,N.createContext)(null);w.displayName="OpenClosedContext";var _=((b=_||{})[b.Open=1]="Open",b[b.Closed=2]="Closed",b[b.Closing=4]="Closing",b[b.Opening=8]="Opening",b);function u(){return(0,N.useContext)(w)}function s(n){let{value:a,children:h}=n;return N.createElement(w.Provider,{value:a},h)}},7255:function(n,a,h){"use strict";function t(){for(var n=arguments.length,a=Array(n),h=0;h<n;h++)a[h]=arguments[h];return Array.from(new Set(a.flatMap(n=>"string"==typeof n?n.split(" "):[]))).filter(Boolean).join(" ")}h.d(a,{A:function(){return t}})},7807:function(n,a,h){"use strict";h.d(a,{k:function(){return function o(){let n=[],a={addEventListener:(n,h,b,N)=>(n.addEventListener(h,b,N),a.add(()=>n.removeEventListener(h,b,N))),requestAnimationFrame(){for(var n=arguments.length,h=Array(n),b=0;b<n;b++)h[b]=arguments[b];let N=requestAnimationFrame(...h);return a.add(()=>cancelAnimationFrame(N))},nextFrame(){for(var n=arguments.length,h=Array(n),b=0;b<n;b++)h[b]=arguments[b];return a.requestAnimationFrame(()=>a.requestAnimationFrame(...h))},setTimeout(){for(var n=arguments.length,h=Array(n),b=0;b<n;b++)h[b]=arguments[b];let N=setTimeout(...h);return a.add(()=>clearTimeout(N))},microTask(){for(var n=arguments.length,h=Array(n),N=0;N<n;N++)h[N]=arguments[N];let w={current:!0};return(0,b.Y)(()=>{w.current&&h[0]()}),a.add(()=>{w.current=!1})},style(n,a,h){let b=n.style.getPropertyValue(a);return Object.assign(n.style,{[a]:h}),this.add(()=>{Object.assign(n.style,{[a]:b})})},group(n){let a=o();return n(a),this.add(()=>a.dispose())},add:a=>(n.push(a),()=>{let h=n.indexOf(a);if(h>=0)for(let a of n.splice(h,1))a()}),dispose(){for(let a of n.splice(0))a()}};return a}}});var b=h(2893)},495:function(n,a,h){"use strict";h.d(a,{O:function(){return N}});var b=Object.defineProperty,d=(n,a,h)=>a in n?b(n,a,{enumerable:!0,configurable:!0,writable:!0,value:h}):n[a]=h,r=(n,a,h)=>(d(n,"symbol"!=typeof a?a+"":a,h),h);let N=new class{set(n){this.current!==n&&(this.handoffState="pending",this.currentId=0,this.current=n)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}constructor(){r(this,"current",this.detect()),r(this,"handoffState","pending"),r(this,"currentId",0)}}},3424:function(n,a,h){"use strict";function u(n,a){for(var h=arguments.length,b=Array(h>2?h-2:0),N=2;N<h;N++)b[N-2]=arguments[N];if(n in a){let h=a[n];return"function"==typeof h?h(...b):h}let w=Error('Tried to handle "'.concat(n,'" but there is no handler defined. Only defined handlers are: ').concat(Object.keys(a).map(n=>'"'.concat(n,'"')).join(", "),"."));throw Error.captureStackTrace&&Error.captureStackTrace(w,u),w}h.d(a,{E:function(){return u}})},2893:function(n,a,h){"use strict";function t(n){"function"==typeof queueMicrotask?queueMicrotask(n):Promise.resolve().then(n).catch(n=>setTimeout(()=>{throw n}))}h.d(a,{Y:function(){return t}})},5023:function(n,a,h){"use strict";h.d(a,{AN:function(){return E},l4:function(){return A},sY:function(){return C},yV:function(){return U}});var b,N,w=h(7294),_=h(7255),D=h(3424),E=((b=E||{})[b.None=0]="None",b[b.RenderStrategy=1]="RenderStrategy",b[b.Static=2]="Static",b),A=((N=A||{})[N.Unmount=0]="Unmount",N[N.Hidden=1]="Hidden",N);function C(n){let{ourProps:a,theirProps:h,slot:b,defaultTag:N,features:w,visible:_=!0,name:E,mergeRefs:A}=n;A=null!=A?A:k;let M=R(h,a);if(_)return m(M,b,N,E,A);let B=null!=w?w:0;if(2&B){let{static:n=!1,...a}=M;if(n)return m(a,b,N,E,A)}if(1&B){let{unmount:n=!0,...a}=M;return(0,D.E)(n?0:1,{0:()=>null,1:()=>m({...a,hidden:!0,style:{display:"none"}},b,N,E,A)})}return m(M,b,N,E,A)}function m(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=arguments.length>2?arguments[2]:void 0,b=arguments.length>3?arguments[3]:void 0,N=arguments.length>4?arguments[4]:void 0,{as:D=h,children:E,refName:A="ref",...M}=F(n,["unmount","static"]),B=void 0!==n.ref?{[A]:n.ref}:{},I="function"==typeof E?E(a):E;"className"in M&&M.className&&"function"==typeof M.className&&(M.className=M.className(a));let z={};if(a){let n=!1,h=[];for(let[b,N]of Object.entries(a))"boolean"==typeof N&&(n=!0),!0===N&&h.push(b);n&&(z["data-headlessui-state"]=h.join(" "))}if(D===w.Fragment&&Object.keys(x(M)).length>0){if(!(0,w.isValidElement)(I)||Array.isArray(I)&&I.length>1)throw Error(['Passing props on "Fragment"!',"","The current component <".concat(b,' /> is rendering a "Fragment".'),"However we need to passthrough the following props:",Object.keys(M).map(n=>"  - ".concat(n)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(n=>"  - ".concat(n)).join("\n")].join("\n"));let n=I.props,a="function"==typeof(null==n?void 0:n.className)?function(){for(var a=arguments.length,h=Array(a),b=0;b<a;b++)h[b]=arguments[b];return(0,_.A)(null==n?void 0:n.className(...h),M.className)}:(0,_.A)(null==n?void 0:n.className,M.className),h=a?{className:a}:{};return(0,w.cloneElement)(I,Object.assign({},R(I.props,x(F(M,["ref"]))),z,B,{ref:N(I.ref,B.ref)},h))}return(0,w.createElement)(D,Object.assign({},F(M,["ref"]),D!==w.Fragment&&B,D!==w.Fragment&&z),I)}function k(){for(var n=arguments.length,a=Array(n),h=0;h<n;h++)a[h]=arguments[h];return a.every(n=>null==n)?void 0:n=>{for(let h of a)null!=h&&("function"==typeof h?h(n):h.current=n)}}function R(){for(var n=arguments.length,a=Array(n),h=0;h<n;h++)a[h]=arguments[h];if(0===a.length)return{};if(1===a.length)return a[0];let b={},N={};for(let n of a)for(let a in n)a.startsWith("on")&&"function"==typeof n[a]?(null!=N[a]||(N[a]=[]),N[a].push(n[a])):b[a]=n[a];if(b.disabled||b["aria-disabled"])return Object.assign(b,Object.fromEntries(Object.keys(N).map(n=>[n,void 0])));for(let n in N)Object.assign(b,{[n](a){for(var h=arguments.length,b=Array(h>1?h-1:0),w=1;w<h;w++)b[w-1]=arguments[w];for(let h of N[n]){if((a instanceof Event||(null==a?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;h(a,...b)}}});return b}function U(n){var a;return Object.assign((0,w.forwardRef)(n),{displayName:null!=(a=n.displayName)?a:n.name})}function x(n){let a=Object.assign({},n);for(let n in a)void 0===a[n]&&delete a[n];return a}function F(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],h=Object.assign({},n);for(let n of a)n in h&&delete h[n];return h}}}]);