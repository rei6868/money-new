(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[958],{7050:function(e,t,a){"use strict";a.d(t,{Z:function(){return common_AddModalGlobal}});var n=a(5893),l=a(7294),o=a(3692),r=a(4972);let i=/[^0-9.+\-*/()]/g,s=/(\d)\(/g,c=/\)(\d)/g,d=/\)\(/g,u=/\/0+([1-9]\d*(?:\.\d+)?)/g,normalizeExpression=e=>{if(!e||"string"!=typeof e)return"";let t=e.trim();if(!t)return"";let a=t.replace(/\s+/g,"").replace(/,/g,"").replace(i,"");if(!a)return"";let n=a.replace(s,"$1*(").replace(c,")*$1").replace(d,")*(");return n.replace(u,(e,t)=>"/".concat(t))},containsDivisionByZero=e=>{let t=normalizeExpression(e);if(!t)return!1;try{let e=(0,r.Qc)(t),a=!1;return e.traverse(e=>{var t;if(a||!e||!e.isOperatorNode||"/"!==e.op)return;let n=null===(t=e.args)||void 0===t?void 0:t[1];if(n)try{let e;let t=n.compile().evaluate({});e="number"==typeof t?t:t&&"function"==typeof t.toNumber?t.toNumber():Number(t),Number.isFinite(e)&&0===e&&(a=!0)}catch(e){e&&"string"==typeof e.message&&e.message.toLowerCase().includes("division by zero")&&(a=!0)}}),a}catch(e){return!1}};var m=a(177),p=a.n(m);let h=/[^0-9.]/g,b=/^0+(?=\d)/,_=/\B(?=(\d{3})+(?!\d))/g,f=[1e3,1e4,1e5],v=new Set(["+","-","*","/"]),g=new Set(["(",")"]),sanitizeExpressionInput=e=>e?e.replace(/\s+/g,"").replace(/,/g,"").replace(/[^0-9.+\-*/()]/g,""):"",tokenizeExpression=e=>{if(!e)return[];let t=sanitizeExpressionInput(e),a=[],n="";for(let e=0;e<t.length;e+=1){let l=t[e];if(g.has(l)){n&&(a.push({type:"number",value:n}),n=""),a.push({type:"paren",value:l});continue}if(!v.has(l)){n+=l;continue}let o=a[a.length-1],r=!o||"operator"===o.type||"paren"===o.type&&"("===o.value,i="-"===l&&""===n&&r;if(i){n+=l;continue}n&&(a.push({type:"number",value:n}),n=""),a.push({type:"operator",value:l})}return n&&a.push({type:"number",value:n}),a},tokenHasDigits=e=>"number"===e.type&&/\d/.test(e.value),shouldTreatTokensAsExpression=e=>{if(!e||0===e.length)return!1;let t=e.some(tokenHasDigits);if(!t)return!1;let a=e.some(e=>"operator"===e.type);if(a)return!0;let n=e.some(e=>"paren"===e.type);return!!n&&e.length>1},formatExpressionTokens=e=>e.map(e=>{if("number"===e.type){let t=formatDisplayValue(e.value);return{...e,display:t||e.value}}return{...e,display:e.value}}),joinTokensForInput=e=>e.map(e=>e.display).join(""),joinTokensForHistory=e=>e.map(e=>"operator"===e.type?" ".concat(e.display," "):e.display).join("").replace(/\s+/g," ").trim(),parseInputValue=e=>{if(null==e)return"";let t=String(e);if(!t.trim())return"";let a=t.trim(),n=a.startsWith("-"),l=a.replace(/,/g,""),o=l.includes("."),r=l.replace(h,"");if(!r)return"";let[i="",...s]=r.split("."),c=s.join(""),d=i.replace(b,""),u=d||(i?"0":""),m=o&&(c.length>0||s.length>0);if(!u&&!c&&!m)return"";let p=n&&(u||c||m)?"-":"",_=u||"0",f=c?".".concat(c):m?".":"";return"".concat(p).concat(_).concat(f)},formatDisplayValue=e=>{if(null==e)return"";let t=String(e);if(!t.trim())return"";let a=parseInputValue(t);if(!a)return"";let n=a.startsWith("-"),l=n?a.slice(1):a,[o="0",r=""]=l.split("."),i=(o||"0").replace(_,","),s=l.endsWith(".")&&!r,c=r?".".concat(r):s?".":"";return"".concat(n?"-":"").concat(i).concat(c)},generateSuggestions=e=>{let t=parseInputValue(e);if(!t||t.includes(".")||t.startsWith("-")||!/^\d+$/.test(t))return[];let a=Number.parseInt(t,10);if(!Number.isFinite(a)||0===a)return[];let n=new Set,l=[];for(let e of f){let o=a*e;if(!Number.isFinite(o)||o<=0)continue;let r=String(Math.trunc(o));n.has(r)||r===t||(n.add(r),l.push({raw:r,formatted:formatDisplayValue(r)}))}return l.slice(0,3)};function AmountInput(e){let{value:t,onChange:a,onFocus:o,onBlur:i,onHistoryChange:s,onKeyDown:c,placeholder:d="",id:u,label:m,className:h="",inputMode:b="decimal",wrapperClassName:_="",labelClassName:f="",name:v,...g}=e,x=(0,l.useMemo)(()=>parseInputValue(t),[t]),y=(0,l.useMemo)(()=>formatDisplayValue(x),[x]),[T,C]=(0,l.useState)(y),[N,k]=(0,l.useState)(""),[j,A]=(0,l.useState)(""),[B,w]=(0,l.useState)(""),[M,S]=(0,l.useState)([]),[E,F]=(0,l.useState)(!1),[L,D]=(0,l.useState)(""),I=N.length>0,R=(0,l.useRef)(null),O=(0,l.useRef)(null),z=(0,l.useRef)(null),H=(0,l.useRef)(!1),V=(0,l.useMemo)(()=>I?[]:generateSuggestions(x),[I,x]);(0,l.useEffect)(()=>{I||C(y)},[y,I]),(0,l.useEffect)(()=>{if(I){S([]),F(!1);return}S(V),0===V.length&&F(!1)},[V,I]),(0,l.useEffect)(()=>()=>{z.current&&clearTimeout(z.current)},[]),(0,l.useEffect)(()=>{null==s||s(B)},[B,s]),(0,l.useEffect)(()=>{x||I||w(e=>e?"":e)},[I,x]);let W=(0,l.useCallback)(e=>{if(z.current&&(clearTimeout(z.current),z.current=null),H.current){H.current=!1;return}!I&&M.length>0&&F(!0),null==o||o(e)},[I,o,M.length]),P=(0,l.useCallback)(e=>{z.current&&clearTimeout(z.current),z.current=setTimeout(()=>{var e;let t=document.activeElement;null!==(e=O.current)&&void 0!==e&&e.contains(t)||F(!1)},120),null==i||i(e)},[i]),G=(0,l.useCallback)(e=>{if(!e)return;z.current&&(clearTimeout(z.current),z.current=null);let t=e.raw;null==a||a(t),k(""),A(""),w(""),C(formatDisplayValue(t)),F(!1),H.current=!0,requestAnimationFrame(()=>{var e;null===(e=R.current)||void 0===e||e.focus()})},[a]),Q=(0,l.useCallback)(e=>{let t=!1;if("Enter"===e.key){let n=N.trim();if(n&&I){let l=tokenizeExpression(n),o=shouldTreatTokensAsExpression(l);if(o){e.preventDefault(),t=!0;let l=normalizeExpression(n);if(!l){D("Lỗi: Ph\xe9p t\xednh kh\xf4ng hợp lệ");return}if(containsDivisionByZero(l)){D("Lỗi: Kh\xf4ng thể chia cho 0");return}let o=function(e){let t=normalizeExpression(e);if(!t)return null;try{let e;let a=(0,r.ku)(t);if(e="number"==typeof a?a:a&&"function"==typeof a.toNumber?a.toNumber():Number(a),"number"==typeof e&&Number.isFinite(e))return e;return null}catch(e){return null}}(l);if(null===o){D("Lỗi: Ph\xe9p t\xednh kh\xf4ng hợp lệ");return}if("number"==typeof o&&o<0){D("Kết quả kh\xf4ng được \xe2m");return}let i=formatExpressionTokens(tokenizeExpression(l)),s=joinTokensForHistory(i),c=parseInputValue(String(o)),d=formatDisplayValue(c),u=s?"".concat(s," = ").concat(d):d?"= ".concat(d):"";if(D(""),w(u),k(""),A(""),F(!1),C(d),null==a||a(c),c){let e=generateSuggestions(c);S(e)}else S([])}}}c&&c(e),t&&(H.current=!0)},[N,I,a,c]),q=[p().container,_].filter(Boolean).join(" "),K=[p().label,f].filter(Boolean).join(" "),U=[p().input,h].filter(Boolean).join(" ");return(0,n.jsxs)("div",{className:q,children:[m?(0,n.jsx)("label",{className:K,htmlFor:u,children:m}):null,(0,n.jsx)("input",{id:u,name:v,type:"text",inputMode:b,className:U,value:I?j:T,onChange:e=>{L&&D("");let t=e.target.value,n=sanitizeExpressionInput(t),l=tokenizeExpression(n),o=shouldTreatTokensAsExpression(l);if(o){let e=l.map(e=>e.value).join("");k(e);let t=formatExpressionTokens(l);A(joinTokensForInput(t)),B&&w(""),null==a||a(""),F(!1),S([]);return}N&&(k(""),A(""));let r=parseInputValue(t);B&&w(""),null==a||a(r);let i=formatDisplayValue(r);C(i);let s=generateSuggestions(r);S(s),F(s.length>0)},onFocus:W,onBlur:P,onKeyDown:Q,ref:R,placeholder:d,...g}),L?(0,n.jsx)("p",{className:p().inputErrorText,children:L}):null,E&&!I&&M.length>0?(0,n.jsx)("div",{className:p().suggestionsContainer,ref:O,children:M.map(e=>(0,n.jsx)("button",{type:"button",className:p().suggestionButton,onClick:()=>G(e),onMouseDown:e=>e.preventDefault(),tabIndex:-1,children:e.formatted},e.raw))}):null]})}var x=a(3935),y=a(9044),T=a.n(y);function ConfirmationModal(e){let{isOpen:t,title:a,message:o,confirmLabel:r="Confirm",cancelLabel:i="Cancel",onConfirm:s,onCancel:c,confirmTone:d="primary"}=e,u=(0,l.useRef)(null),m=(0,l.useRef)(null),p=(0,l.useRef)(null),h=(0,l.useMemo)(()=>"confirmation-modal-title-".concat(Math.random().toString(36).slice(2)),[]),b=(0,l.useMemo)(()=>"confirmation-modal-message-".concat(Math.random().toString(36).slice(2)),[]);if((0,l.useEffect)(()=>{var e,a;if(!t||"undefined"==typeof document)return;p.current=document.activeElement;let n="danger"===d?m.current:u.current;null===(e=null!==(a=null!=n?n:m.current)&&void 0!==a?a:u.current)||void 0===e||e.focus({preventScroll:!0});let handleKeyDown=e=>{if("Escape"===e.key){e.preventDefault(),null==c||c();return}if("Tab"===e.key){let t=[u.current,m.current].filter(Boolean);if(t.length<=1)return;let a=t[0],n=t[t.length-1],l=document.activeElement;e.shiftKey?l!==a&&t.includes(l)||(e.preventDefault(),n.focus()):l===n&&(e.preventDefault(),a.focus())}};return document.addEventListener("keydown",handleKeyDown),()=>{document.removeEventListener("keydown",handleKeyDown);let e=p.current;e&&"function"==typeof e.focus&&e.focus({preventScroll:!0})}},[d,t,c]),"undefined"==typeof document||!t)return null;let _=[T().confirmButton];"danger"===d?_.push(T().confirmButtonDanger):_.push(T().confirmButtonPrimary);let f=a?h:void 0,v=o?b:void 0;return(0,x.createPortal)((0,n.jsx)("div",{className:T().overlay,role:"presentation",onClick:e=>{e.target===e.currentTarget&&(null==c||c())},children:(0,n.jsxs)("div",{className:T().modal,role:"dialog","aria-modal":"true","aria-labelledby":f,"aria-describedby":v,onClick:e=>e.stopPropagation(),children:[a?(0,n.jsx)("h2",{className:T().title,id:f,children:a}):null,o?(0,n.jsx)("p",{className:T().message,id:v,children:o}):null,(0,n.jsxs)("div",{className:T().actions,children:[(0,n.jsx)("button",{type:"button",className:T().cancelButton,onClick:c,ref:u,children:i}),(0,n.jsx)("button",{type:"button",className:_.join(" "),onClick:s,ref:m,children:r})]})]})}),document.body)}var C=a(3789),N=a(1450),k=a.n(N);let j=(0,C.Gd)(),A=(0,C.JV)();var accounts_AddAccountOverlay=function(e){var t,a;let{isOpen:r,onClose:i,onSubmit:s}=e,[c,d]=(0,l.useState)(!1),[u,m]=(0,l.useState)(""),[p,h]=(0,l.useState)(null!==(a=null===(t=j[0])||void 0===t?void 0:t.value)&&void 0!==a?a:"bank"),[b,_]=(0,l.useState)("0"),[f,v]=(0,l.useState)(C.GW.ACTIVE),[g,x]=(0,l.useState)(""),[y,T]=(0,l.useState)(!1),[N,B]=(0,l.useState)(!1);(0,l.useEffect)(()=>{var e,t;r&&(d(!1),m(""),h(null!==(t=null===(e=j[0])||void 0===e?void 0:e.value)&&void 0!==t?t:"bank"),_("0"),v(C.GW.ACTIVE),x(""),B(!1))},[r]),(0,l.useEffect)(()=>{if(!r||"undefined"==typeof document)return;let e=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}},[r]),(0,l.useEffect)(()=>{if(!r)return;let e=document.querySelector("#add-account-overlay-name");null==e||e.focus({preventScroll:!0})},[r]);let w=(0,l.useCallback)(()=>{N||B(!0)},[N]),M=(0,l.useCallback)(()=>{N?T(!0):i()},[N,i]),S=(0,l.useCallback)(()=>{T(!1),i()},[i]),E=(0,l.useCallback)(()=>{T(!1)},[]),handleSubmit=async e=>{if(e.preventDefault(),!c){if(!u.trim()){alert("Please enter an account name");return}try{d(!0);let e=parseFloat(b)||0,t={accountName:u.trim(),accountType:p,openingBalance:e,currentBalance:e,status:f,notes:g.trim()||void 0},a=await s(t);a&&i()}finally{d(!1)}}};return r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:k().overlay,role:"presentation",onClick:e=>e.target===e.currentTarget&&M(),children:(0,n.jsxs)("div",{className:k().dialog,role:"dialog","aria-modal":"true","aria-label":"Add new account",children:[(0,n.jsxs)("div",{className:k().header,children:[(0,n.jsx)("h2",{className:k().title,children:"+ Add Account"}),(0,n.jsx)("button",{type:"button",className:k().closeButton,onClick:M,"aria-label":"Close add account modal",children:(0,n.jsx)(o.q5L,{"aria-hidden":!0})})]}),(0,n.jsxs)("form",{className:k().content,onSubmit:handleSubmit,children:[(0,n.jsxs)("label",{className:k().field,htmlFor:"add-account-overlay-name",children:[(0,n.jsx)("span",{className:k().fieldLabel,children:"Account name *"}),(0,n.jsx)("input",{id:"add-account-overlay-name",className:k().input,value:u,onChange:e=>{m(e.target.value),w()},required:!0,placeholder:"e.g., Vietcombank Savings"})]}),(0,n.jsxs)("label",{className:k().field,htmlFor:"add-account-overlay-type",children:[(0,n.jsx)("span",{className:k().fieldLabel,children:"Account type *"}),(0,n.jsx)("select",{id:"add-account-overlay-type",className:k().input,value:p,onChange:e=>{h(e.target.value),w()},children:j.map(e=>(0,n.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,n.jsxs)("label",{className:k().field,htmlFor:"add-account-overlay-balance",children:[(0,n.jsx)("span",{className:k().fieldLabel,children:"Opening balance *"}),(0,n.jsx)("input",{id:"add-account-overlay-balance",className:k().input,type:"number",min:"0",step:"0.01",value:b,onChange:e=>{_(e.target.value),w()},required:!0,placeholder:"0.00"})]}),(0,n.jsxs)("label",{className:k().field,htmlFor:"add-account-overlay-status",children:[(0,n.jsx)("span",{className:k().fieldLabel,children:"Status *"}),(0,n.jsx)("select",{id:"add-account-overlay-status",className:k().input,value:f,onChange:e=>{v(e.target.value),w()},children:A.map(e=>(0,n.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,n.jsxs)("label",{className:k().field,htmlFor:"add-account-overlay-note",children:[(0,n.jsx)("span",{className:k().fieldLabel,children:"Notes"}),(0,n.jsx)("textarea",{id:"add-account-overlay-note",className:k().textarea,rows:3,value:g,onChange:e=>{x(e.target.value),w()},placeholder:"Optional notes about this account"})]}),(0,n.jsxs)("div",{className:k().footer,children:[(0,n.jsx)("button",{type:"button",className:k().secondaryButton,onClick:M,disabled:c,children:"Cancel"}),(0,n.jsx)("button",{type:"submit",className:k().primaryButton,disabled:c,children:c?"Saving…":"Save Account"})]})]})]})}),(0,n.jsx)(ConfirmationModal,{isOpen:y,title:"Discard changes?",message:"You have unsaved changes. Are you sure you want to close this form?",confirmLabel:"Discard",cancelLabel:"Keep editing",onConfirm:S,onCancel:E})]}):null},B=a(400),w=a.n(B);let M={negative:w().segmentedControlThumbNegative,positive:w().segmentedControlThumbPositive,neutral:w().segmentedControlThumbNeutral},normalizeTone=e=>"negative"===e||"positive"===e?e:"neutral";function SegmentedControl(e){let{options:t,value:a,onChange:o,name:r,className:i="",ariaLabel:s}=e,c=(0,l.useRef)([]),{activeIndex:d,activeTone:u,optionCount:m,selectedValue:p}=(0,l.useMemo)(()=>{var e,n,l,o,r,i,s,c;let d=Array.isArray(t)?t.length:0;if(!d)return{activeIndex:0,activeTone:"neutral",optionCount:0,selectedValue:null};let u=Math.max(0,t.findIndex(e=>e.value===a)),m=null!==(i=null!==(r=null===(e=t[u])||void 0===e?void 0:e.tone)&&void 0!==r?r:null===(n=t[0])||void 0===n?void 0:n.tone)&&void 0!==i?i:"neutral";return{activeIndex:u,activeTone:normalizeTone(m),optionCount:d,selectedValue:null!==(c=null!==(s=null===(l=t[u])||void 0===l?void 0:l.value)&&void 0!==s?s:null===(o=t[0])||void 0===o?void 0:o.value)&&void 0!==c?c:null}},[t,a]),handleSelect=e=>{o&&e!==a&&o(e)},focusOptionAt=e=>{var t;null===(t=c.current[e])||void 0===t||t.focus()},handleKeyDown=(e,a)=>{if(!Array.isArray(t)||0===t.length)return;let n=a;if("ArrowRight"===e.key||"ArrowDown"===e.key)n=(a+1)%t.length;else if("ArrowLeft"===e.key||"ArrowUp"===e.key)n=(a-1+t.length)%t.length;else if("Home"===e.key)n=0;else{if("End"!==e.key)return;n=t.length-1}let l=t[n];l&&(e.preventDefault(),handleSelect(l.value),focusOptionAt(n))},h=[w().segmentedControl];i&&h.push(i);let b=[w().segmentedControlThumb];b.push(M[normalizeTone(u)]);let _={};return s&&(_["aria-label"]=s),(0,n.jsx)("div",{className:h.join(" "),role:"radiogroup",..._,children:(0,n.jsxs)("div",{className:w().segmentedControlTrack,children:[m>0?(0,n.jsx)("span",{className:b.join(" "),style:{width:"".concat(100/m,"%"),transform:"translateX(".concat(100*d,"%)")},"aria-hidden":!0}):null,Array.isArray(t)?t.map((e,t)=>{let a=normalizeTone(e.tone),l=e.value===p,o=[w().segmentedControlOption,w()["segmentedControlOption".concat(a[0].toUpperCase()).concat(a.slice(1))]];l&&o.push(w().segmentedControlOptionActive);let i=r?"".concat(r,"-").concat(e.value):void 0;return(0,n.jsx)("button",{type:"button",className:o.join(" "),role:"radio","aria-checked":l,tabIndex:l?0:-1,onClick:()=>handleSelect(e.value),onKeyDown:e=>handleKeyDown(e,t),ref:e=>{c.current[t]=e},name:r,id:i,children:e.label},e.value)}):null]})})}var S=a(6931),E=a.n(S);let normalizeOption=(e,t)=>{if("string"==typeof e||"number"==typeof e){let a=String(e);return{key:"".concat(a,"-").concat(t),value:a,label:a,original:e}}if(e&&"object"==typeof e){var a,n,l;let o=void 0!==e.value?e.value:void 0!==e.id?e.id:null!==(a=e.label)&&void 0!==a?a:"",r=String(null!=o?o:""),i=null!==(n=e.label)&&void 0!==n?n:String(null!=o?o:"");return{key:null!==(l=e.key)&&void 0!==l?l:"".concat(r,"-").concat(t),value:r,label:i,original:e}}return null};function ReusableDropdown(e){let{options:t=[],value:a,onChange:r,placeholder:i="Select an option",label:s,id:c,testIdPrefix:d,disabled:u=!1,className:m="",openOnMount:p=!1,onOpenChange:h,searchPlaceholder:b="Search...",onAddNew:_,addNewLabel:f="+ New",ariaLabel:v,hasError:g=!1}=e,y=null==a?"":String(a),T=(0,l.useMemo)(()=>t.map((e,t)=>normalizeOption(e,t)).filter(Boolean),[t]),[C,N]=(0,l.useState)(!1),[k,j]=(0,l.useState)(""),A=(0,l.useRef)(null),B=(0,l.useRef)(null),w=(0,l.useRef)(null),[M,S]=(0,l.useState)(null),F=(0,l.useMemo)(()=>{var e;return null!==(e=T.find(e=>e.value===y))&&void 0!==e?e:null},[T,y]),L=(0,l.useMemo)(()=>{if(!k)return T;let e=k.trim().toLowerCase();return T.filter(t=>t.label.toLowerCase().includes(e))},[T,k]),D=(0,l.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];N(!1),j(""),null==h||h(!1),S(null),e&&requestAnimationFrame(()=>{var e;null===(e=A.current)||void 0===e||e.focus()})},[h]),I=(0,l.useCallback)(()=>{if(!C||!A.current)return;let e=A.current.getBoundingClientRect(),t=window.innerWidth||0,a=Math.min(Math.max(e.width,180),Math.max(t-24,180)),n=Math.min(Math.max(e.left,12),Math.max(t-a-12,12)),l=Math.max(e.bottom,8);S(e=>{let t={top:l,left:n,width:a};return e&&e.top===t.top&&e.left===t.left&&e.width===t.width?e:t})},[C]);(0,l.useEffect)(()=>{p&&!u&&(N(!0),j(""),null==h||h(!0))},[p,u,h]),(0,l.useEffect)(()=>{if(!C)return;let handleClick=e=>{var t,a;(null===(t=B.current)||void 0===t?void 0:t.contains(e.target))||(null===(a=A.current)||void 0===a?void 0:a.contains(e.target))||D()},handleKeyDown=e=>{"Escape"===e.key&&(e.preventDefault(),D(!0))};return document.addEventListener("mousedown",handleClick),document.addEventListener("keydown",handleKeyDown),()=>{document.removeEventListener("mousedown",handleClick),document.removeEventListener("keydown",handleKeyDown)}},[C,D]),(0,l.useEffect)(()=>{if(!C)return;I();let e=requestAnimationFrame(I),handleResize=()=>{I()},handleScroll=()=>{I()};return window.addEventListener("resize",handleResize),window.addEventListener("scroll",handleScroll,!0),()=>{cancelAnimationFrame(e),window.removeEventListener("resize",handleResize),window.removeEventListener("scroll",handleScroll,!0)}},[C,I]),(0,l.useEffect)(()=>{C&&requestAnimationFrame(()=>{var e;null===(e=w.current)||void 0===e||e.focus()})},[C]);let handleSelect=e=>{var t;e&&(null==r||r(e.value,null!==(t=e.original)&&void 0!==t?t:e),D())},R=(0,l.useCallback)(()=>{u||(null==_||_(),D())},[D,u,_]),O=null!=c?c:"reusable-dropdown-".concat(Math.random().toString(36).slice(2));return(0,n.jsxs)("div",{className:"".concat(E().dropdown," ").concat(m),"data-disabled":u?"true":void 0,"data-error":g?"true":void 0,children:[s?(0,n.jsx)("label",{className:E().label,htmlFor:"".concat(O,"-search"),children:s}):null,(0,n.jsxs)("button",{type:"button",id:O,ref:A,className:E().trigger,onClick:()=>{u||N(e=>{let t=!e;return t&&j(""),null==h||h(t),t})},disabled:u,"aria-haspopup":"listbox","aria-expanded":C,"aria-label":null!=v?v:s?void 0:i,"data-placeholder":F?"false":"true","data-testid":d?"".concat(d,"-trigger"):void 0,children:[(0,n.jsx)("span",{className:E().triggerText,children:F?F.label:i}),(0,n.jsxs)("span",{className:E().triggerIcons,children:[F?(0,n.jsx)("button",{type:"button",className:E().clearButton,onClick:e=>{e.stopPropagation(),u||(null==r||r("",null),D())},"aria-label":"Clear selection","data-testid":d?"".concat(d,"-clear"):void 0,children:(0,n.jsx)(o.q5L,{"aria-hidden":!0})}):null,(0,n.jsx)(o.bTu,{"aria-hidden":!0,className:E().chevronIcon})]})]}),C&&"undefined"!=typeof document?(0,x.createPortal)((0,n.jsxs)("div",{className:E().menu,ref:B,role:"listbox",style:{top:M?"".concat(M.top,"px"):"0px",left:M?"".concat(M.left,"px"):"0px",width:M?"".concat(M.width,"px"):void 0,visibility:M?"visible":"hidden"},children:[(0,n.jsx)("div",{className:E().searchWrapper,children:(0,n.jsx)("input",{ref:w,id:"".concat(O,"-search"),type:"search",value:k,onChange:e=>j(e.target.value),placeholder:b,className:E().searchInput,"data-testid":d?"".concat(d,"-search"):void 0})}),_?(0,n.jsx)("div",{className:E().menuNewAction,children:(0,n.jsx)("button",{type:"button",className:E().newButton,onClick:R,children:f})}):null,(0,n.jsx)("ul",{className:E().optionsList,children:0===L.length?(0,n.jsx)("li",{className:E().emptyState,children:"No matches found"}):L.map(e=>(0,n.jsx)("li",{children:(0,n.jsx)("button",{type:"button",className:E().optionButton,onClick:()=>handleSelect(e),"data-selected":e.value===y?"true":"false",role:"option","aria-selected":e.value===y,"data-testid":d?"".concat(d,"-option-").concat(e.value):void 0,children:e.label})},e.key))})]}),document.body):null]})}var F=a(2274),L=a.n(F);function DebtTabContent(e){let{formValues:t,updateField:a,renderDateField:l,renderAmountField:o,renderNotesField:r,personOptions:i,accountOptions:s,debtCategoryOptions:c,debtTagOptions:d,selectedDebtTag:u,onDebtTagSelect:m,debtTagLabel:p,debtTagModalType:h,onOpenNewItemModal:b,isRepayMode:_,isLastMonth:f,onToggleLastMonth:v,isCashbackEligible:g,percentBack:x,fixedBack:y,noBackEng:T}=e,C="debt-last-month-toggle-label",N="debt-no-back-eng-label",k=Number(t.amount)>0;return(0,n.jsxs)("div",{className:L().debtSection,children:[(0,n.jsxs)("div",{className:L().debtGrid,children:[(0,n.jsxs)("div",{className:"".concat(L().debtTypeGroup," ").concat(L().gridField),children:[(0,n.jsx)("span",{className:L().fieldLabel,children:"Debt Type"}),(0,n.jsxs)("button",{type:"button",className:"".concat(L().debtTypeToggle," ").concat(L().formFieldBase," ").concat(_?L().debtTypeToggleRepay:L().debtTypeToggleDebt),onClick:()=>a("debtType",_?"debt":"repay"),role:"switch","aria-checked":_,children:[(0,n.jsx)("span",{className:L().debtTypeOption,"data-active":_?"false":"true","data-variant":"debt",children:"Debt"}),(0,n.jsx)("span",{className:L().debtTypeOption,"data-active":_?"true":"false","data-variant":"repay",children:"Repayment"}),(0,n.jsx)("span",{className:L().debtTypeThumb,"aria-hidden":!0})]})]}),(0,n.jsx)(ReusableDropdown,{label:"Person",options:i,value:t.debtPerson,onChange:e=>a("debtPerson",e),placeholder:"Select person",className:"".concat(L().dropdownField," ").concat(L().gridField," ").concat(L().formFieldBase),onAddNew:()=>b("Person")}),l({className:"".concat(L().dateField," ").concat(L().gridField)}),(0,n.jsx)(ReusableDropdown,{label:"Account",options:s,value:t.account,onChange:e=>a("account",e),placeholder:"Select account",className:"".concat(L().dropdownField," ").concat(L().gridField," ").concat(L().formFieldBase),onAddNew:()=>b("Account")}),(0,n.jsx)(ReusableDropdown,{label:"Category",options:c,value:t.debtCategory,onChange:e=>a("debtCategory",e),placeholder:"Select category",className:"".concat(L().dropdownField," ").concat(L().gridField," ").concat(L().formFieldBase),onAddNew:()=>b("Debt Category")}),o({className:L().gridField}),g?(0,n.jsxs)("div",{className:"".concat(L().cashbackSection," ").concat(L().fullRow),children:[(0,n.jsxs)("div",{className:L().cashbackInputRow,children:[(0,n.jsxs)("div",{className:L().field,children:[(0,n.jsx)("label",{className:L().fieldLabel,htmlFor:"transaction-percent-back",children:"% Back"}),(0,n.jsx)("input",{id:"transaction-percent-back",type:"number",min:"0",max:"100",step:"0.01",inputMode:"decimal",className:"".concat(L().input," ").concat(L().formFieldBase," ").concat(L().percentBackInput),value:x,onChange:e=>a("percentBack",e.target.value),placeholder:"0.00"})]}),(0,n.jsxs)("div",{className:L().field,children:[(0,n.jsx)("label",{className:L().fieldLabel,htmlFor:"transaction-fixed-back",children:"Fix Back"}),(0,n.jsx)(AmountInput,{id:"transaction-fixed-back",value:y,onChange:e=>a("fixedBack",e),placeholder:"0",className:"".concat(L().input," ").concat(L().formFieldBase," ").concat(L().fixedBackInput)})]}),(0,n.jsxs)("div",{className:"".concat(L().toggleField," ").concat(L().formFieldBase," ").concat(L().noBackEngToggle),children:[(0,n.jsx)("span",{className:L().fieldLabel,id:N,children:"None Back"}),(0,n.jsx)("button",{type:"button",className:"".concat(L().switchButton," ").concat(T?L().switchButtonActive:""),onClick:()=>a("noBackEng",!T),role:"switch","aria-checked":T,"aria-labelledby":N,children:(0,n.jsx)("span",{className:L().switchTrack,children:(0,n.jsx)("span",{className:L().switchThumb})})})]})]}),(0,n.jsx)("div",{className:L().cashbackHint,children:k?"Suggested rate: X%. Raw=Y, Final=Z. Cap info.":"Enter Amount > 0 to calculate cashback."})]}):null,(0,n.jsx)(ReusableDropdown,{label:p,options:d,value:u,onChange:e=>m(e),placeholder:"Select or search debt tag",className:"".concat(L().dropdownField," ").concat(L().gridField," ").concat(L().formFieldBase),onAddNew:()=>b(h)}),(0,n.jsxs)("div",{className:"".concat(L().toggleField," ").concat(L().gridField," ").concat(L().formFieldBase),children:[(0,n.jsx)("span",{className:L().fieldLabel,id:C,children:"Last Month"}),(0,n.jsx)("button",{type:"button",className:"".concat(L().switchButton," ").concat(f?L().switchButtonActive:""),onClick:v,role:"switch","aria-checked":f,"aria-labelledby":C,children:(0,n.jsx)("span",{className:L().switchTrack,children:(0,n.jsx)("span",{className:L().switchThumb})})})]})]}),r({className:L().debtNotesField,fullRow:!1})]})}function ExpensesTabContent(e){let{formValues:t,updateField:a,renderDateField:l,renderAmountField:o,renderNotesField:r,accountOptions:i,categoryOptions:s,shopOptions:c,onOpenNewItemModal:d,isCashbackEligible:u,percentBack:m,fixedBack:p,noBackEng:h}=e,b=Number(t.amount)>0,_="expenses-no-back-eng-label";return(0,n.jsxs)("div",{className:L().formGrid,children:[l(),(0,n.jsx)(ReusableDropdown,{label:"Account",options:i,value:t.account,onChange:e=>a("account",e),placeholder:"Select account",className:L().dropdownField,onAddNew:()=>d("Account")}),o(),u?(0,n.jsxs)("div",{className:"".concat(L().cashbackSection," ").concat(L().fullRow),children:[(0,n.jsxs)("div",{className:L().cashbackInputRow,children:[(0,n.jsxs)("div",{className:L().field,children:[(0,n.jsx)("label",{className:L().fieldLabel,htmlFor:"expenses-percent-back",children:"% Back"}),(0,n.jsx)("input",{id:"expenses-percent-back",type:"number",min:"0",max:"100",step:"0.01",inputMode:"decimal",className:"".concat(L().input," ").concat(L().formFieldBase," ").concat(L().percentBackInput),value:m,onChange:e=>a("percentBack",e.target.value),placeholder:"0.00"})]}),(0,n.jsxs)("div",{className:L().field,children:[(0,n.jsx)("label",{className:L().fieldLabel,htmlFor:"expenses-fixed-back",children:"Fix Back"}),(0,n.jsx)(AmountInput,{id:"expenses-fixed-back",value:p,onChange:e=>a("fixedBack",e),placeholder:"0",className:"".concat(L().input," ").concat(L().formFieldBase," ").concat(L().fixedBackInput)})]}),(0,n.jsxs)("div",{className:"".concat(L().toggleField," ").concat(L().formFieldBase," ").concat(L().noBackEngToggle),children:[(0,n.jsx)("span",{className:L().fieldLabel,id:_,children:"None Back"}),(0,n.jsx)("button",{type:"button",className:"".concat(L().switchButton," ").concat(h?L().switchButtonActive:""),onClick:()=>a("noBackEng",!h),role:"switch","aria-checked":h,"aria-labelledby":_,children:(0,n.jsx)("span",{className:L().switchTrack,children:(0,n.jsx)("span",{className:L().switchThumb})})})]})]}),(0,n.jsx)("div",{className:L().cashbackHint,children:b?"Suggested rate: X%. Raw=Y, Final=Z. Cap info.":"Enter Amount > 0 to calculate cashback."})]}):null,(0,n.jsx)(ReusableDropdown,{label:"Category",options:s,value:t.expenseCategory,onChange:e=>a("expenseCategory",e),placeholder:"Select expense category",className:L().dropdownField,onAddNew:()=>d("Expense Category")}),(0,n.jsx)(ReusableDropdown,{label:"Shop (optional)",options:c,value:t.expenseShop,onChange:e=>a("expenseShop",e),placeholder:"Select shop",className:"".concat(L().dropdownField," ").concat(L().fullRow),onAddNew:()=>d("Shop")}),r()]})}function IncomeTabContent(e){let{formValues:t,updateField:a,renderDateField:l,renderAmountField:o,renderNotesField:r,accountOptions:i,categoryOptions:s,shopOptions:c,onOpenNewItemModal:d}=e;return(0,n.jsxs)("div",{className:L().formGrid,children:[l(),(0,n.jsx)(ReusableDropdown,{label:"Account",options:i,value:t.account,onChange:e=>a("account",e),placeholder:"Select account",className:L().dropdownField,onAddNew:()=>d("Account")}),o(),(0,n.jsx)(ReusableDropdown,{label:"Category",options:s,value:t.incomeCategory,onChange:e=>a("incomeCategory",e),placeholder:"Select income category",className:L().dropdownField,onAddNew:()=>d("Income Category")}),(0,n.jsx)(ReusableDropdown,{label:"Shop (optional)",options:c,value:t.incomeShop,onChange:e=>a("incomeShop",e),placeholder:"Select shop",className:"".concat(L().dropdownField," ").concat(L().fullRow),onAddNew:()=>d("Shop")}),r()]})}function TransferTabContent(e){let{formValues:t,updateField:a,renderDateField:l,renderAmountField:o,renderNotesField:r,accountOptions:i,categoryOptions:s,onOpenNewItemModal:c,isTransferAccountConflict:d}=e;return(0,n.jsxs)("div",{className:L().transferSection,children:[(0,n.jsxs)("div",{className:L().formRow,children:[l(),o()]}),(0,n.jsxs)("div",{className:L().formRow,children:[(0,n.jsx)(ReusableDropdown,{label:"Category",options:s,value:t.transferCategory,onChange:e=>a("transferCategory",e),placeholder:"Select transfer category",className:L().dropdownField,onAddNew:()=>c("Transfer Category")}),r({fullRow:!1})]}),(0,n.jsxs)("div",{className:L().formRow,children:[(0,n.jsx)(ReusableDropdown,{label:"From account",options:i,value:t.transferFromAccount,onChange:e=>a("transferFromAccount",e),placeholder:"Select source",className:L().dropdownField,hasError:d,onAddNew:()=>c("Account")}),(0,n.jsx)(ReusableDropdown,{label:"To account",options:i,value:t.transferToAccount,onChange:e=>a("transferToAccount",e),placeholder:"Select destination",className:L().dropdownField,hasError:d,onAddNew:()=>c("Account")})]}),d?(0,n.jsx)("p",{className:L().fieldError,children:"Cannot transfer to the same account"}):null]})}let D=["","ngh\xecn","triệu","tỷ","ngh\xecn tỷ","triệu tỷ","tỷ tỷ"],createGroupInfos=e=>{if(!e)return[];let t=[],a=e;for(;a.length>0;){let e=a.slice(-3);a=a.slice(0,-3),t.unshift(e)}return t.map((e,a)=>{let n=t.length-a-1,l=Number(e),o=String(l);return{numericValue:l,displayValue:o,unit:D[n]||""}})},sanitizeInput=e=>{if(null==e||"number"==typeof e&&Number.isNaN(e))return"";let t=String(e).trim();return t||""};var I=a(477);function usePeople(){let[e,t]=(0,l.useState)([]),[a,n]=(0,l.useState)(!1),[o,r]=(0,l.useState)(null),i=(0,l.useCallback)(async()=>{n(!0),r(null);try{let e=await fetch("/api/people");if(!e.ok){let t=await e.text();throw Error(t||"Failed to load people")}let a=await e.json(),n=Array.isArray(a)?a:null==a?void 0:a.people;if(!Array.isArray(n)){t([]);return}t(n)}catch(a){let e=a instanceof Error?a.message:"Unable to fetch people";r(e),t([])}finally{n(!1)}},[]),s=(0,l.useCallback)(async e=>{try{let a=await fetch("/api/people",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok){let e=await a.json();throw Error(e.error||e.details||"Failed to create person")}let n=await a.json();return t(e=>[...e,n]),n}catch(t){let e=t instanceof Error?t.message:"Failed to create person";return r(e),null}},[]);(0,l.useEffect)(()=>{i()},[i]);let c=e.filter(e=>"active"===e.status);return{people:e,activePeople:c,isLoading:a,error:o,refetch:i,createPerson:s}}let R=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],getTodayDateString=()=>{let e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate());return t.toISOString().slice(0,10)},buildMonthTag=function(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)return"";let[n,l]=e.split("-"),o=Number(n),r=Number(l);if(!Number.isFinite(o)||!Number.isFinite(r))return"";let i=new Date(o,r-1+a,1);if(Number.isNaN(i.getTime()))return"";let s=null!==(t=R[i.getMonth()])&&void 0!==t?t:"",c=String(i.getFullYear()).slice(-2).padStart(2,"0");return s?"".concat(s).concat(c):""},O={date:"",account:"",amount:"",notes:"",debtType:"debt",debtPerson:"",debtCategory:"",debtTag:"",debtLastMonth:!1,incomeCategory:"",incomeShop:"",expenseCategory:"",expenseShop:"",transferCategory:"",transferFromAccount:"",transferToAccount:"",percentBack:"",fixedBack:"",noBackEng:!1},createInitialFormState=()=>{let e=getTodayDateString(),t=buildMonthTag(e);return{...O,date:e,debtTag:t}},z=["Debt Category 1","Loan Repayment"],H=["Salary","Bonus"],V=["Groceries","Dining","Transport"],W=["Main Shop","Online Store","Local Market"],P=["AUG25","SEP25","OCT25","JUL25","JUN25","MAY25"],G=["Internal Transfer","Savings Allocation"],Q=[{value:"debt",label:"Debt",tone:"negative"},{value:"income",label:"Income",tone:"positive"},{value:"expenses",label:"Expenses",tone:"negative"},{value:"transfer",label:"Transfer",tone:"positive"}],q=Q[0].value;function AddTransactionModal(e){let{isOpen:t,onClose:a,onSave:r,onRequestClose:i}=e,{activeAccounts:s,createAccount:c}=(0,I.x)(),{activePeople:d}=usePeople(),u=(0,l.useRef)(createInitialFormState()),m=(0,l.useRef)(null),[h,b]=(0,l.useState)(q),[_,f]=(0,l.useState)(()=>u.current),[v,g]=(0,l.useState)(""),[x,y]=(0,l.useState)(u.current.date),[T,C]=(0,l.useState)(u.current.debtTag),[N,k]=(0,l.useState)(u.current.debtLastMonth),[j,A]=(0,l.useState)(!1),[B,w]=(0,l.useState)(!1),[M,S]=(0,l.useState)(""),[E,F]=(0,l.useState)(!1),[D,R]=(0,l.useState)(""),K=(0,l.useMemo)(()=>s.map(e=>e.accountName),[s]),U=(0,l.useMemo)(()=>d.map(e=>e.fullName),[d]),Y=(0,l.useMemo)(()=>buildMonthTag(x),[x]),J=(0,l.useMemo)(()=>buildMonthTag(x,-1),[x]),Z=(0,l.useMemo)(()=>{if(!x)return"";let[e,t,a]=x.split("-");return e&&t&&a?"".concat(a.padStart(2,"0"),"/").concat(t.padStart(2,"0"),"/").concat(e):""},[x]),X=(0,l.useMemo)(()=>"add-transaction-new-item-".concat(Math.random().toString(36).slice(2)),[]),$=(0,l.useCallback)(()=>{let e=createInitialFormState();u.current=e,f(e),y(e.date),C(e.debtTag),k(e.debtLastMonth),b(q),g(""),A(!1),S(""),F(!1),R("")},[]);(0,l.useEffect)(()=>{t&&$()},[t,$]);let ee=(0,l.useCallback)((e,t)=>{f(a=>({...a,[e]:t}))},[]),et=(0,l.useMemo)(()=>{var e;let t=null!==(e=u.current)&&void 0!==e?e:O;return Object.keys(t).some(e=>{let a=t[e],n=_[e];return"boolean"==typeof a?!!a!=!!n:(null!=a?a:"")!==(null!=n?n:"")})},[_]),ea=(0,l.useCallback)(()=>{$(),null==a||a()},[a,$]),en=(0,l.useCallback)(async()=>{if(!et){ea();return}if(i){try{let e=await i({hasChanges:!0});e&&ea()}catch(e){console.error(e)}return}F(!0)},[ea,et,i]);(0,l.useEffect)(()=>{if(!t)return;let handleKeyDown=e=>{"Escape"===e.key&&(e.preventDefault(),en())};return document.addEventListener("keydown",handleKeyDown),()=>{document.removeEventListener("keydown",handleKeyDown)}},[t,en]),(0,l.useEffect)(()=>{ee("date",x)},[x,ee]),(0,l.useEffect)(()=>{let e=N?J:Y;e&&C(t=>t===e?t:e)},[Y,J,N]),(0,l.useEffect)(()=>{ee("debtTag",null!=T?T:"")},[T,ee]),(0,l.useEffect)(()=>{ee("debtLastMonth",N)},[N,ee]);let el="add-transaction-modal-title",eo="add-transaction-modal-description",handleNotesChange=e=>{ee("notes",e.target.value)},er=(0,l.useCallback)(()=>{requestAnimationFrame(()=>{var e;null===(e=m.current)||void 0===e||e.focus()})},[]),ei=(0,l.useCallback)(()=>{if(!_.notes){v&&g("");return}g(_.notes),ee("notes",""),er()},[_.notes,er,v,ee]),es=(0,l.useCallback)(()=>{v&&(ee("notes",v),g(""),er())},[er,v,ee]);(0,l.useEffect)(()=>{if(!t)return;let e=m.current;if(!e)return;let handleNotesKeyDown=t=>{if("Escape"===t.key&&t.target===e){if(t.preventDefault(),t.stopPropagation(),_.notes){ei();return}if(v){es();return}en()}};return e.addEventListener("keydown",handleNotesKeyDown),()=>{e.removeEventListener("keydown",handleNotesKeyDown)}},[_.notes,ei,es,t,v,en]),(0,l.useEffect)(()=>{v&&_.notes&&_.notes!==v&&g("")},[_.notes,v]);let ec="repay"===_.debtType,ed="Sacombank"===_.account,eu=N?J:Y,em=(0,l.useMemo)(()=>{let e=new Set(P);return eu&&e.add(eu),T&&e.add(T),Array.from(e).filter(Boolean).sort()},[eu,T]),ep=(0,l.useMemo)(()=>{let e=_.transferFromAccount,t=_.transferToAccount;return!!(e&&t&&e===t)},[_.transferFromAccount,_.transferToAccount]),eh=(0,l.useCallback)(()=>{k(e=>!e)},[]),renderDateField=function(){let{label:e="Date",className:t="",showFormatted:a=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=[L().field,t].filter(Boolean).join(" ");return(0,n.jsxs)("div",{className:l,children:[(0,n.jsxs)("div",{className:L().fieldLabelRow,children:[(0,n.jsx)("label",{className:L().fieldLabel,htmlFor:"transaction-date",children:e}),a&&Z?(0,n.jsx)("span",{className:L().dateDisplay,children:Z}):null]}),(0,n.jsx)("input",{id:"transaction-date",type:"date",className:"".concat(L().input," ").concat(L().formFieldBase),value:x,onChange:e=>y(e.target.value)})]})},eb=(0,l.useMemo)(()=>{if(D)return[];let e=function(e){let t=sanitizeInput(e);if(!t)return[];let a=t.startsWith("-"),n=a?t.slice(1):t;if(!/^\d+(?:\.\d+)?$/.test(n))return[];let[l,o=""]=n.split("."),r=l.replace(/^0+(?=\d)/,"")||"0";if("0"===r)return[];let i=createGroupInfos(r),s=i.filter(e=>0!==e.numericValue);if(0===s.length)return[];let c=s.slice(0,2),d=[];if(a&&d.push({part:"\xe2m",isNumber:!1}),c.forEach((e,t)=>{d.length>0&&d.push({part:" ",isNumber:!1}),d.push({part:e.displayValue,isNumber:!0}),e.unit&&d.push({part:" ".concat(e.unit),isNumber:!1})}),0===d.length)return[];let u=i.length>c.length||o.length>0;return u&&d.push({part:" ...",isNumber:!1}),d.push({part:" đồng",isNumber:!1}),d}(_.amount);return e.map((e,t)=>({...e,key:"".concat(t,"-").concat(e.part,"-").concat(e.isNumber?"n":"t")}))},[D,_.amount]),renderAmountField=function(){let{className:e=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[L().field,e].filter(Boolean).join(" "),a="string"==typeof D&&D.startsWith("Error:"),l=[L().amountWordsPlaceholderInline,p().historyText,a?p().historyError:""].filter(Boolean).join(" ");return(0,n.jsxs)("div",{className:t,children:[(0,n.jsxs)("div",{className:L().fieldLabelRow,children:[(0,n.jsx)("label",{className:L().fieldLabel,htmlFor:"transaction-amount",children:"Amount"}),D?(0,n.jsx)("span",{className:l,children:D}):eb.length>0?(0,n.jsx)("span",{className:L().amountWordsPlaceholderInline,children:eb.map(e=>(0,n.jsx)("span",{className:e.isNumber?p().amountWordsNumber:void 0,children:e.part},e.key))}):null]}),(0,n.jsx)(AmountInput,{id:"transaction-amount",value:_.amount,onChange:e=>ee("amount",e),onHistoryChange:R,placeholder:"0",className:"".concat(L().input," ").concat(L().formFieldBase)})]})},renderNotesField=function(){let{className:e="",fullRow:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=[L().field,L().notesFieldContainer];return t&&a.push(L().fullRow),e&&a.push(e),(0,n.jsxs)("div",{className:a.join(" "),children:[(0,n.jsx)("div",{className:L().fieldLabelRow,children:(0,n.jsx)("label",{className:L().fieldLabel,htmlFor:"transaction-notes",children:"Notes"})}),(0,n.jsxs)("div",{className:L().inputWrapper,children:[(0,n.jsx)("textarea",{id:"transaction-notes",className:L().textarea,value:_.notes,onChange:handleNotesChange,placeholder:"Add a note or short description",rows:1,ref:m}),(0,n.jsxs)("div",{className:L().notesActions,children:[_.notes?(0,n.jsx)("button",{type:"button",className:"".concat(L().notesIconButton," ").concat(L().notesClearButton),onClick:ei,"aria-label":"Clear notes",title:"Clear notes",children:(0,n.jsx)(o.q5L,{"aria-hidden":!0})}):null,!_.notes&&v?(0,n.jsx)("button",{type:"button",className:"".concat(L().notesIconButton," ").concat(L().notesRestoreButton),onClick:es,"aria-label":"Restore last cleared notes",title:"Restore last cleared notes",children:(0,n.jsx)(o.bxQ,{"aria-hidden":!0})}):null]})]})]})},e_=(0,l.useCallback)(e=>{S(e),"Account"===e?w(!0):A(!0)},[]),ef=(0,l.useCallback)(()=>{A(!1),S("")},[]),ev=(0,l.useCallback)(()=>{w(!1),S("")},[]),eg=(0,l.useCallback)(async e=>{try{let t=await c(e);if(t)return ee("account",t.accountName),"transfer"!==h||(_.transferFromAccount?_.transferToAccount||ee("transferToAccount",t.accountName):ee("transferFromAccount",t.accountName)),!0;return!1}catch(e){return console.error("Failed to create account",e),!1}},[c,ee,h,_]),ex=(0,l.useCallback)(()=>{F(!1),ea()},[ea]),ey=(0,l.useCallback)(()=>{F(!1)},[]);return t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:L().overlay,onClick:e=>{e.target===e.currentTarget&&en()},children:(0,n.jsxs)("div",{className:L().modal,onClick:e=>e.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":el,"aria-describedby":eo,children:[(0,n.jsxs)("header",{className:L().header,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:L().title,id:el,children:"Add New Transaction"}),(0,n.jsx)("p",{className:L().subtitle,id:eo,children:"Capture every inflow, expense, or transfer without leaving the history screen."})]}),(0,n.jsx)("button",{type:"button",className:L().closeButton,onClick:en,"aria-label":"Close",children:(0,n.jsx)(o.q5L,{"aria-hidden":!0})})]}),(0,n.jsxs)("div",{className:L().modalBody,children:[(0,n.jsx)("div",{className:L().transactionTypeSelector,children:(0,n.jsx)(SegmentedControl,{className:L().transactionTypeSegmented,options:Q,value:h,onChange:e=>{let t=Q.some(t=>t.value===e);b(t?e:q)},name:"transaction-type",ariaLabel:"Transaction Type"})}),(0,n.jsxs)("section",{className:L().tabPanel,id:"add-transaction-panel-".concat(h),role:"region","aria-labelledby":"transaction-type-".concat(h),children:["debt"===h?(0,n.jsx)(DebtTabContent,{formValues:_,updateField:ee,renderDateField:renderDateField,renderAmountField:renderAmountField,renderNotesField:renderNotesField,personOptions:U,accountOptions:K,debtCategoryOptions:z,debtTagOptions:em,selectedDebtTag:T,onDebtTagSelect:e=>{C(e||"")},debtTagLabel:ec?"Debt Repayments":"Debt Tag",debtTagModalType:ec?"Debt Repayment":"Debt Tag",onOpenNewItemModal:e_,isRepayMode:ec,isLastMonth:N,onToggleLastMonth:eh,isCashbackEligible:ed,percentBack:_.percentBack,fixedBack:_.fixedBack,noBackEng:_.noBackEng}):null,"income"===h?(0,n.jsx)(IncomeTabContent,{formValues:_,updateField:ee,renderDateField:renderDateField,renderAmountField:renderAmountField,renderNotesField:renderNotesField,accountOptions:K,categoryOptions:H,shopOptions:W,onOpenNewItemModal:e_}):null,"expenses"===h?(0,n.jsx)(ExpensesTabContent,{formValues:_,updateField:ee,renderDateField:renderDateField,renderAmountField:renderAmountField,renderNotesField:renderNotesField,accountOptions:K,categoryOptions:V,shopOptions:W,onOpenNewItemModal:e_,isCashbackEligible:ed,percentBack:_.percentBack,fixedBack:_.fixedBack,noBackEng:_.noBackEng}):null,"transfer"===h?(0,n.jsx)(TransferTabContent,{formValues:_,updateField:ee,renderDateField:renderDateField,renderAmountField:renderAmountField,renderNotesField:renderNotesField,accountOptions:K,categoryOptions:G,onOpenNewItemModal:e_,isTransferAccountConflict:ep}):null]})]}),(0,n.jsxs)("footer",{className:L().actions,children:[(0,n.jsx)("button",{type:"button",className:L().secondaryButton,onClick:en,children:"Cancel"}),(0,n.jsx)("button",{type:"button",className:L().primaryButton,onClick:()=>{let e={..._,kind:h};r?r(e):console.log("Save transaction draft",e),ea()},children:"Save Transaction"})]})]})}),(0,n.jsx)(ConfirmationModal,{isOpen:E,title:"Discard unsaved changes?",message:"You have transaction details that haven't been saved yet. Closing now will discard them.",confirmLabel:"Discard",cancelLabel:"Keep editing",confirmTone:"danger",onConfirm:ex,onCancel:ey}),(0,n.jsx)(accounts_AddAccountOverlay,{isOpen:B,onClose:ev,onSubmit:eg}),j?(0,n.jsx)("div",{className:L().mockOverlay,role:"dialog","aria-modal":"true","aria-labelledby":X,onClick:e=>{e.target===e.currentTarget&&ef()},children:(0,n.jsxs)("div",{className:L().mockModal,role:"document",onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("h3",{className:L().mockModalTitle,id:X,children:M?"Add New ".concat(M):"Add New Item"}),(0,n.jsx)("p",{className:L().mockModalBody,children:"This is a placeholder modal for creating new dropdown entries. Replace it with the appropriate form when ready."}),(0,n.jsx)("button",{type:"button",className:L().mockModalButton,onClick:ef,children:"Close Mock"})]})}):null]}):null}var K=a(1420),U=a.n(K);let Y=(0,C.Gd)(),J=(0,C.JV)(),Z=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"archived",label:"Archived"}];var common_AddModalGlobal=function(e){var t,a,r,i,s,c;let{type:d,isOpen:u,onClose:m,onSubmit:p}=e,{activePeople:h,isLoading:b}=usePeople(),[_,f]=(0,l.useState)(!1),[v,g]=(0,l.useState)(""),[x,y]=(0,l.useState)(null!==(i=null===(t=Y[0])||void 0===t?void 0:t.value)&&void 0!==i?i:"bank"),[T,C]=(0,l.useState)(""),[N,k]=(0,l.useState)("0"),[j,A]=(0,l.useState)(null!==(s=null===(a=J[0])||void 0===a?void 0:a.value)&&void 0!==s?s:"active"),[B,w]=(0,l.useState)(""),[M,S]=(0,l.useState)(""),[E,F]=(0,l.useState)(""),[L,D]=(0,l.useState)(null!==(c=null===(r=Z[0])||void 0===r?void 0:r.value)&&void 0!==c?c:"active");(0,l.useEffect)(()=>{"account"===d&&!T&&h.length>0&&C(h[0].personId)},[d,h,T]);let I=(0,l.useMemo)(()=>{switch(d){case"transaction":return"+ Add Transaction";case"person":return"+ Add Person";default:return"+ Add Account"}},[d]);if((0,l.useEffect)(()=>{var e,t,a,n,l,o;if(!u){f(!1);return}f(!1),g(""),y(null!==(n=null===(e=Y[0])||void 0===e?void 0:e.value)&&void 0!==n?n:"bank"),C(h.length>0?h[0].personId:""),k("0"),A(null!==(l=null===(t=J[0])||void 0===t?void 0:t.value)&&void 0!==l?l:"active"),w(""),S(""),F(""),D(null!==(o=null===(a=Z[0])||void 0===a?void 0:a.value)&&void 0!==o?o:"active")},[u,h]),(0,l.useEffect)(()=>{if(!u||"undefined"==typeof document)return;let e=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}},[u]),(0,l.useEffect)(()=>{if(!u||"transaction"===d)return;let e=document.querySelector("#add-modal-field-".concat("account"===d?"accountName":"personName"));null==e||e.focus({preventScroll:!0})},[u,d]),!u)return null;if("transaction"===d)return(0,n.jsx)(AddTransactionModal,{isOpen:u,onClose:m,onRequestClose:m,onSave:e=>{null==p||p("transaction",e)}});let handleSubmit=async e=>{if(e.preventDefault(),!_){if("account"===d&&!T){alert("Please select an account owner");return}try{if(f(!0),"account"===d){let e=parseFloat(N)||0,t={accountName:v.trim(),accountType:x,ownerId:T,openingBalance:e,currentBalance:e,status:j,notes:B.trim()};await (null==p?void 0:p("account",t))}else if("person"===d){let e={fullName:M.trim(),contactInfo:E.trim(),status:L};await (null==p?void 0:p("person",e))}m()}finally{f(!1)}}};return(0,n.jsx)("div",{className:U().overlay,role:"presentation",onClick:e=>e.target===e.currentTarget&&m(),children:(0,n.jsxs)("div",{className:U().dialog,role:"dialog","aria-modal":"true","aria-label":I,children:[(0,n.jsxs)("div",{className:U().header,children:[(0,n.jsx)("h2",{className:U().title,children:I}),(0,n.jsx)("button",{type:"button",className:U().closeButton,onClick:m,"aria-label":"Close add modal",children:(0,n.jsx)(o.q5L,{"aria-hidden":!0})})]}),(0,n.jsxs)("form",{className:U().content,onSubmit:handleSubmit,children:["account"===d?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("label",{className:U().field,htmlFor:"add-modal-field-accountName",children:[(0,n.jsx)("span",{className:U().fieldLabel,children:"Account name"}),(0,n.jsx)("input",{id:"add-modal-field-accountName",className:U().input,value:v,onChange:e=>g(e.target.value),required:!0,placeholder:"e.g., Vietcombank Savings"})]}),(0,n.jsxs)("label",{className:U().field,htmlFor:"add-modal-field-accountType",children:[(0,n.jsx)("span",{className:U().fieldLabel,children:"Account type"}),(0,n.jsx)("select",{id:"add-modal-field-accountType",className:U().input,value:x,onChange:e=>y(e.target.value),children:Y.map(e=>(0,n.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,n.jsxs)("label",{className:U().field,htmlFor:"add-modal-field-ownerId",children:[(0,n.jsx)("span",{className:U().fieldLabel,children:"Owner"}),(0,n.jsx)("select",{id:"add-modal-field-ownerId",className:U().input,value:T,onChange:e=>C(e.target.value),required:!0,disabled:b||0===h.length,children:0===h.length?(0,n.jsx)("option",{value:"",children:"No active people available"}):h.map(e=>(0,n.jsx)("option",{value:e.personId,children:e.fullName},e.personId))})]}),(0,n.jsxs)("label",{className:U().field,htmlFor:"add-modal-field-openingBalance",children:[(0,n.jsx)("span",{className:U().fieldLabel,children:"Opening balance"}),(0,n.jsx)("input",{id:"add-modal-field-openingBalance",className:U().input,type:"number",min:"0",step:"0.01",value:N,onChange:e=>k(e.target.value),required:!0,placeholder:"0.00"})]}),(0,n.jsxs)("label",{className:U().field,htmlFor:"add-modal-field-accountStatus",children:[(0,n.jsx)("span",{className:U().fieldLabel,children:"Status"}),(0,n.jsx)("select",{id:"add-modal-field-accountStatus",className:U().input,value:j,onChange:e=>A(e.target.value),children:J.map(e=>(0,n.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,n.jsxs)("label",{className:U().field,htmlFor:"add-modal-field-accountNote",children:[(0,n.jsx)("span",{className:U().fieldLabel,children:"Notes"}),(0,n.jsx)("textarea",{id:"add-modal-field-accountNote",className:U().textarea,rows:3,value:B,onChange:e=>w(e.target.value),placeholder:"Optional notes about this account"})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("label",{className:U().field,htmlFor:"add-modal-field-personName",children:[(0,n.jsx)("span",{className:U().fieldLabel,children:"Full name"}),(0,n.jsx)("input",{id:"add-modal-field-personName",className:U().input,value:M,onChange:e=>S(e.target.value),required:!0})]}),(0,n.jsxs)("label",{className:U().field,htmlFor:"add-modal-field-personEmail",children:[(0,n.jsx)("span",{className:U().fieldLabel,children:"Email (optional)"}),(0,n.jsx)("input",{id:"add-modal-field-personEmail",className:U().input,type:"email",value:E,onChange:e=>F(e.target.value),placeholder:"name@example.com"})]}),(0,n.jsxs)("label",{className:U().field,htmlFor:"add-modal-field-personStatus",children:[(0,n.jsx)("span",{className:U().fieldLabel,children:"Status"}),(0,n.jsx)("select",{id:"add-modal-field-personStatus",className:U().input,value:L,onChange:e=>D(e.target.value),children:Z.map(e=>(0,n.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,n.jsxs)("div",{className:U().footer,children:[(0,n.jsx)("button",{type:"button",className:U().secondaryButton,onClick:m,disabled:_,children:"Cancel"}),(0,n.jsx)("button",{type:"submit",className:U().primaryButton,disabled:_,children:_?"Saving…":"Save"})]})]})]})})}},1210:function(e,t,a){"use strict";var n=a(5893);a(7294);var l=a(6935),o=a.n(l);t.Z=function(e){let{message:t="Loading…",className:a}=e,l=[o().container,a].filter(Boolean).join(" ");return(0,n.jsxs)("div",{className:l,role:"status","aria-live":"polite",children:[(0,n.jsx)("span",{className:o().spinner,"aria-hidden":!0}),t?(0,n.jsx)("span",{className:o().label,children:t}):null]})}},2015:function(e,t,a){"use strict";var n=a(5893),l=a(7294),o=a(1425),r=a(4879),i=a(6606),s=a(3114),c=a(3692),d=a(3040),u=a.n(d);let m={transactions:[{id:"income",label:"Income",description:"Log incoming funds",icon:(0,n.jsx)(c.UJB,{"aria-hidden":!0})},{id:"expense",label:"Expense",description:"Track outgoing spend",icon:(0,n.jsx)(c.OeJ,{"aria-hidden":!0})},{id:"transfer",label:"Transfer",description:"Move money between accounts",icon:(0,n.jsx)(c.yG,{"aria-hidden":!0})},{id:"refund",label:"Refund",description:"Credit back a transaction",icon:(0,n.jsx)(c.Bw1,{"aria-hidden":!0})}],accounts:[{id:"cashAccount",label:"Cash Wallet",description:"Create a cash account",icon:(0,n.jsx)(c.ggF,{"aria-hidden":!0})},{id:"bankAccount",label:"Bank Account",description:"Connect or add bank ledger",icon:(0,n.jsx)(c.QqI,{"aria-hidden":!0})},{id:"creditLine",label:"Credit Line",description:"Add a credit or charge card",icon:(0,n.jsx)(c.XiQ,{"aria-hidden":!0})},{id:"loanAccount",label:"Loan",description:"Track a loan or liability",icon:(0,n.jsx)(c.yG,{"aria-hidden":!0})}]};function isMobileViewport(){return window.matchMedia("(max-width: 720px)").matches}t.Z=function(e){let{context:t,onSelect:a,className:d,disabled:p=!1,triggerLabel:h="Quick add",triggerAriaLabel:b}=e,_=(0,l.useRef)(null),[f,v]=(0,l.useState)(!1),[g,x]=(0,l.useState)(()=>isMobileViewport()),[y,T]=(0,l.useState)({}),[C,N]=(0,l.useState)(!1);(0,l.useEffect)(()=>{N(!0)},[]);let k=(0,l.useCallback)(()=>{let e=_.current;if(!e)return;let t=e.getBoundingClientRect(),a=Math.max(t.width,320),n=t.bottom+12,l=window.innerWidth,o=Math.min(Math.max(t.left,12),Math.max(l-a-12,12));T({"--qa-top":"".concat(n,"px"),"--qa-left":"".concat(o,"px"),"--qa-min-width":"".concat(a,"px")})},[]);(0,l.useEffect)(()=>{let handleResize=()=>{let e=isMobileViewport();x(e),e||k()};return window.addEventListener("resize",handleResize),()=>window.removeEventListener("resize",handleResize)},[k]);let j=(0,l.useMemo)(()=>{var e;return null!==(e=m[t])&&void 0!==e?e:[]},[t]),closeModal=()=>{v(!1)};(0,l.useEffect)(()=>{if(!f||g)return;k();let handleScroll=()=>k();return window.addEventListener("scroll",handleScroll,!0),()=>window.removeEventListener("scroll",handleScroll,!0)},[f,g,k]);let handleSelect=e=>{null==a||a(t,e),closeModal()};return(0,n.jsxs)("div",{className:d,children:[(0,n.jsxs)("button",{ref:_,type:"button",className:u().trigger,disabled:p,onClick:()=>{!p&&(v(!0),g||k())},"aria-label":null!=b?b:h,children:[(0,n.jsx)("span",{className:u().triggerIcon,"aria-hidden":!0,children:(0,n.jsx)(c.Wqx,{})}),(0,n.jsx)("span",{className:u().triggerLabel,children:h})]}),C?(0,n.jsx)(o.u,{show:f,as:l.Fragment,appear:!0,children:(0,n.jsxs)(r.V,{as:"div",className:u().root,onClose:closeModal,static:!0,children:[(0,n.jsx)(o.u.Child,{as:l.Fragment,enter:u().backdropEnter,enterFrom:u().backdropEnterFrom,enterTo:u().backdropEnterTo,leave:u().backdropLeave,leaveFrom:u().backdropLeaveFrom,leaveTo:u().backdropLeaveTo,children:(0,n.jsx)("div",{className:u().backdrop,"aria-hidden":!0})}),(0,n.jsx)("div",{className:u().wrapper,"data-mobile":g?"true":void 0,style:g?void 0:y,children:(0,n.jsx)(o.u.Child,{as:l.Fragment,enter:u().panelEnter,enterFrom:u().panelEnterFrom,enterTo:u().panelEnterTo,leave:u().panelLeave,leaveFrom:u().panelLeaveFrom,leaveTo:u().panelLeaveTo,children:(0,n.jsxs)(r.V.Panel,{className:u().panel,"data-mobile":g?"true":void 0,children:[(0,n.jsxs)("header",{className:u().header,children:[(0,n.jsx)("span",{className:u().headerIcon,"aria-hidden":!0,children:(0,n.jsx)(c.Wqx,{})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(r.V.Title,{className:u().title,children:"Quick add"}),(0,n.jsx)("p",{className:u().subtitle,children:"Choose an action to jump straight into a new entry."})]}),(0,n.jsx)("button",{type:"button",onClick:closeModal,className:u().closeButton,"aria-label":"Close quick add",children:"\xd7"})]}),(0,n.jsx)(i.E.ul,{className:u().actionList,initial:"hidden",animate:"visible",variants:{hidden:{},visible:{transition:{staggerChildren:.06,delayChildren:.05}}},children:(0,n.jsx)(s.M,{children:j.map(e=>(0,n.jsx)(i.E.li,{variants:{hidden:{opacity:0,y:12},visible:{opacity:1,y:0}},exit:{opacity:0,y:-8},children:(0,n.jsxs)("button",{type:"button",className:u().actionButton,onClick:()=>handleSelect(e.id),children:[(0,n.jsx)("span",{className:u().actionIcon,children:e.icon}),(0,n.jsxs)("span",{className:u().actionMeta,children:[(0,n.jsx)("span",{className:u().actionLabel,children:e.label}),(0,n.jsx)("span",{className:u().actionDescription,children:e.description})]})]})},e.id))})})]})})})]})}):null]})}},3735:function(e,t,a){"use strict";var n=a(5893),l=a(7294),o=a(1425),r=a(4879),i=a(9850),s=a(7134),c=a(3692),d=a(5433),u=a.n(d);function normalizeColumns(e,t){return t.map(t=>{var a;let n="accounts"===e&&"accountName"===t.id,l=!!(t.mandatory||n);return{...t,pinned:null!==(a=t.pinned)&&void 0!==a?a:null,visible:!!l||!1!==t.visible,locked:t.locked||l,mandatory:l}})}t.Z=function(e){let{context:t,open:a,columns:d,defaultColumns:m,onClose:p,onChange:h}=e,[b,_]=(0,l.useState)(()=>normalizeColumns(t,d));(0,l.useEffect)(()=>{a&&_(normalizeColumns(t,d))},[a,d,t]);let f=(0,l.useMemo)(()=>"accounts"===t?"Customize account columns":"Customize transaction columns",[t]),emitChange=e=>{_(e),h(normalizeColumns(t,e))},handleToggleVisibility=e=>{let t=b.map(t=>t.id!==e||t.locked?t:{...t,visible:!t.visible});emitChange(t)};return(0,n.jsx)(o.u,{show:a,as:l.Fragment,appear:!0,children:(0,n.jsxs)(r.V,{as:"div",className:u().root,onClose:p,children:[(0,n.jsx)(o.u.Child,{as:l.Fragment,enter:u().backdropEnter,enterFrom:u().backdropEnterFrom,enterTo:u().backdropEnterTo,leave:u().backdropLeave,leaveFrom:u().backdropLeaveFrom,leaveTo:u().backdropLeaveTo,children:(0,n.jsx)("div",{className:u().backdrop,"aria-hidden":"true"})}),(0,n.jsx)("div",{className:u().wrapper,children:(0,n.jsx)(o.u.Child,{as:l.Fragment,enter:u().panelEnter,enterFrom:u().panelEnterFrom,enterTo:u().panelEnterTo,leave:u().panelLeave,leaveFrom:u().panelLeaveFrom,leaveTo:u().panelLeaveTo,children:(0,n.jsxs)(r.V.Panel,{className:u().panel,children:[(0,n.jsxs)("header",{className:u().header,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(r.V.Title,{className:u().title,children:f}),(0,n.jsx)("p",{className:u().subtitle,children:"Drag to reorder and toggle visibility. Mandatory columns stay visible."})]}),(0,n.jsxs)("div",{className:u().headerButtons,children:[(0,n.jsx)("button",{type:"button",onClick:()=>{let e=b.map(e=>e.locked?e:{...e,visible:!0});emitChange(e)},className:u().headerButton,children:"Show all"}),(0,n.jsx)("button",{type:"button",onClick:()=>{let e=normalizeColumns(t,m);emitChange(e)},className:u().headerButton,children:"Reset"}),(0,n.jsx)("button",{type:"button",onClick:p,className:u().closeButton,"aria-label":"Close customize modal",children:(0,n.jsx)(c.q5L,{"aria-hidden":!0})})]})]}),(0,n.jsx)(i.M,{axis:"y",values:b,onReorder:e=>{emitChange(e)},className:u().columnList,children:b.map(e=>(0,n.jsxs)(s.e,{value:e,className:u().columnItem,dragListener:!e.locked,"aria-disabled":e.locked?"true":void 0,children:[(0,n.jsx)("span",{className:u().columnDragHandle,"aria-hidden":!0,children:"⠿"}),(0,n.jsxs)("div",{className:u().columnChipBody,children:[(0,n.jsxs)("div",{className:u().columnMeta,children:[(0,n.jsx)("span",{className:u().columnLabel,children:e.label}),e.locked?(0,n.jsx)("span",{className:u().columnHint,children:"Locked"}):null]}),(0,n.jsx)("div",{className:u().columnControls,children:e.locked?(0,n.jsxs)("span",{className:u().lockBadge,children:[(0,n.jsx)(c.UIZ,{"aria-hidden":!0}),"Mandatory"]}):(0,n.jsx)("button",{type:"button",className:u().columnControlButton,onClick:()=>handleToggleVisibility(e.id),"aria-label":"".concat(e.visible?"Hide":"Show"," ").concat(e.label),children:e.visible?(0,n.jsx)(c.rDJ,{"aria-hidden":!0}):(0,n.jsx)(c.rzC,{"aria-hidden":!0})})})]})]},e.id))})]})})})]})})}},5832:function(e,t,a){"use strict";a.d(t,{W8:function(){return T}});var n=a(5893),l=a(7294),o=a(388),r=a.n(o),i=a(1210),s=a(7871);function normalizeNumericWidth(e){let t=Number(e);return Number.isFinite(t)&&t>0?t:null}function resolveColumnSizing(e,t){var a,n;let l=null!==(a=normalizeNumericWidth(null==t?void 0:t.minWidth))&&void 0!==a?a:120,o=null!==(n=normalizeNumericWidth(null==t?void 0:t.defaultWidth))&&void 0!==n?n:l,r=normalizeNumericWidth(null==e?void 0:e.width),i=Math.max(null!=r?r:o,l);return{width:i,minWidth:i}}var c=a(3692),d=a(9786),u=a.n(d),m=a(3935),p=a(1312),h=a.n(p);function Tooltip(e){let{content:t,children:a}=e,o=(0,l.useRef)(null),[r,i]=(0,l.useState)(!1),[s,c]=(0,l.useState)({top:0,left:0});(0,l.useEffect)(()=>(i(!0),()=>i(!1)),[]);let d=(0,l.useCallback)(()=>{if(!o.current)return;let e=o.current.getBoundingClientRect(),t=e.top+window.scrollY,a=e.left+e.width/2+window.scrollX;c(e=>e.top===t&&e.left===a?e:{top:t,left:a})},[]),[u,p]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(!u)return;d();let handleScroll=()=>d();return window.addEventListener("scroll",handleScroll,!0),window.addEventListener("resize",handleScroll),()=>{window.removeEventListener("scroll",handleScroll,!0),window.removeEventListener("resize",handleScroll)}},[u,d]);let b=l.Children.only(a),_=b.ref,f={...b.props,ref:e=>{o.current=e,"function"==typeof _?_(e):_&&"object"==typeof _&&(_.current=e)},onMouseEnter:e=>{d(),p(!0),b.props.onMouseEnter&&b.props.onMouseEnter(e)},onMouseLeave:e=>{p(!1),b.props.onMouseLeave&&b.props.onMouseLeave(e)},onFocus:e=>{d(),p(!0),b.props.onFocus&&b.props.onFocus(e)},onBlur:e=>{p(!1),b.props.onBlur&&b.props.onBlur(e)}},v=r&&u?(0,m.createPortal)((0,n.jsx)("div",{className:h().tooltip,role:"tooltip",style:{top:s.top,left:s.left},children:t}),document.body):null;return(0,n.jsxs)(n.Fragment,{children:[(0,l.cloneElement)(b,f),v]})}function SortGlyph(e){let{direction:t,isLoading:a}=e;return a?(0,n.jsx)("span",{className:u().sortSpinner,"aria-hidden":!0}):"asc"===t?(0,n.jsx)(c.rH8,{"aria-hidden":!0}):"desc"===t?(0,n.jsx)(c.bTu,{"aria-hidden":!0}):(0,n.jsx)(c.ego,{"aria-hidden":!0})}function TableBaseHeader(e){let{columns:t,visibleColumnIds:a=[],isColumnReorderMode:o=!1,activeDropTarget:i,onColumnDragStart:s,onColumnDragEnter:d,onColumnDragOver:m,onColumnDrop:p,onColumnDragEnd:h,allSelected:b=!1,isIndeterminate:_=!1,onSelectAll:f,headerCheckboxRef:v,onColumnVisibilityChange:g,sortState:x,onSortChange:y,isFetching:T=!1,transactions:C=[],pinnedLeftOffsets:N=new Map,pinnedRightOffsets:k=new Map}=e,j=(0,l.useMemo)(()=>new Set(a),[a]),A=j.size,B=(0,l.useMemo)(()=>{if(!Array.isArray(C)||0===C.length)return new Set;let e=new Set;return t.forEach(t=>{if(!(null==t?void 0:t.id))return;let a=C.some(e=>{let a=function(e,t){var a;if(!e||!t)return null;let{id:n}=t;if(!n)return null;let l=e[n];if(void 0!==l)return l;let o=null===(a=t.definition)||void 0===a?void 0:a.valueKey;return o&&o in e?e[o]:null}(e,t);return function hasMeaningfulValue(e){if(null==e)return!1;if("number"==typeof e)return Math.abs(e)>0;if("string"==typeof e){let t=e.trim();if(!t)return!1;if(/^[-+]?[$€£¥]?\s*[\d.,]+%?$/.test(t)){let e=t.replace(/[$€£¥]/g,"").replace(/[,\s]/g,"").replace(/%$/,""),a=Number(e);if(Number.isFinite(a))return Math.abs(a)>0}return!0}return"boolean"==typeof e?!0===e:Array.isArray(e)?e.some(e=>hasMeaningfulValue(e)):"object"!=typeof e||Object.values(e).some(e=>hasMeaningfulValue(e))}(a)});a||e.add(t.id)}),e},[t,C]);return(0,n.jsx)("thead",{className:u().tableHeader,children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{scope:"col",className:"".concat(u().headerCell," ").concat(r().checkboxCell," ").concat(r().stickyLeft),style:{minWidth:"".concat(48,"px"),width:"".concat(48,"px")},children:(0,n.jsx)("div",{className:r().checkboxCellInner,children:(0,n.jsx)("div",{className:u().headerCheckboxInner,children:(0,n.jsx)("input",{ref:v,type:"checkbox","aria-label":"Select all rows","aria-checked":_?"mixed":b?"true":"false",checked:b,onChange:e=>null==f?void 0:f(e.target.checked),"data-testid":"transaction-select-all",disabled:o})})})}),t.map(e=>{var t,a,l;let{id:c,column:b,definition:_,minWidth:f,width:v,align:C,pinned:w}=e,M=null!==(t=null==_?void 0:_.label)&&void 0!==t?t:b.id,S=!1===b.visible,E=o&&i===c,F=!1!==b.visible,L="notes"!==c,D=F&&A<=1&&j.has(c),I=L&&!D,R=(null==x?void 0:x.columnId)===c&&x.direction,O=R?x.direction:null,z=R&&T,H=R?"asc"===O?"ascending":"descending":"none",V="task"===c,W=[u().headerCell,r().bodyCell,"right"===C?r().cellAlignRight:"center"===C?r().cellAlignCenter:"",o?u().headerReorder:"",E?u().headerDropTarget:"",S&&o?u().headerHidden:"",V?u().taskHeaderCell:"","left"===w?r().stickyLeft:"","right"===w?r().stickyRight:""].filter(Boolean).join(" "),P=B.has(c),G=P?"Sorting unavailable for ".concat(M):R?"asc"===O?"Sorted ascending by ".concat(M):"Sorted descending by ".concat(M):"Sort by ".concat(M),Q=R&&!P,q=P?null:O,K=o?Math.max(f,160):f,U=o?Math.max(v,K):v,Y=V?Math.max(K,80):K,J=[u().headerLabel,V?u().taskHeaderLabel:""].filter(Boolean).join(" "),Z=[u().headerLabelText,V?u().taskHeaderText:""].filter(Boolean).join(" "),X=o?(0,n.jsxs)("label",{className:u().columnToggle,title:I?"Toggle ".concat(M):"At least one column must stay visible","data-disabled":I?void 0:"true","data-align":"end",children:[(0,n.jsx)("input",{type:"checkbox",checked:F,onChange:e=>{if(!I){e.preventDefault();return}null==g||g(c,e.target.checked)},"aria-label":"Show or hide ".concat(M," column"),"aria-disabled":I?void 0:"true","data-testid":"transactions-columns-toggle-".concat(c)}),(0,n.jsx)("span",{className:u().toggleTrack,children:(0,n.jsx)("span",{className:u().toggleThumb})})]}):null,$=[u().headerShell,o?u().headerShellReorder:""].filter(Boolean).join(" "),ee="left"===w?{left:"".concat(null!==(a=N.get(c))&&void 0!==a?a:0,"px")}:"right"===w?{right:"".concat(null!==(l=k.get(c))&&void 0!==l?l:0,"px")}:{};return(0,n.jsx)("th",{scope:"col",className:W,style:{minWidth:"".concat(Y,"px"),width:"".concat(V?Math.max(U,Y):U,"px"),...ee},draggable:o&&F,onDragStart:o&&F&&s?s(c):void 0,onDragEnter:o&&d?d(c):void 0,onDragOver:o?m:void 0,onDragEnd:o?h:void 0,onDrop:o&&p?p(c):void 0,"aria-sort":H,children:(0,n.jsxs)("div",{className:$,children:[(0,n.jsx)("div",{className:u().headerContent,children:(0,n.jsx)("div",{className:J,children:(0,n.jsx)("span",{className:Z,children:M})})}),o?X:(0,n.jsx)(Tooltip,{content:G,children:(0,n.jsx)("button",{type:"button",className:"".concat(u().sortButton," ").concat(Q?u().sortButtonActive:"").trim(),onClick:()=>{o||null==y||y(c,"asc"===O?"desc":"desc"===O?null:"asc")},disabled:P,"aria-label":G,children:(0,n.jsx)(SortGlyph,{direction:null!=q?q:void 0,isLoading:z})})})]})},c)}),(0,n.jsx)("th",{scope:"col","aria-label":"Edit",className:"".concat(u().headerCell," ").concat(r().actionsCell," ").concat(u().taskHeaderCell).trim(),style:{minWidth:"".concat(60,"px"),width:"".concat(60,"px")},children:(0,n.jsxs)("div",{className:"".concat(u().headerShell," ").concat(u().taskHeaderShell).trim(),children:[(0,n.jsx)("span",{className:u().taskHeaderIcon,"aria-hidden":"true",children:(0,n.jsx)(c.IYd,{})}),(0,n.jsx)("span",{className:u().visuallyHidden,children:"Edit"})]})})]})})}var b=a(4061),_=a(9811),f=a.n(_);function TableTooltip(e){let{anchor:t,isVisible:a,children:o,className:r="table-tooltip",offset:i={x:0,y:0}}=e,s=function(){let[e,t]=(0,l.useState)(!1);return(0,l.useEffect)(()=>(t(!0),()=>t(!1)),[]),e}(),c=(0,l.useMemo)(()=>{var e,a;if(!t)return{top:0,left:0};let n=t.getBoundingClientRect(),l=window.scrollX,o=window.scrollY;return{top:n.top+o+(null!==(e=i.y)&&void 0!==e?e:0),left:n.left+l+n.width/2+(null!==(a=i.x)&&void 0!==a?a:0)}},[t,i.x,i.y]);return s&&a?(0,m.createPortal)((0,n.jsx)("div",{className:r,style:{position:"absolute",top:c.top,left:c.left},role:"tooltip",children:o}),document.body):null}let v={"DD/MM":new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit"}),"DD/MM/YY":new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit"}),"MM/DD":new Intl.DateTimeFormat("en-US",{day:"2-digit",month:"2-digit"}),"MM/DD/YY":new Intl.DateTimeFormat("en-US",{day:"2-digit",month:"2-digit",year:"2-digit"})};function resolveTransactionType(e){var t,a;let n=null!==(t=null==e?void 0:e.typeValue)&&void 0!==t?t:(0,b.MT)(null==e?void 0:e.type),l=null!==(a=null==e?void 0:e.typeLabel)&&void 0!==a?a:(0,b.yl)(n);return{value:n,label:l}}function TotalBackCell(e){var t,a,l,o;let{transaction:r}=e,i=(0,s.dN)(r.totalBack),c=Number(null!==(t=r.percentBack)&&void 0!==t?t:0),d=Number(null!==(a=r.fixedBack)&&void 0!==a?a:0),u=Number(null!==(l=r.amount)&&void 0!==l?l:0),m=c>0,p=d>0,h=Number(null!==(o=r.totalBack)&&void 0!==o?o:0)>0&&m&&p&&u>0,b="".concat((0,s.dN)(u),"\xd7").concat((0,s.T3)(c)," + ").concat((0,s.dN)(d));return(0,n.jsxs)("div",{className:f().totalBackCell,"data-tooltip-text":h?b:void 0,children:[(0,n.jsx)("span",{className:f().totalBackValue,children:i}),h?(0,n.jsx)("span",{className:f().totalBackFormula,children:b}):null]})}let g={date:(e,t)=>(function(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM";if(!e)return"—";let n="function"==typeof window.matchMedia&&window.matchMedia("(max-width: 500px)").matches,l=n?"DD/MM":a,o=new Date("".concat(e,"T00:00:00"));if(Number.isNaN(o.getTime()))return e;if("DD/MM/YY"===l)return v["DD/MM"].format(o);if("MM/DD/YY"===l)return v["MM/DD"].format(o);if("YYYY-MM-DD"===l){let e=String(o.getMonth()+1).padStart(2,"0"),t=String(o.getDate()).padStart(2,"0");return"".concat(o.getFullYear(),"-").concat(e,"-").concat(t)}let r=null!==(t=v[l])&&void 0!==t?t:v["DD/MM"];return r.format(o)})(e.date,t.column.format),type:e=>{let{value:t,label:a}=resolveTransactionType(e);return(0,n.jsx)("span",{className:t===b.A6.INCOME||t===b.A6.CASHBACK?"".concat(f().pill," ").concat(f().pillIncome).trim():t===b.A6.TRANSFER?"".concat(f().pill," ").concat(f().pillTransfer).trim():t===b.A6.EXPENSES||t===b.A6.DEBT?"".concat(f().pill," ").concat(f().pillExpense).trim():"".concat(f().pill," ").concat(f().pillNeutral).trim(),children:null!=a?a:"—"})},account:e=>{var t;return null!==(t=e.account)&&void 0!==t?t:"—"},shop:e=>{var t;return null!==(t=e.shop)&&void 0!==t?t:"—"},notes:e=>{var t;return null!==(t=e.notes)&&void 0!==t?t:"—"},amount:e=>{var t;let a=Math.abs(Number(null!==(t=e.amount)&&void 0!==t?t:0)),{value:l}=resolveTransactionType(e);return(0,n.jsx)("span",{className:"".concat(f().amountValue," ").concat(l===b.A6.INCOME||l===b.A6.CASHBACK?f().amountIncome:l===b.A6.TRANSFER?f().amountTransfer:f().amountExpense),"data-testid":"transaction-amount-".concat(e.id),children:(0,s.dN)(a)})},percentBack:e=>(0,s.T3)(e.percentBack),fixedBack:e=>(0,s.dN)(e.fixedBack),totalBack:e=>(0,n.jsx)(TotalBackCell,{transaction:e}),finalPrice:e=>(0,s.dN)(e.finalPrice),debtTag:e=>{var t;return null!==(t=e.debtTag)&&void 0!==t?t:"—"},cycleTag:e=>{var t;return null!==(t=e.cycleTag)&&void 0!==t?t:"—"},category:e=>{var t;return null!==(t=e.category)&&void 0!==t?t:"—"},linkedTxn:e=>{var t;return null!==(t=e.linkedTxn)&&void 0!==t?t:"—"},owner:e=>{var t;return null!==(t=e.owner)&&void 0!==t?t:"—"},id:e=>{var t;return null!==(t=e.id)&&void 0!==t?t:"—"}};function TableBaseBody(e){let{transactions:t,columns:a,selectionSet:o,onSelectRow:i,hiddenColumnIds:s=new Set,isColumnReorderMode:d=!1,isShowingSelectedOnly:u=!1,getRowId:m=e=>{var t;return e&&null!==(t=e.id)&&void 0!==t?t:null},renderRowActionsCell:p,onEditRow:h,pinnedLeftOffsets:b=new Map,pinnedRightOffsets:_=new Map}=e,[v,x]=(0,l.useState)({anchor:null,content:"",isVisible:!1}),y=(0,l.useMemo)(()=>a.filter(e=>!1!==e.column.visible).length,[a]),T=(0,l.useCallback)(()=>{x(e=>e.isVisible?{anchor:null,content:"",isVisible:!1}:e)},[]),C=(0,l.useCallback)(e=>{var t;if(!e)return{content:"",force:!1};let a=e.querySelector("[data-tooltip-text]"),n=null==a?void 0:a.getAttribute("data-tooltip-text");if(n)return{content:n,force:!0};let l=null!==(t=e.textContent)&&void 0!==t?t:"";return{content:l.trim(),force:!1}},[]),N=(0,l.useCallback)(e=>{if(!e){T();return}let{content:t,force:a}=C(e);if(!t){T();return}let n=e.scrollWidth-e.clientWidth>1;if(!a&&!n){T();return}x({anchor:e,content:t,isVisible:!0})},[T,C]),k=(0,l.useCallback)(e=>{N(e.currentTarget)},[N]),j=(0,l.useCallback)(()=>{T()},[T]),A=v.anchor,B=v.content,w=v.isVisible,renderDefaultRowActions=(e,t,a)=>{let l=null!=a?a:null==e?void 0:e.id;return(0,n.jsx)("td",{className:"".concat(r().bodyCell," ").concat(r().actionsCell),style:{minWidth:"".concat(60,"px"),width:"".concat(60,"px")},children:(0,n.jsx)("div",{className:f().inlineActions,"data-selected":t?"true":void 0,children:(0,n.jsx)("button",{type:"button",className:f().inlineEditButton,onClick:()=>null==h?void 0:h(e),disabled:d,title:"Edit","aria-label":l?"Edit row ".concat(l):"Edit row","data-testid":l?"transaction-edit-".concat(l):void 0,children:(0,n.jsx)(c.IYd,{"aria-hidden":!0})})})})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("tbody",{"data-testid":u?"transactions-body-selected":"transactions-body",children:0===t.length?(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:y+2,className:f().emptyCell,"data-testid":"transactions-empty",children:"No data found"})}):t.map((e,t)=>{var l;let c=m(e),u=null!=c?c:e.id,v=null!=u?u:"row-".concat(t),x=null!=v&&o.has(v);return(0,n.jsxs)("tr",{className:"".concat(f().row," ").concat(x?f().rowSelected:"").trim(),children:[(0,n.jsx)("td",{className:"".concat(r().bodyCell," ").concat(r().checkboxCell," ").concat(r().stickyLeft),style:{minWidth:"".concat(48,"px"),width:"".concat(48,"px")},children:(0,n.jsx)("div",{className:r().checkboxCellInner,children:(0,n.jsx)("input",{type:"checkbox",checked:x,onChange:a=>{var n;let l=null!==(n=null!=u?u:e.id)&&void 0!==n?n:"row-".concat(t);null!=l&&(null==i||i(l,a.target.checked))},"aria-label":"Select transaction ".concat(null!==(l=null!=u?u:e.id)&&void 0!==l?l:"row-".concat(t)),disabled:d})})}),a.map(a=>{var l,o,i;let{id:c,minWidth:m,width:p,align:h,pinned:f}=a,v=s.has(c),x="left"===f,y="right"===f,T=[r().bodyCell,"right"===h?r().cellAlignRight:"center"===h?r().cellAlignCenter:"",x?r().stickyLeft:"",y?r().stickyRight:"",v&&d?r().bodyCellHidden:""].filter(Boolean).join(" "),C=x?{left:"".concat(null!==(l=b.get(c))&&void 0!==l?l:0,"px")}:y?{right:"".concat(null!==(o=_.get(c))&&void 0!==o?o:0,"px")}:void 0;return(0,n.jsx)("td",{className:T,style:{minWidth:"".concat(m,"px"),width:"".concat(p,"px"),...C},"data-testid":"transactions-cell-".concat(c,"-").concat(null!==(i=null!=u?u:e.id)&&void 0!==i?i:"row-".concat(t)),"aria-hidden":v&&d?"true":void 0,onMouseEnter:k,onMouseLeave:j,onFocus:k,onBlur:j,children:function(e,t){var a;if(!e)return"--";let n=null!==(a=e.definition)&&void 0!==a?a:{};if("function"==typeof n.renderCell)return n.renderCell(t,e);if("function"==typeof n.valueAccessor)return n.valueAccessor(t,e);if(n.valueKey&&t&&void 0!==t[n.valueKey])return t[n.valueKey];let l=g[e.id];return l?l(t,e):t&&void 0!==t[e.id]?t[e.id]:void 0!==n.emptyFallback?n.emptyFallback:"--"}(a,e)},c)}),p?p({transaction:e,isSelected:x,rowId:u,toggleSelection:a=>{var n;let l=null!==(n=null!=u?u:e.id)&&void 0!==n?n:"row-".concat(t);null!=l&&(null==i||i(l,a))},onEdit:()=>null==h?void 0:h(e)}):renderDefaultRowActions(e,x,u)]},v)})}),(0,n.jsx)(TableTooltip,{anchor:A,isVisible:w,className:f().tooltipPortal,offset:{x:0,y:-8},children:B})]})}var x=a(7096),y=a.n(x);function MiniToolbar(e){let{selectedCount:t=0,onDelete:a,onCancel:l}=e;return 0===t?null:(0,n.jsxs)("div",{className:y().toolbar,"data-testid":"mini-toolbar",children:[(0,n.jsxs)("span",{className:y().count,"data-testid":"mini-toolbar-count",children:[t," selected"]}),(0,n.jsxs)("div",{className:y().actions,children:[a&&(0,n.jsxs)("button",{type:"button",className:y().actionButton,"data-action":"delete",onClick:a,"aria-label":"Delete ".concat(t," selected item").concat(1!==t?"s":""),children:[(0,n.jsx)(c.Ybf,{"aria-hidden":!0}),(0,n.jsx)("span",{children:"Delete"})]}),l&&(0,n.jsxs)("button",{type:"button",className:y().actionButton,"data-action":"cancel",onClick:l,"aria-label":"Clear selection",children:[(0,n.jsx)(c.q5L,{"aria-hidden":!0}),(0,n.jsx)("span",{children:"Cancel"})]})]})]})}let T=(0,l.forwardRef)((e,t)=>{let{tableScrollRef:a,transactions:o,selectedIds:c,onSelectRow:d,onSelectAll:u,selectionSummary:m=null,onOpenAdvanced:p,onBulkDelete:h,columnDefinitions:b=[],visibleColumns:_,pagination:f,toolbarSlot:v,tableTitle:g="Transactions history table",allColumns:x=[],isColumnReorderMode:y=!1,onColumnVisibilityChange:T,onColumnOrderChange:C,fontScale:N=1,sortState:k,onSortChange:j,isShowingSelectedOnly:A=!1,isFetching:B=!1,rowIdKey:w="id",rowIdAccessor:M,renderRowActionsCell:S,onEditRow:E}=e,[F,L]=(0,l.useState)(null),D=(0,l.useRef)(null),I=(0,l.useRef)(null),R=(0,l.useRef)(null),O=(0,l.useRef)(null),z=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.useCallback)(e=>{t.forEach(t=>{t&&("function"==typeof t?t(e):t.current=e)})},[t])}(R,a);(0,l.useImperativeHandle)(t,()=>R.current);let H=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,l.useMemo)(()=>new Map(e.map(e=>[e.id,e])),[e])}(b),V=(0,l.useMemo)(()=>new Set(c),[c]),W=(0,l.useCallback)(e=>{var t;return e?"function"==typeof M?M(e):w&&void 0!==e[w]?e[w]:null!==(t=e.id)&&void 0!==t?t:null:null},[M,w]),P=o.length>0&&o.every(e=>V.has(W(e))),G=V.size>0&&!P,Q=(0,l.useMemo)(()=>(function(e){var t;let mapValue=e=>{if(null==e)return null;let t=Number(e);return Number.isFinite(t)?(0,s.Bo)(t):null};return{amount:mapValue(null==e?void 0:e.amount),totalBack:mapValue(null==e?void 0:e.totalBack),finalPrice:mapValue(null==e?void 0:e.finalPrice),count:Number(null!==(t=null==e?void 0:e.count)&&void 0!==t?t:0)}})(m),[m]),q=V.size,K=(0,l.useCallback)(()=>{if("function"==typeof h){h(Array.from(V));return}"function"==typeof p&&p({mode:"delete-many",ids:Array.from(V)})},[h,p,V]),U=(0,l.useCallback)(()=>{null==u||u(!1)},[u]),Y=(0,l.useMemo)(()=>y?x:_,[y,x,_]),J=(0,l.useMemo)(()=>new Set(x.filter(e=>!1===e.visible).map(e=>e.id)),[x]),Z=(0,l.useMemo)(()=>Y.map(e=>{var t,a;let n=H.get(e.id),l=resolveColumnSizing(e,n),o=null!==(t=null==n?void 0:n.align)&&void 0!==t?t:"left";return{id:e.id,column:e,definition:n,minWidth:l.minWidth,width:l.width,align:o,pinned:null!==(a=e.pinned)&&void 0!==a?a:null}}),[Y,H]),X=(0,l.useMemo)(()=>{let e=48,t=new Map;return Z.forEach(a=>{"left"===a.pinned&&(t.set(a.id,e),e+=a.width)}),t},[Z]),$=(0,l.useMemo)(()=>{let e=60,t=new Map;return[...Z].reverse().forEach(a=>{"right"===a.pinned&&(t.set(a.id,e),e+=a.width)}),t},[Z]),ee=(0,l.useMemo)(()=>Z.map(e=>e.id),[Z]),et=(0,l.useMemo)(()=>_.map(e=>e.id),[_]),ea=(0,l.useMemo)(()=>{let e=Array.isArray(Y)&&0!==Y.length?Y.reduce((e,t)=>{let a=H.get(t.id),{minWidth:n}=resolveColumnSizing(t,a);return e+n},0):0;return Math.max(e+48,0)},[Y,H]);(0,l.useEffect)(()=>{D.current&&(D.current.indeterminate=G)},[G]),(0,l.useEffect)(()=>{y||(I.current=null,L(null))},[y]);let en=(0,l.useCallback)(e=>t=>{if(y&&(I.current=e,L(e),null==t?void 0:t.dataTransfer)){t.dataTransfer.effectAllowed="move";try{t.dataTransfer.setData("text/plain",e)}catch(e){}}},[y]),el=(0,l.useCallback)(e=>t=>{var a;y&&null!==I.current&&(null==t||null===(a=t.preventDefault)||void 0===a||a.call(t),e!==F&&L(e))},[y,F]),eo=(0,l.useCallback)(e=>{y&&null!==I.current&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move"))},[y]),er=(0,l.useCallback)(e=>t=>{if(!y)return;t.preventDefault();let a=I.current;if(I.current=null,L(null),!a||a===e)return;let n=ee.indexOf(a),l=ee.indexOf(e);if(-1===n||-1===l)return;let o=[...ee];o.splice(n,1),o.splice(l,0,a),null==C||C(o)},[y,ee,C]),ei=(0,l.useCallback)(()=>{I.current=null,L(null)},[]),es=(0,l.useCallback)(e=>{if(e){if("function"==typeof E){E(e);return}null==p||p({mode:"edit",transaction:e})}},[E,p]),ec=function(e){let{scrollRef:t,tableRef:a,isEnabled:n}=e,[o,r]=(0,l.useState)("sticky");return(0,l.useLayoutEffect)(()=>{if(!n){r("hidden");return}let e=t.current,l=a.current;if(!e||!l||"undefined"==typeof ResizeObserver){r("sticky");return}let updateMode=()=>{let t=e.scrollHeight-e.clientHeight>2;r(t?"sticky":"inline")};updateMode();let o=new ResizeObserver(updateMode);return o.observe(e),o.observe(l),()=>o.disconnect()},[t,a,n]),o}({scrollRef:R,tableRef:O,isEnabled:!!f}),ed=f&&"hidden"!==ec;return(0,n.jsxs)("section",{className:r().tableCard,"aria-label":g,style:{"--transactions-font-scale":N},children:[v,(0,n.jsxs)("div",{className:r().tableShell,children:[(0,n.jsx)("div",{ref:z,className:r().tableScroll,"data-testid":"transactions-table-container",children:(0,n.jsxs)("table",{ref:O,className:r().table,style:{"--table-min-width":"".concat(ea,"px")},children:[(0,n.jsx)(TableBaseHeader,{columns:Z,definitionMap:H,isColumnReorderMode:y,activeDropTarget:F,onColumnDragStart:en,onColumnDragEnter:el,onColumnDragOver:eo,onColumnDrop:er,onColumnDragEnd:ei,allSelected:P,isIndeterminate:G,onSelectAll:u,headerCheckboxRef:D,onColumnVisibilityChange:T,visibleColumnIds:et,sortState:k,onSortChange:j,isFetching:B,transactions:o,pinnedLeftOffsets:X,pinnedRightOffsets:$}),(0,n.jsx)(TableBaseBody,{transactions:o,columns:Z,selectionSet:V,onSelectRow:d,hiddenColumnIds:J,isColumnReorderMode:y,isShowingSelectedOnly:A,getRowId:W,renderRowActionsCell:S,onEditRow:es,pinnedLeftOffsets:X,pinnedRightOffsets:$}),q>0?(0,n.jsx)("tfoot",{children:(0,n.jsxs)("tr",{className:r().totalRow,children:[(0,n.jsx)("td",{className:"".concat(r().bodyCell," ").concat(r().checkboxCell," ").concat(r().stickyLeft),style:{minWidth:"".concat(48,"px"),width:"".concat(48,"px")},children:(0,n.jsx)("div",{className:r().checkboxCellInner,children:(0,n.jsx)("span",{className:r().totalLabel,children:"TOTAL"})})}),Z.map(e=>{var t,a;let{id:l,minWidth:o,width:i,align:s}=e,c=Q[l],d=J.has(l),u="left"===e.pinned,m="right"===e.pinned,p=[r().bodyCell,r().totalCell,"right"===s?r().cellAlignRight:"center"===s?r().cellAlignCenter:"",u?r().stickyLeft:"",m?r().stickyRight:"",d&&y?r().bodyCellHidden:""].filter(Boolean).join(" "),h=u?{left:"".concat(null!==(t=X.get(l))&&void 0!==t?t:0,"px")}:m?{right:"".concat(null!==(a=$.get(l))&&void 0!==a?a:0,"px")}:void 0;return(0,n.jsx)("td",{className:p,style:{minWidth:"".concat(o,"px"),width:"".concat(i,"px"),...h},"aria-hidden":d&&y?"true":void 0,children:c?(0,n.jsx)("span",{className:"amount"===l?"".concat(r().totalValue," ").concat(r().totalAmount):r().totalValue,children:c}):null},"total-".concat(l))}),(0,n.jsx)("td",{className:"".concat(r().bodyCell," ").concat(r().actionsCell),style:{minWidth:"".concat(60,"px"),width:"".concat(60,"px")},"aria-hidden":"true"})]})}):null]})}),B?(0,n.jsx)(i.Z,{className:r().loadingIndicator,message:"Refreshing data…"}):null,ed?(0,n.jsx)("div",{className:"".concat(r().paginationBar," ").concat("inline"===ec?r().paginationInline:r().paginationSticky),children:f.render({selectedCount:V.size})}):null]}),q>0?(0,n.jsx)(MiniToolbar,{selectedCount:q,onDelete:K,onCancel:U}):null]})})},477:function(e,t,a){"use strict";a.d(t,{x:function(){return useAccounts}});var n=a(7294);function useAccounts(){let[e,t]=(0,n.useState)([]),[a,l]=(0,n.useState)(!1),[o,r]=(0,n.useState)(null),i=(0,n.useCallback)(async()=>{l(!0),r(null);try{let e=await fetch("/api/accounts");if(!e.ok){let t=await e.text();throw Error(t||"Failed to load accounts")}let a=await e.json(),n=Array.isArray(a)?a:null==a?void 0:a.accounts;if(!Array.isArray(n)){t([]);return}let l=n.map(e=>{var t,a,n,l;return{...e,openingBalance:Number(null!==(t=e.openingBalance)&&void 0!==t?t:0),currentBalance:Number(null!==(a=e.currentBalance)&&void 0!==a?a:0),totalIn:Number(null!==(n=e.totalIn)&&void 0!==n?n:0),totalOut:Number(null!==(l=e.totalOut)&&void 0!==l?l:0)}});t(l)}catch(a){let e=a instanceof Error?a.message:"Unable to fetch accounts";r(e),t([])}finally{l(!1)}},[]),s=(0,n.useCallback)(async e=>{try{var a,n,l,o;let r=await fetch("/api/accounts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok){let e=await r.json();throw Error(e.error||e.details||"Failed to create account")}let i=await r.json(),s={...i,openingBalance:Number(null!==(a=i.openingBalance)&&void 0!==a?a:0),currentBalance:Number(null!==(n=i.currentBalance)&&void 0!==n?n:0),totalIn:Number(null!==(l=i.totalIn)&&void 0!==l?l:0),totalOut:Number(null!==(o=i.totalOut)&&void 0!==o?o:0)};return t(e=>[...e,s]),s}catch(t){let e=t instanceof Error?t.message:"Failed to create account";return r(e),null}},[]);(0,n.useEffect)(()=>{i()},[i]);let c=e.filter(e=>"active"===e.status);return{accounts:e,activeAccounts:c,isLoading:a,error:o,refetch:i,createAccount:s}}},8350:function(e,t,a){"use strict";a.d(t,{Q:function(){return useRequireAuth}});var n=a(1163),l=a(7294),o=a(6770);function useRequireAuth(){let e=(0,n.useRouter)(),{isAuthenticated:t,isLoading:a}=(0,o.a)();return(0,l.useEffect)(()=>{!a&&(t||e.replace("/login"))},[t,a,e]),{isAuthenticated:t,isLoading:a}}},3789:function(e,t,a){"use strict";a.d(t,{GW:function(){return o},Gd:function(){return getAccountTypeOptions},JV:function(){return getAccountStatusOptions},VC:function(){return getAccountTypeLabel}});let n={BANK:"bank",CREDIT:"credit",SAVING:"saving",INVEST:"invest",E_WALLET:"e-wallet",GROUP:"group",LOAN:"loan",MORTGAGE:"mortgage",CASH:"cash",OTHER:"other"},l={bank:"Bank",credit:"Credit Card",saving:"Savings",invest:"Investment","e-wallet":"E-Wallet",group:"Group",loan:"Loan",mortgage:"Mortgage",cash:"Cash",other:"Other"};function getAccountTypeLabel(e){var t;return e&&null!==(t=l[e])&&void 0!==t?t:l[n.OTHER]}function getAccountTypeOptions(){return[n.BANK,n.CREDIT,n.SAVING,n.INVEST,n.E_WALLET,n.CASH,n.LOAN,n.MORTGAGE,n.GROUP,n.OTHER].map(e=>({value:e,label:getAccountTypeLabel(e)}))}let o={ACTIVE:"active",CLOSED:"closed",ARCHIVED:"archived"},r={active:"Active",closed:"Closed",archived:"Archived"};function getAccountStatusOptions(){return[o.ACTIVE,o.CLOSED,o.ARCHIVED].map(e=>{var t;return{value:e,label:e&&null!==(t=r[e])&&void 0!==t?t:r[o.ACTIVE]}})}},7871:function(e,t,a){"use strict";a.d(t,{Bo:function(){return formatAmountWithTrailing},T3:function(){return formatPercent},dN:function(){return formatAmount}});let n=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),l=new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:2});function formatAmount(e){if(null==e)return"0";let t=Number(e);if(Number.isNaN(t))return"0";let a=n.format(t);return a.replace(/\.00$/,"")}function formatAmountWithTrailing(e){if(null==e)return"0.00";let t=Number(e);return Number.isNaN(t)?"0.00":n.format(t)}function formatPercent(e){if(null==e)return"0%";let t=Number(e);return Number.isNaN(t)?"0%":"".concat(l.format(t),"%")}},4061:function(e,t,a){"use strict";a.d(t,{A6:function(){return n},MT:function(){return normalizeTransactionType},yl:function(){return getTransactionTypeLabel}});let n={INCOME:"income",EXPENSES:"expenses",TRANSFER:"transfer",DEBT:"debt",CASHBACK:"cashback",ADJUSTMENT:"adjustment",OTHER:"other"},l={income:"Income",expenses:"Expenses",transfer:"Transfer",debt:"Debt",cashback:"Cashback",adjustment:"Adjustment",other:"Other"},o=new Map([["income","income"],["inflow","income"],["earnings","income"],["revenue","income"],["salary","income"],["expense","expenses"],["expenses","expenses"],["spend","expenses"],["spending","expenses"],["outflow","expenses"],["transfer","transfer"],["moved","transfer"],["movement","transfer"],["debt","debt"],["loan","debt"],["liability","debt"],["cashback","cashback"],["reward","cashback"],["rebate","cashback"],["adjustment","adjustment"],["adjust","adjustment"],["balance","adjustment"],["other","other"]]);function normalizeTransactionType(e){var t,a,l;let r="string"==typeof e?e.trim().toLowerCase():"number"==typeof e&&Number.isFinite(e)?String(e):"";if(!r)return n.OTHER;if(o.has(r))return null!==(t=o.get(r))&&void 0!==t?t:n.OTHER;let i=r.replace(/[^a-z]/g,"");return o.has(i)?null!==(a=o.get(i))&&void 0!==a?a:n.OTHER:null!==(l=o.get(r.split(" ")[0]))&&void 0!==l?l:n.OTHER}function getTransactionTypeLabel(e){var t;return e&&null!==(t=l[e])&&void 0!==t?t:l[n.OTHER]}},1450:function(e){e.exports={overlay:"AddAccountOverlay_overlay__4yad_",fadeIn:"AddAccountOverlay_fadeIn__NJRFe",dialog:"AddAccountOverlay_dialog__KjAgT",slideUp:"AddAccountOverlay_slideUp__E_mQ8",header:"AddAccountOverlay_header__HsEVV",title:"AddAccountOverlay_title__xkZl_",closeButton:"AddAccountOverlay_closeButton__348Vf",content:"AddAccountOverlay_content__LoLlx",field:"AddAccountOverlay_field__bZXG0",fieldLabel:"AddAccountOverlay_fieldLabel__Wgs8u",input:"AddAccountOverlay_input__vcMuo",textarea:"AddAccountOverlay_textarea__YDmql",footer:"AddAccountOverlay_footer__FgSfB",primaryButton:"AddAccountOverlay_primaryButton__bftDX",secondaryButton:"AddAccountOverlay_secondaryButton__VIzOR",slideUpMobile:"AddAccountOverlay_slideUpMobile__TIL8n"}},177:function(e){e.exports={container:"AmountInput_container__1h9fN",label:"AmountInput_label__SGIOe",input:"AmountInput_input____kqZ",amountWordsNumber:"AmountInput_amountWordsNumber__BYoM8",suggestionsContainer:"AmountInput_suggestionsContainer__Mt3da",suggestionButton:"AmountInput_suggestionButton__eLmE3",historyText:"AmountInput_historyText___IzUc",historyError:"AmountInput_historyError__8MS6b",inputErrorText:"AmountInput_inputErrorText__kbNRT"}},9044:function(e){e.exports={overlay:"ConfirmationModal_overlay__5WdIp",modal:"ConfirmationModal_modal__If8Xd",title:"ConfirmationModal_title__ZZNUI",message:"ConfirmationModal_message__wKZ_c",actions:"ConfirmationModal_actions__Z1k9j",cancelButton:"ConfirmationModal_cancelButton__wB6uX",confirmButton:"ConfirmationModal_confirmButton__9aQeE",confirmButtonPrimary:"ConfirmationModal_confirmButtonPrimary___khWF",confirmButtonDanger:"ConfirmationModal_confirmButtonDanger__daTuz"}},6931:function(e){e.exports={dropdown:"ReusableDropdown_dropdown__xSkcb",trigger:"ReusableDropdown_trigger__nXl0p",triggerText:"ReusableDropdown_triggerText__MPsv4",label:"ReusableDropdown_label__yDymJ",triggerIcons:"ReusableDropdown_triggerIcons__lHo38",clearButton:"ReusableDropdown_clearButton__ngWSE",chevronIcon:"ReusableDropdown_chevronIcon__FNAxq",menu:"ReusableDropdown_menu__C_Z4H",searchWrapper:"ReusableDropdown_searchWrapper__3ZSyv",menuNewAction:"ReusableDropdown_menuNewAction___7ykb",searchInput:"ReusableDropdown_searchInput__ylOYA",optionsList:"ReusableDropdown_optionsList__fNT4D",optionButton:"ReusableDropdown_optionButton__wz9oM",emptyState:"ReusableDropdown_emptyState__6I3Be",newButton:"ReusableDropdown_newButton__e864t"}},388:function(e){e.exports={tableCard:"TableBase_tableCard__zP3bW",tableShell:"TableBase_tableShell__gU_ef",tableScroll:"TableBase_tableScroll__cAtRZ",table:"TableBase_table__gnTTT",stickyLeft:"TableBase_stickyLeft__szOLQ",stickyRight:"TableBase_stickyRight__fpYpO",bodyCell:"TableBase_bodyCell__YGJP8",checkboxCell:"TableBase_checkboxCell__p0va0",actionsCell:"TableBase_actionsCell___uQWv",checkboxCellInner:"TableBase_checkboxCellInner__g3p_U",cellAlignRight:"TableBase_cellAlignRight__9AvWS",cellAlignCenter:"TableBase_cellAlignCenter__6jPYb",bodyCellHidden:"TableBase_bodyCellHidden__fPNwi",totalRow:"TableBase_totalRow__AzmZb",totalLabel:"TableBase_totalLabel__VwqAu",totalCell:"TableBase_totalCell__IgnEz",totalValue:"TableBase_totalValue__Du9N3",totalAmount:"TableBase_totalAmount__erGhA",paginationBar:"TableBase_paginationBar__SVMUy",paginationSticky:"TableBase_paginationSticky__cA9Xr",paginationInline:"TableBase_paginationInline__mOaSM",loadingIndicator:"TableBase_loadingIndicator__fgUNL",selectionToolbar:"TableBase_selectionToolbar__uo9AH",selectionToolbarDock:"TableBase_selectionToolbarDock__lBpmE",selectionToolbarEnter:"TableBase_selectionToolbarEnter__jRrQI",selectionToolbarInfo:"TableBase_selectionToolbarInfo__8_PYs",selectionToolbarCount:"TableBase_selectionToolbarCount__l5Za4",selectionToolbarLabel:"TableBase_selectionToolbarLabel__iRbQ7",selectionToolbarActions:"TableBase_selectionToolbarActions__4DC_R",selectionToolbarButton:"TableBase_selectionToolbarButton__16rML",selectionToolbarDanger:"TableBase_selectionToolbarDanger__BBie_"}},9811:function(e){e.exports={row:"TableBaseBody_row__J4nrS",rowSelected:"TableBaseBody_rowSelected__z2GvJ",rowSelectFlash:"TableBaseBody_rowSelectFlash__ky_jH",amountValue:"TableBaseBody_amountValue__3OXX3",amountIncome:"TableBaseBody_amountIncome__LJj_x",amountTransfer:"TableBaseBody_amountTransfer__jRDBZ",amountExpense:"TableBaseBody_amountExpense___THI9",totalBackCell:"TableBaseBody_totalBackCell__ESmzN",totalBackValue:"TableBaseBody_totalBackValue__HeGQu",totalBackFormula:"TableBaseBody_totalBackFormula__DtN7i",pill:"TableBaseBody_pill__E3ssY",pillIncome:"TableBaseBody_pillIncome__pUv0V",pillExpense:"TableBaseBody_pillExpense__4KQax",pillTransfer:"TableBaseBody_pillTransfer__26LTN",pillNeutral:"TableBaseBody_pillNeutral__vDk4j",inlineActions:"TableBaseBody_inlineActions__m_wWm",inlineEditButton:"TableBaseBody_inlineEditButton__X_G_W",emptyCell:"TableBaseBody_emptyCell__LPiVV",tooltipPortal:"TableBaseBody_tooltipPortal__Sy_ku"}},9786:function(e){e.exports={tableHeader:"TableBaseHeader_tableHeader___MK_g",headerCell:"TableBaseHeader_headerCell__UpXFA",headerShell:"TableBaseHeader_headerShell__kBwBb",headerShellReorder:"TableBaseHeader_headerShellReorder__JSptq",headerContent:"TableBaseHeader_headerContent__zsE3T",headerLabel:"TableBaseHeader_headerLabel__PkE0P",headerLabelText:"TableBaseHeader_headerLabelText__JKtwj",taskHeaderCell:"TableBaseHeader_taskHeaderCell__5XlLo",taskHeaderShell:"TableBaseHeader_taskHeaderShell__W7q8u",taskHeaderIcon:"TableBaseHeader_taskHeaderIcon__2T1Ls",visuallyHidden:"TableBaseHeader_visuallyHidden__FPLtb",headerReorder:"TableBaseHeader_headerReorder__OncfW",headerDropTarget:"TableBaseHeader_headerDropTarget__6AojU",headerHidden:"TableBaseHeader_headerHidden__GoWm8",columnToggle:"TableBaseHeader_columnToggle__oRhh4",toggleTrack:"TableBaseHeader_toggleTrack__hrNWN",toggleThumb:"TableBaseHeader_toggleThumb__GejhB",sortButton:"TableBaseHeader_sortButton__u2zq0",sortButtonActive:"TableBaseHeader_sortButtonActive__E0Pgz",sortSpinner:"TableBaseHeader_sortSpinner__iJ6CJ",headerSpinner:"TableBaseHeader_headerSpinner__frdci",headerCheckboxInner:"TableBaseHeader_headerCheckboxInner___009t"}},2274:function(e){e.exports={overlay:"AddTransactionModal_overlay__GyxCM",modal:"AddTransactionModal_modal__5tCrr",modalBody:"AddTransactionModal_modalBody__KqKks",header:"AddTransactionModal_header__tnrr6",title:"AddTransactionModal_title__SOkSe",subtitle:"AddTransactionModal_subtitle__7vtKw",closeButton:"AddTransactionModal_closeButton__A6caU",transactionTypeSelector:"AddTransactionModal_transactionTypeSelector__dK3w_",transactionTypeSegmented:"AddTransactionModal_transactionTypeSegmented__uQu9m",tabPanel:"AddTransactionModal_tabPanel__I3V39",field:"AddTransactionModal_field__6NNJW",fieldLabelRow:"AddTransactionModal_fieldLabelRow__2foeT",fieldLabel:"AddTransactionModal_fieldLabel__z_d9B",dateDisplay:"AddTransactionModal_dateDisplay__t6rA9",amountWordsPlaceholderInline:"AddTransactionModal_amountWordsPlaceholderInline__hDu3m",formFieldBase:"AddTransactionModal_formFieldBase__nCk9B",input:"AddTransactionModal_input__tnkzS",dropdownField:"AddTransactionModal_dropdownField__FQ1Ue",formGrid:"AddTransactionModal_formGrid__jhnXa",debtSection:"AddTransactionModal_debtSection___u1hk",debtGrid:"AddTransactionModal_debtGrid__tyJjI",gridField:"AddTransactionModal_gridField__0RtRE",debtTypeGroup:"AddTransactionModal_debtTypeGroup__hWRPA",debtTypeHeader:"AddTransactionModal_debtTypeHeader__vuXz7",debtTypeToggle:"AddTransactionModal_debtTypeToggle__vIZr8",debtTypeToggleDebt:"AddTransactionModal_debtTypeToggleDebt__tc_Vw",debtTypeToggleRepay:"AddTransactionModal_debtTypeToggleRepay__0L0a_",debtTypeOption:"AddTransactionModal_debtTypeOption__xMbDu",debtTypeThumb:"AddTransactionModal_debtTypeThumb__R_qdD",dateField:"AddTransactionModal_dateField__3v4Mg",toggleField:"AddTransactionModal_toggleField__6oBuO",switchButton:"AddTransactionModal_switchButton__8kWj2",switchTrack:"AddTransactionModal_switchTrack__5n9T7",switchThumb:"AddTransactionModal_switchThumb__pMgAW",switchButtonActive:"AddTransactionModal_switchButtonActive__od_iB",cashbackSection:"AddTransactionModal_cashbackSection__oWFOq",cashbackInputRow:"AddTransactionModal_cashbackInputRow__rFG2r",percentBackInput:"AddTransactionModal_percentBackInput__MT2R_",fixedBackInput:"AddTransactionModal_fixedBackInput__4Y1OE",noBackEngToggle:"AddTransactionModal_noBackEngToggle__fGetk",cashbackHint:"AddTransactionModal_cashbackHint__T08df",debtNotesField:"AddTransactionModal_debtNotesField__RXJqd",transferSection:"AddTransactionModal_transferSection__hcQH0",formRow:"AddTransactionModal_formRow__b_EP3",notesFieldContainer:"AddTransactionModal_notesFieldContainer__xt29v",inputWrapper:"AddTransactionModal_inputWrapper__fiGnT",notesActions:"AddTransactionModal_notesActions__i43zP",notesIconButton:"AddTransactionModal_notesIconButton__Um44w",notesClearButton:"AddTransactionModal_notesClearButton__SQ6s8",notesRestoreButton:"AddTransactionModal_notesRestoreButton__X2Ct_",textarea:"AddTransactionModal_textarea__i3fxF",fieldError:"AddTransactionModal_fieldError__iNUWn",fullRow:"AddTransactionModal_fullRow__BKCqM",mockOverlay:"AddTransactionModal_mockOverlay__xg5_Q",mockModal:"AddTransactionModal_mockModal__QOwgI",mockModalTitle:"AddTransactionModal_mockModalTitle__Tfz1G",mockModalBody:"AddTransactionModal_mockModalBody__lSan1",mockModalButton:"AddTransactionModal_mockModalButton__gll0G",actions:"AddTransactionModal_actions__vYa3_",secondaryButton:"AddTransactionModal_secondaryButton__5t39Z",primaryButton:"AddTransactionModal_primaryButton__BsJpY"}},400:function(e){e.exports={segmentedControl:"SegmentedControl_segmentedControl__Xm8GU",segmentedControlTrack:"SegmentedControl_segmentedControlTrack__DRDxE",segmentedControlThumb:"SegmentedControl_segmentedControlThumb__Bmqf7",segmentedControlThumbNeutral:"SegmentedControl_segmentedControlThumbNeutral__A2yDA",segmentedControlThumbPositive:"SegmentedControl_segmentedControlThumbPositive__KxKLF",segmentedControlThumbNegative:"SegmentedControl_segmentedControlThumbNegative__O5GcS",segmentedControlOption:"SegmentedControl_segmentedControlOption__Z2q9O",segmentedControlOptionNeutral:"SegmentedControl_segmentedControlOptionNeutral__qAwSc",segmentedControlOptionPositive:"SegmentedControl_segmentedControlOptionPositive__5j2i5",segmentedControlOptionNegative:"SegmentedControl_segmentedControlOptionNegative__Ebwth",segmentedControlOptionActive:"SegmentedControl_segmentedControlOptionActive__xjLq_"}},1420:function(e){e.exports={overlay:"AddModalGlobal_overlay__GStQG",dialog:"AddModalGlobal_dialog__gDqlh",header:"AddModalGlobal_header__gWK_v",title:"AddModalGlobal_title___WcRe",closeButton:"AddModalGlobal_closeButton__b6hgf",content:"AddModalGlobal_content__r8ZC0",field:"AddModalGlobal_field__k3LP0",fieldLabel:"AddModalGlobal_fieldLabel__9BAya",input:"AddModalGlobal_input__IV5_4",textarea:"AddModalGlobal_textarea__6lAXs",footer:"AddModalGlobal_footer__Wg45v",primaryButton:"AddModalGlobal_primaryButton__d4J4i",secondaryButton:"AddModalGlobal_secondaryButton__bWdOu"}},5433:function(e){e.exports={root:"CustomizeColumnsModal_root__S62vs",backdrop:"CustomizeColumnsModal_backdrop__KsI9r",wrapper:"CustomizeColumnsModal_wrapper__6ztr8",panel:"CustomizeColumnsModal_panel__ZLz17",header:"CustomizeColumnsModal_header__TmdNU",title:"CustomizeColumnsModal_title__TfK0G",subtitle:"CustomizeColumnsModal_subtitle__rf2Uo",headerButtons:"CustomizeColumnsModal_headerButtons__yAJej",headerButton:"CustomizeColumnsModal_headerButton__L00Ha",closeButton:"CustomizeColumnsModal_closeButton__xoVWs",columnList:"CustomizeColumnsModal_columnList__z1Xq8",columnItem:"CustomizeColumnsModal_columnItem__mpdkU",columnDragHandle:"CustomizeColumnsModal_columnDragHandle__u75zi",columnChipBody:"CustomizeColumnsModal_columnChipBody__buOxr",columnMeta:"CustomizeColumnsModal_columnMeta__4EYqS",columnLabel:"CustomizeColumnsModal_columnLabel__66aBP",columnHint:"CustomizeColumnsModal_columnHint__2siCH",columnControls:"CustomizeColumnsModal_columnControls__h_pjp",lockBadge:"CustomizeColumnsModal_lockBadge__TqpyD",columnControlButton:"CustomizeColumnsModal_columnControlButton__wgBFC",pinControls:"CustomizeColumnsModal_pinControls__W2opQ",pinButton:"CustomizeColumnsModal_pinButton__zMbRc",backdropEnter:"CustomizeColumnsModal_backdropEnter__Mqd_x",backdropEnterFrom:"CustomizeColumnsModal_backdropEnterFrom__JhV_l",backdropEnterTo:"CustomizeColumnsModal_backdropEnterTo__mhAdT",backdropLeave:"CustomizeColumnsModal_backdropLeave__O24CR",backdropLeaveFrom:"CustomizeColumnsModal_backdropLeaveFrom__yiMXK",backdropLeaveTo:"CustomizeColumnsModal_backdropLeaveTo__SJnj_",panelEnter:"CustomizeColumnsModal_panelEnter__OF_WB",panelEnterFrom:"CustomizeColumnsModal_panelEnterFrom__kKO9T",panelEnterTo:"CustomizeColumnsModal_panelEnterTo__e0cn4",panelLeave:"CustomizeColumnsModal_panelLeave__9Y3as",panelLeaveFrom:"CustomizeColumnsModal_panelLeaveFrom__rQYF0",panelLeaveTo:"CustomizeColumnsModal_panelLeaveTo__2ML7s"}},6935:function(e){e.exports={container:"LoadingOverlay_container___ZyDl",spinner:"LoadingOverlay_spinner__wv42l",overlaySpin:"LoadingOverlay_overlaySpin__9N_1_",label:"LoadingOverlay_label__MX5yb"}},7096:function(e){e.exports={toolbar:"MiniToolbar_toolbar__8Fv_x",slideUp:"MiniToolbar_slideUp__zzBYE",count:"MiniToolbar_count__NJOTT",actions:"MiniToolbar_actions__lqgnP",actionButton:"MiniToolbar_actionButton__noD1U"}},3040:function(e){e.exports={root:"QuickAddModal_root__QaXsK",backdrop:"QuickAddModal_backdrop__EgMXK",wrapper:"QuickAddModal_wrapper__Qqnkr",panel:"QuickAddModal_panel__O6HKG",header:"QuickAddModal_header__ZZNa8",headerIcon:"QuickAddModal_headerIcon__3ZBJd",title:"QuickAddModal_title__FaFVs",subtitle:"QuickAddModal_subtitle__imxIX",closeButton:"QuickAddModal_closeButton__2YE5n",actionList:"QuickAddModal_actionList__U2NQ8",actionButton:"QuickAddModal_actionButton__des1N",actionIcon:"QuickAddModal_actionIcon__Ql3Ox",actionMeta:"QuickAddModal_actionMeta__GaJDE",actionLabel:"QuickAddModal_actionLabel__yLK58",actionDescription:"QuickAddModal_actionDescription__sjwpc",trigger:"QuickAddModal_trigger__TuxpH",triggerIcon:"QuickAddModal_triggerIcon__EZTuK",triggerLabel:"QuickAddModal_triggerLabel__cI5k2",backdropEnter:"QuickAddModal_backdropEnter__6DJFz",backdropEnterFrom:"QuickAddModal_backdropEnterFrom__CmPT5",backdropEnterTo:"QuickAddModal_backdropEnterTo__AccZ_",backdropLeave:"QuickAddModal_backdropLeave__CBheK",backdropLeaveFrom:"QuickAddModal_backdropLeaveFrom__bq0U7",backdropLeaveTo:"QuickAddModal_backdropLeaveTo__ZeaA4",panelEnter:"QuickAddModal_panelEnter__77MCJ",panelEnterFrom:"QuickAddModal_panelEnterFrom__Aj3oQ",panelEnterTo:"QuickAddModal_panelEnterTo__I4Upx",panelLeave:"QuickAddModal_panelLeave__Khhe3",panelLeaveFrom:"QuickAddModal_panelLeaveFrom__DDfJo",panelLeaveTo:"QuickAddModal_panelLeaveTo__x0lMl"}},1312:function(e){e.exports={tooltip:"Tooltip_tooltip__awbme"}},5042:function(){}}]);