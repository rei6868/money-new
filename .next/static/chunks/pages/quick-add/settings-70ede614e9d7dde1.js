(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{7081:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quick-add/settings",function(){return s(4365)}])},4365:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return QuickAddSettingsPage}});var i=s(5893),a=s(7294),d=s(9850),n=s(7134),r=s(3692),l=s(2568),c=s(7328),o=s.n(c);let u="money.quickAdd.shortcuts.v1",h=[{id:"income",label:"Income",description:"Capture paychecks or inflow transfers quickly."},{id:"expense",label:"Expense",description:"Track spending with pre-filled categories."},{id:"transfer",label:"Transfer",description:"Move funds between internal accounts."},{id:"refund",label:"Refund",description:"Credit an existing transaction."},{id:"cashAccount",label:"Cash account",description:"Open a petty cash or wallet ledger."},{id:"bankAccount",label:"Bank account",description:"Add a manual or synced bank account."},{id:"creditLine",label:"Credit line",description:"Log a credit card or revolving debt."},{id:"loanAccount",label:"Loan",description:"Track long-term liabilities or loans."}],p=[{id:"default-income",type:"income",label:"Salary hit",presetValues:JSON.stringify({category:"Salary",currency:"USD"},null,2),isActive:!0},{id:"default-expense",type:"expense",label:"Coffee run",presetValues:JSON.stringify({category:"Food & Dining",amount:8},null,2),isActive:!0},{id:"default-transfer",type:"transfer",label:"Sweep to savings",presetValues:JSON.stringify({fromAccount:"Checking",toAccount:"Savings",amount:100},null,2),isActive:!0}];function generateId(){return"undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID():"shortcut-".concat(Math.random().toString(36).slice(2,10))}function QuickAddSettingsPage(){let[e,t]=(0,a.useState)(()=>(function(){try{let e=window.localStorage.getItem(u);if(!e)return p.map(e=>({...e}));let t=JSON.parse(e);if(!Array.isArray(t))return p.map(e=>({...e}));return t.map(e=>{var t,s,i,a;return{...e,id:null!==(t=e.id)&&void 0!==t?t:generateId(),type:null!==(s=e.type)&&void 0!==s?s:"expense",label:null!==(i=e.label)&&void 0!==i?i:"Shortcut",presetValues:null!==(a=e.presetValues)&&void 0!==a?a:"{}",isActive:!1!==e.isActive}})}catch(e){return console.warn("Failed to load quick add shortcuts from storage",e),p.map(e=>({...e}))}})()),[s,c]=(0,a.useState)(!1);(0,a.useEffect)(()=>{c(!0)},[]),(0,a.useEffect)(()=>{s&&window.localStorage.setItem(u,JSON.stringify(e))},[s,e]);let _=(0,a.useMemo)(()=>new Map(h.map(e=>[e.id,e])),[]),handleUpdate=(e,s)=>{t(t=>t.map(t=>t.id===e?{...t,...s}:t))},handleRemove=e=>{t(t=>t.filter(t=>t.id!==e))};return(0,i.jsx)(l.Z,{title:"Quick add shortcuts",subtitle:"Tune your lightning-fast presets. Drag to reorder, toggle active states, and tailor defaults for each action.",children:(0,i.jsxs)("div",{className:o().page,children:[(0,i.jsxs)("section",{className:o().board,children:[(0,i.jsxs)("header",{className:o().boardHeader,children:[(0,i.jsxs)("div",{className:o().boardTitleGroup,children:[(0,i.jsx)("span",{className:o().boardIcon,"aria-hidden":!0,children:(0,i.jsx)(r.Wqx,{})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:o().boardTitle,children:"Shortcut stack"}),(0,i.jsx)("p",{className:o().boardSubtitle,children:"Arrange your go-to shortcuts. The first three appear on mobile quick access."})]})]}),(0,i.jsxs)("div",{className:o().boardActions,children:[(0,i.jsx)("button",{type:"button",className:o().secondaryButton,onClick:()=>{t(p.map(e=>({...e})))},children:"Restore defaults"}),(0,i.jsxs)("button",{type:"button",className:o().primaryButton,onClick:()=>{let[e]=h;t(t=>{var s;return[...t,{id:generateId(),type:null!==(s=null==e?void 0:e.id)&&void 0!==s?s:"expense",label:"New shortcut",presetValues:'{\n  "amount": 0\n}',isActive:!0}]})},children:[(0,i.jsx)(r.OvN,{"aria-hidden":!0})," Add shortcut"]})]})]}),(0,i.jsx)(d.M,{axis:"y",values:e,onReorder:e=>{t(e)},className:o().shortcutsList,children:e.map(e=>{let t=_.get(e.type);return(0,i.jsxs)(n.e,{value:e,className:o().shortcutItem,children:[(0,i.jsx)("span",{className:o().dragHandle,"aria-hidden":!0,children:(0,i.jsx)(r.uWH,{})}),(0,i.jsxs)("div",{className:o().shortcutBody,children:[(0,i.jsxs)("div",{className:o().shortcutHeader,children:[(0,i.jsx)("input",{type:"text",className:o().shortcutLabel,value:e.label,onChange:t=>handleUpdate(e.id,{label:t.target.value}),placeholder:"Shortcut label"}),(0,i.jsxs)("button",{type:"button",className:o().statusButton,"data-active":e.isActive?"true":void 0,onClick:()=>handleUpdate(e.id,{isActive:!e.isActive}),children:[(0,i.jsx)(r._rq,{"aria-hidden":!0}),e.isActive?"Active":"Paused"]})]}),(0,i.jsxs)("div",{className:o().shortcutMeta,children:[(0,i.jsxs)("label",{className:o().fieldGroup,children:[(0,i.jsx)("span",{className:o().fieldLabel,children:"Shortcut type"}),(0,i.jsx)("select",{className:o().fieldSelect,value:e.type,onChange:t=>handleUpdate(e.id,{type:t.target.value}),children:h.map(e=>(0,i.jsx)("option",{value:e.id,children:e.label},e.id))}),t?(0,i.jsx)("span",{className:o().fieldHint,children:t.description}):null]}),(0,i.jsxs)("label",{className:o().fieldGroup,children:[(0,i.jsx)("span",{className:o().fieldLabel,children:"Preset JSON"}),(0,i.jsx)("textarea",{className:o().fieldTextarea,rows:3,value:e.presetValues,onChange:t=>handleUpdate(e.id,{presetValues:t.target.value})}),(0,i.jsx)("span",{className:o().fieldHint,children:"Stored locally for now — sync coming soon."})]})]})]}),(0,i.jsx)("button",{type:"button",className:o().deleteButton,onClick:()=>handleRemove(e.id),"aria-label":"Remove shortcut ".concat(e.label),children:(0,i.jsx)(r.Ybf,{"aria-hidden":!0})})]},e.id)})})]}),(0,i.jsxs)("aside",{className:o().sidePanel,children:[(0,i.jsx)("h2",{className:o().sideTitle,children:"How shortcuts work"}),(0,i.jsxs)("p",{className:o().sideCopy,children:["Shortcuts power the ⚡ Quick Add modal. Each entry stores optional presets such as amount, category, account, notes, or any metadata you wish to reuse. They are saved to your browser today and ready for syncing to the ",(0,i.jsx)("code",{children:"quick_add_shortcut"})," table when persistence lands."]}),(0,i.jsxs)("ul",{className:o().sideList,children:[(0,i.jsx)("li",{children:"Drag items to reprioritise what shows up first."}),(0,i.jsxs)("li",{children:["Toggle ",(0,i.jsx)("strong",{children:"Active"})," to hide shortcuts without deleting them."]}),(0,i.jsx)("li",{children:"Use valid JSON for presets — it will be passed directly into the Add modal."})]})]})]})})}},7328:function(e){e.exports={page:"QuickAddSettings_page__sGr7H",board:"QuickAddSettings_board__MFf9c",boardHeader:"QuickAddSettings_boardHeader__Pudtz",boardTitleGroup:"QuickAddSettings_boardTitleGroup__HXVBq",boardIcon:"QuickAddSettings_boardIcon__K7JUB",boardTitle:"QuickAddSettings_boardTitle__XWGFC",boardSubtitle:"QuickAddSettings_boardSubtitle__l2pCH",boardActions:"QuickAddSettings_boardActions__M_lvN",primaryButton:"QuickAddSettings_primaryButton__2shUO",secondaryButton:"QuickAddSettings_secondaryButton__zj0HW",shortcutsList:"QuickAddSettings_shortcutsList__5TTBR",shortcutItem:"QuickAddSettings_shortcutItem__dwQcK",dragHandle:"QuickAddSettings_dragHandle__H1sTs",shortcutBody:"QuickAddSettings_shortcutBody__9M2V4",shortcutHeader:"QuickAddSettings_shortcutHeader__CxG9Q",shortcutLabel:"QuickAddSettings_shortcutLabel__Q1aVM",statusButton:"QuickAddSettings_statusButton__TRng4",shortcutMeta:"QuickAddSettings_shortcutMeta__5wmU3",fieldGroup:"QuickAddSettings_fieldGroup__Ps0xV",fieldLabel:"QuickAddSettings_fieldLabel__OdpSt",fieldSelect:"QuickAddSettings_fieldSelect__uMZda",fieldTextarea:"QuickAddSettings_fieldTextarea__nnmGu",fieldHint:"QuickAddSettings_fieldHint__Zqxts",deleteButton:"QuickAddSettings_deleteButton__V1RFd",sidePanel:"QuickAddSettings_sidePanel__R18ED",sideTitle:"QuickAddSettings_sideTitle__z7YzB",sideCopy:"QuickAddSettings_sideCopy__jorj0",sideList:"QuickAddSettings_sideList__Mj6JV"}}},function(e){e.O(0,[285,45,568,774,888,179],function(){return e(e.s=7081)}),_N_E=e.O()}]);