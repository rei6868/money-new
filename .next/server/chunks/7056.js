"use strict";exports.id=7056,exports.ids=[7056],exports.modules={7126:(e,t,a)=>{a.a(e,async(e,c)=>{try{a.d(t,{Bh:()=>u});var n=a(8358),o=a(3685),r=a(7492),s=e([n,o,r]);[n,o,r]=s.then?(await s)():s;let l=(0,n.pgEnum)("cashback_type",["percent","fixed"]),d=(0,n.pgEnum)("cashback_status",["init","applied","exceed_cap","invalidated"]),u=(0,n.pgTable)("cashback_movements",{cashbackMovementId:(0,n.varchar)("cashback_movement_id",{length:36}).primaryKey(),transactionId:(0,n.varchar)("transaction_id",{length:36}).notNull().references(()=>r.dx.transactionId,{onDelete:"restrict"}),accountId:(0,n.varchar)("account_id",{length:36}).notNull().references(()=>o.MI.accountId,{onDelete:"restrict"}),cycleTag:(0,n.varchar)("cycle_tag",{length:10}).notNull(),cashbackType:l("cashback_type").notNull(),cashbackValue:(0,n.numeric)("cashback_value",{precision:18,scale:4}).notNull(),cashbackAmount:(0,n.numeric)("cashback_amount",{precision:18,scale:2}).notNull(),status:d("status").notNull(),budgetCap:(0,n.numeric)("budget_cap",{precision:18,scale:2}),note:(0,n.text)("note"),createdAt:(0,n.timestamp)("created_at",{withTimezone:!0}).defaultNow().notNull(),updatedAt:(0,n.timestamp)("updated_at",{withTimezone:!0}).defaultNow().notNull()},e=>({accountCycleIdx:(0,n.index)("cashback_movements_account_cycle_idx").on(e.accountId,e.cycleTag)}));c()}catch(e){c(e)}})},7798:(e,t,a)=>{a.a(e,async(e,c)=>{try{a.d(t,{Rk:()=>d,iJ:()=>i});var n=a(8358),o=a(3685),r=a(6340),s=a(7492),l=e([n,o,r,s]);[n,o,r,s]=l.then?(await l)():l;let d=(0,n.pgEnum)("debt_movement_type",["borrow","repay","adjust","discount","split"]),u=(0,n.pgEnum)("debt_movement_status",["active","settled","reversed"]),i=(0,n.pgTable)("debt_movements",{debtMovementId:(0,n.varchar)("debt_movement_id",{length:36}).primaryKey(),transactionId:(0,n.varchar)("transaction_id",{length:36}).notNull().references(()=>s.dx.transactionId,{onDelete:"restrict"}),personId:(0,n.varchar)("person_id",{length:36}).notNull().references(()=>r.M.personId,{onDelete:"restrict"}),accountId:(0,n.varchar)("account_id",{length:36}).notNull().references(()=>o.MI.accountId,{onDelete:"restrict"}),movementType:d("movement_type").notNull(),amount:(0,n.numeric)("amount",{precision:18,scale:2}).notNull(),cycleTag:(0,n.varchar)("cycle_tag",{length:10}),status:u("status").notNull(),notes:(0,n.text)("notes"),createdAt:(0,n.timestamp)("created_at",{withTimezone:!0}).defaultNow().notNull(),updatedAt:(0,n.timestamp)("updated_at",{withTimezone:!0}).defaultNow().notNull()},e=>({personAccountIdx:(0,n.index)("debt_movements_person_account_idx").on(e.personId,e.accountId),accountCycleIdx:(0,n.index)("debt_movements_account_cycle_idx").on(e.accountId,e.cycleTag)}));c()}catch(e){c(e)}})}};